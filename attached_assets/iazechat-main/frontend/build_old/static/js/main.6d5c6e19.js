/*! For license information please see main.6d5c6e19.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,a)=>{var n=a(853),s=a(43),r=a(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(i(e)!==e)throw Error(o(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),j=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case x:return"Portal";case j:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return P(e(t))}catch(_t){}}return null}var z=Array.isArray,I=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},M=[],L=-1;function F(e){return{current:e}}function B(e){0>L||(e.current=M[L],M[L]=null,L--)}function q(e,t){L++,M[L]=e.current,e.current=t}var U,V,W=F(null),H=F(null),G=F(null),$=F(null);function K(e,t){switch(q(G,t),q(H,e),q(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),q(W,e)}function Q(){B(W),B(H),B(G)}function Y(e){null!==e.memoizedState&&q($,e);var t=W.current,a=bu(t,e.type);t!==a&&(q(H,e),q(W,a))}function X(e){H.current===e&&(B(W),B(H)),$.current===e&&(B($),um._currentValue=D)}function J(e){if(void 0===U)try{throw Error()}catch(_t){var t=_t.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",V=-1<_t.stack.indexOf("\n    at")?" (<anonymous>)":-1<_t.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+V}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(_t){var n=_t}Reflect.construct(e,[],a)}else{try{a.call()}catch(s){n=s}e.call(a.prototype)}}else{try{throw Error()}catch(r){n=r}(a=e())&&"function"===typeof a.catch&&a.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),o=r[0],l=r[1];if(o&&l){var i=o.split("\n"),c=l.split("\n");for(s=n=0;n<i.length&&!i[n].includes("DetermineComponentFrameRoot");)n++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(n===i.length||s===c.length)for(n=i.length-1,s=c.length-1;1<=n&&0<=s&&i[n]!==c[s];)s--;for(;1<=n&&0<=s;n--,s--)if(i[n]!==c[s]){if(1!==n||1!==s)do{if(n--,0>--s||i[n]!==c[s]){var d="\n"+i[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?J(a):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ae(e){try{var t="",a=null;do{t+=te(e,a),a=e,e=e.return}while(e);return t}catch(_t){return"\nError generating stack: "+_t.message+"\n"+_t.stack}}var ne=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,re=n.unstable_cancelCallback,oe=n.unstable_shouldYield,le=n.unstable_requestPaint,ie=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,me=n.unstable_NormalPriority,pe=n.unstable_LowPriority,he=n.unstable_IdlePriority,fe=n.log,xe=n.unstable_setDisableYieldValue,ge=null,ve=null;function be(e){if("function"===typeof fe&&xe(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ge,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(je(e)/we|0)|0},je=Math.log,we=Math.LN2;var Ne=256,ke=262144,_e=4194304;function Se(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,a){var n=e.pendingLanes;if(0===n)return 0;var s=0,r=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=134217727&n;return 0!==l?0!==(n=l&~r)?s=Se(n):0!==(o&=l)?s=Se(o):a||0!==(a=l&~e)&&(s=Se(a)):0!==(l=n&~r)?s=Se(l):0!==o?s=Se(o):a||0!==(a=n&~e)&&(s=Se(a)),0===s?0:0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(a=t&-t)||32===r&&0!==(4194048&a))?t:s}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Re(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ze(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ye(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&a}function Ie(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ye(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Oe(e,t){var a=t&-t;return 0!==((a=0!==(42&a)?1:De(a))&(e.suspendedLanes|t))?0:a}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Cm(e.type)}function Fe(e,t){var a=O.p;try{return O.p=e,t()}finally{O.p=a}}var Be=Math.random().toString(36).slice(2),qe="__reactFiber$"+Be,Ue="__reactProps$"+Be,Ve="__reactContainer$"+Be,We="__reactEvents$"+Be,He="__reactListeners$"+Be,Ge="__reactHandles$"+Be,$e="__reactResources$"+Be,Ke="__reactMarker$"+Be;function Qe(e){delete e[qe],delete e[Ue],delete e[We],delete e[He],delete e[Ge]}function Ye(e){var t=e[qe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ve]||a[qe]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=Mu(e);null!==e;){if(a=e[qe])return a;e=Mu(e)}return t}a=(e=a).parentNode}return null}function Xe(e){if(e=e[qe]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,at={};function nt(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(at[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},lt={};function it(e,t,a){if(s=t,ne.call(lt,s)||!ne.call(ot,s)&&(rt.test(s)?lt[s]=!0:(ot[s]=!0,0)))if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+a)}var s}function ct(e,t,a){if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+a)}}function dt(e,t,a,n){if(null===n)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(t,a,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=mt(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function gt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,a,n,s,r,o,l){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ut(t)):null!=a?yt(e,o,ut(a)):null!=n&&e.removeAttribute("value"),null==s&&null!=r&&(e.defaultChecked=!!r),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ut(l):e.removeAttribute("name")}function bt(e,t,a,n,s,r,o,l){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=a){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return void pt(e);a=null!=a?""+ut(a):"",t=null!=t?""+ut(t):a,l||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:s)&&"symbol"!==typeof n&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),pt(e)}function yt(e,t,a){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jt(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),t=null,s=0;s<e.length;s++){if(e[s].value===a)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function wt(e,t,a){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=a)?e.defaultValue=null!=a?""+ut(a):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,a,n){if(null==t){if(null!=n){if(null!=a)throw Error(o(92));if(z(n)){if(1<n.length)throw Error(o(93));n=n[0]}a=n}null==a&&(a=""),t=a}a=ut(t),e.defaultValue=a,(n=e.textContent)===a&&""!==n&&null!==n&&(e.value=n),pt(e)}function kt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,a){var n=0===t.indexOf("--");null==a||"boolean"===typeof a||""===a?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,a):"number"!==typeof a||0===a||St.has(t)?"float"===t?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Et(e,t,a){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=a){for(var n in a)!a.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&Ct(e,s,n)}else for(var r in t)t.hasOwnProperty(r)&&Ct(e,r,t[r])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zt(){}var It=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Mt=null;function Lt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var a=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[Ue]||null;if(!s)throw Error(o(90));vt(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)(n=a[t]).form===e.form&&ht(n)}break e;case"textarea":wt(e,a.value,a.defaultValue);break e;case"select":null!=(t=a.value)&&jt(e,!!a.multiple,t,!1)}}}var Ft=!1;function Bt(e,t,a){if(Ft)return e(t,a);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Dt||null!==Mt)&&(ed(),Dt&&(t=Dt,e=Mt,Mt=Dt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function qt(e,t){var a=e.stateNode;if(null===a)return null;var n=a[Ue]||null;if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(o(231,t,typeof a));return a}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Ut)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Jm){Vt=!1}var Ht=null,Gt=null,$t=null;function Kt(){if($t)return $t;var e,t,a=Gt,n=a.length,s="value"in Ht?Ht.value:Ht.textContent,r=s.length;for(e=0;e<n&&a[e]===s[e];e++);var o=n-e;for(t=1;t<=o&&a[n-t]===s[r-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function Jt(e){function t(t,a,n,s,r){for(var o in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Zt,ea,ta,aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Jt(aa),sa=p({},aa,{view:0,detail:0}),ra=Jt(sa),oa=p({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&"mousemove"===e.type?(Zt=e.screenX-ta.screenX,ea=e.screenY-ta.screenY):ea=Zt=0,ta=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),la=Jt(oa),ia=Jt(p({},oa,{dataTransfer:0})),ca=Jt(p({},sa,{relatedTarget:0})),da=Jt(p({},aa,{animationName:0,elapsedTime:0,pseudoElement:0})),ua=Jt(p({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ma=Jt(p({},aa,{data:0})),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ha={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fa[e])&&!!t[e]}function ga(){return xa}var va=Jt(p({},sa,{key:function(e){if(e.key){var t=pa[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ha[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ba=Jt(p({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ya=Jt(p({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga})),ja=Jt(p({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0})),wa=Jt(p({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Na=Jt(p({},aa,{newState:0,oldState:0})),ka=[9,13,27,32],_a=Ut&&"CompositionEvent"in window,Sa=null;Ut&&"documentMode"in document&&(Sa=document.documentMode);var Ca=Ut&&"TextEvent"in window&&!Sa,Ea=Ut&&(!_a||Sa&&8<Sa&&11>=Sa),Aa=String.fromCharCode(32),Ta=!1;function Ra(e,t){switch(e){case"keyup":return-1!==ka.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var za=!1;var Ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ia[e.type]:"textarea"===t}function Da(e,t,a,n){Dt?Mt?Mt.push(n):Mt=[n]:Dt=n,0<(t=su(t,"onChange")).length&&(a=new na("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ma=null,La=null;function Fa(e){Yd(e,0)}function Ba(e){if(ht(Je(e)))return e}function qa(e,t){if("change"===e)return t}var Ua=!1;if(Ut){var Va;if(Ut){var Wa="oninput"in document;if(!Wa){var Ha=document.createElement("div");Ha.setAttribute("oninput","return;"),Wa="function"===typeof Ha.oninput}Va=Wa}else Va=!1;Ua=Va&&(!document.documentMode||9<document.documentMode)}function Ga(){Ma&&(Ma.detachEvent("onpropertychange",$a),La=Ma=null)}function $a(e){if("value"===e.propertyName&&Ba(La)){var t=[];Da(t,La,e,Ot(e)),Bt(Fa,t)}}function Ka(e,t,a){"focusin"===e?(Ga(),La=a,(Ma=t).attachEvent("onpropertychange",$a)):"focusout"===e&&Ga()}function Qa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ba(La)}function Ya(e,t){if("click"===e)return Ba(t)}function Xa(e,t){if("input"===e||"change"===e)return Ba(t)}var Ja="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Za(e,t){if(Ja(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!ne.call(t,s)||!Ja(e[s],t[s]))return!1}return!0}function en(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tn(e,t){var a,n=en(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=en(n)}}function an(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?an(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=ft((e=t.contentWindow).document)}return t}function sn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rn=Ut&&"documentMode"in document&&11>=document.documentMode,on=null,ln=null,cn=null,dn=!1;function un(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;dn||null==on||on!==ft(n)||("selectionStart"in(n=on)&&sn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},cn&&Za(cn,n)||(cn=n,0<(n=su(ln,"onSelect")).length&&(t=new na("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=on)))}function mn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var pn={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionrun:mn("Transition","TransitionRun"),transitionstart:mn("Transition","TransitionStart"),transitioncancel:mn("Transition","TransitionCancel"),transitionend:mn("Transition","TransitionEnd")},hn={},fn={};function xn(e){if(hn[e])return hn[e];if(!pn[e])return e;var t,a=pn[e];for(t in a)if(a.hasOwnProperty(t)&&t in fn)return hn[e]=a[t];return e}Ut&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);var gn=xn("animationend"),vn=xn("animationiteration"),bn=xn("animationstart"),yn=xn("transitionrun"),jn=xn("transitionstart"),wn=xn("transitioncancel"),Nn=xn("transitionend"),kn=new Map,_n="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){kn.set(e,t),nt(t,[e])}_n.push("scrollEnd");var Cn="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},En=[],An=0,Tn=0;function Rn(){for(var e=An,t=Tn=An=0;t<e;){var a=En[t];En[t++]=null;var n=En[t];En[t++]=null;var s=En[t];En[t++]=null;var r=En[t];if(En[t++]=null,null!==n&&null!==s){var o=n.pending;null===o?s.next=s:(s.next=o.next,o.next=s),n.pending=s}0!==r&&On(a,s,r)}}function Pn(e,t,a,n){En[An++]=e,En[An++]=t,En[An++]=a,En[An++]=n,Tn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function zn(e,t,a,n){return Pn(e,t,a,n),Dn(e)}function In(e,t){return Pn(e,null,null,t),Dn(e)}function On(e,t,a){e.lanes|=a;var n=e.alternate;null!==n&&(n.lanes|=a);for(var s=!1,r=e.return;null!==r;)r.childLanes|=a,null!==(n=r.alternate)&&(n.childLanes|=a),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(s=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,s&&null!==t&&(s=31-ye(a),null===(n=(e=r.hiddenUpdates)[s])?e[s]=[t]:n.push(t),t.lane=536870912|a),r):null}function Dn(e){if(50<Hc)throw Hc=0,Gc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Ln(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,a,n){return new Ln(e,t,a,n)}function Bn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qn(e,t){var a=e.alternate;return null===a?((a=Fn(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=65011712&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Un(e,t){e.flags&=65011714;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vn(e,t,a,n,s,r){var l=0;if(n=e,"function"===typeof e)Bn(e)&&(l=1);else if("string"===typeof e)l=function(e,t,a){if(1===a||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,a,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Fn(31,a,t,s)).elementType=C,e.lanes=r,e;case g:return Wn(a.children,s,r,t);case v:l=8,s|=24;break;case b:return(e=Fn(12,a,t,2|s)).elementType=b,e.lanes=r,e;case N:return(e=Fn(13,a,t,s)).elementType=N,e.lanes=r,e;case k:return(e=Fn(19,a,t,s)).elementType=k,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:l=10;break e;case y:l=9;break e;case w:l=11;break e;case _:l=14;break e;case S:l=16,n=null;break e}l=29,a=Error(o(130,null===e?"null":typeof e,"")),n=null}return(t=Fn(l,a,t,s)).elementType=e,t.type=n,t.lanes=r,t}function Wn(e,t,a,n){return(e=Fn(7,e,n,t)).lanes=a,e}function Hn(e,t,a){return(e=Fn(6,e,null,t)).lanes=a,e}function Gn(e){var t=Fn(18,null,null,0);return t.stateNode=e,t}function $n(e,t,a){return(t=Fn(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kn=new WeakMap;function Qn(e,t){if("object"===typeof e&&null!==e){var a=Kn.get(e);return void 0!==a?a:(t={value:e,source:t,stack:ae(t)},Kn.set(e,t),t)}return{value:e,source:t,stack:ae(t)}}var Yn=[],Xn=0,Jn=null,Zn=0,es=[],ts=0,as=null,ns=1,ss="";function rs(e,t){Yn[Xn++]=Zn,Yn[Xn++]=Jn,Jn=e,Zn=t}function os(e,t,a){es[ts++]=ns,es[ts++]=ss,es[ts++]=as,as=e;var n=ns;e=ss;var s=32-ye(n)-1;n&=~(1<<s),a+=1;var r=32-ye(t)+s;if(30<r){var o=s-s%5;r=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ns=1<<32-ye(t)+s|a<<s|n,ss=r+e}else ns=1<<r|a<<s|n,ss=e}function ls(e){null!==e.return&&(rs(e,1),os(e,1,0))}function is(e){for(;e===Jn;)Jn=Yn[--Xn],Yn[Xn]=null,Zn=Yn[--Xn],Yn[Xn]=null;for(;e===as;)as=es[--ts],es[ts]=null,ss=es[--ts],es[ts]=null,ns=es[--ts],es[ts]=null}function cs(e,t){es[ts++]=ns,es[ts++]=ss,es[ts++]=as,ns=t.id,ss=t.overflow,as=e}var ds=null,us=null,ms=!1,ps=null,hs=!1,fs=Error(o(519));function xs(e){throw ws(Qn(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fs}function gs(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[qe]=e,t[Ue]=n,a){case"dialog":Xd("cancel",t),Xd("close",t);break;case"iframe":case"object":case"embed":Xd("load",t);break;case"video":case"audio":for(a=0;a<Kd.length;a++)Xd(Kd[a],t);break;case"source":Xd("error",t);break;case"img":case"image":case"link":Xd("error",t),Xd("load",t);break;case"details":Xd("toggle",t);break;case"input":Xd("invalid",t),bt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Xd("invalid",t);break;case"textarea":Xd("invalid",t),Nt(t,n.value,n.defaultValue,n.children)}"string"!==typeof(a=n.children)&&"number"!==typeof a&&"bigint"!==typeof a||t.textContent===""+a||!0===n.suppressHydrationWarning||du(t.textContent,a)?(null!=n.popover&&(Xd("beforetoggle",t),Xd("toggle",t)),null!=n.onScroll&&Xd("scroll",t),null!=n.onScrollEnd&&Xd("scrollend",t),null!=n.onClick&&(t.onclick=zt),t=!0):t=!1,t||xs(e,!0)}function vs(e){for(ds=e.return;ds;)switch(ds.tag){case 5:case 31:case 13:return void(hs=!1);case 27:case 3:return void(hs=!0);default:ds=ds.return}}function bs(e){if(e!==ds)return!1;if(!ms)return vs(e),ms=!0,!1;var t,a=e.tag;if((t=3!==a&&27!==a)&&((t=5===a)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yu(e.type,e.memoizedProps)),t=!t),t&&us&&xs(e),vs(e),13===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));us=Du(e)}else if(31===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));us=Du(e)}else 27===a?(a=us,Cu(e.type)?(e=Ou,Ou=null,us=e):us=a):us=ds?Iu(e.stateNode.nextSibling):null;return!0}function ys(){us=ds=null,ms=!1}function js(){var e=ps;return null!==e&&(null===Rc?Rc=e:Rc.push.apply(Rc,e),ps=null),e}function ws(e){null===ps?ps=[e]:ps.push(e)}var Ns=F(null),ks=null,_s=null;function Ss(e,t,a){q(Ns,t._currentValue),t._currentValue=a}function Cs(e){e._currentValue=Ns.current,B(Ns)}function Es(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function As(e,t,a,n){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var r=s.dependencies;if(null!==r){var l=s.child;r=r.firstContext;e:for(;null!==r;){var i=r;r=s;for(var c=0;c<t.length;c++)if(i.context===t[c]){r.lanes|=a,null!==(i=r.alternate)&&(i.lanes|=a),Es(r.return,a,e),n||(l=null);break e}r=i.next}}else if(18===s.tag){if(null===(l=s.return))throw Error(o(341));l.lanes|=a,null!==(r=l.alternate)&&(r.lanes|=a),Es(l,a,e),l=null}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===e){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}function Ts(e,t,a,n){e=null;for(var s=t,r=!1;null!==s;){if(!r)if(0!==(524288&s.flags))r=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var l=s.alternate;if(null===l)throw Error(o(387));if(null!==(l=l.memoizedProps)){var i=s.type;Ja(s.pendingProps.value,l.value)||(null!==e?e.push(i):e=[i])}}else if(s===$.current){if(null===(l=s.alternate))throw Error(o(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(um):e=[um])}s=s.return}null!==e&&As(t,e,a,n),t.flags|=262144}function Rs(e){for(e=e.firstContext;null!==e;){if(!Ja(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){ks=e,_s=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function zs(e){return Os(ks,e)}function Is(e,t){return null===ks&&Ps(e),Os(e,t)}function Os(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},null===_s){if(null===e)throw Error(o(308));_s=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _s=_s.next=t;return a}var Ds="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ms=n.unstable_scheduleCallback,Ls=n.unstable_NormalPriority,Fs={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bs(){return{controller:new Ds,data:new Map,refCount:0}}function qs(e){e.refCount--,0===e.refCount&&Ms(Ls,function(){e.controller.abort()})}var Us=null,Vs=0,Ws=0,Hs=null;function Gs(){if(0===--Vs&&null!==Us){null!==Hs&&(Hs.status="fulfilled");var e=Us;Us=null,Ws=0,Hs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $s=I.S;I.S=function(e,t){Ic=ie(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Us){var a=Us=[];Vs=0,Ws=Vd(),Hs={status:"pending",value:void 0,then:function(e){a.push(e)}}}Vs++,t.then(Gs,Gs)}(0,t),null!==$s&&$s(e,t)};var Ks=F(null);function Qs(){var e=Ks.current;return null!==e?e:fc.pooledCache}function Ys(e,t){q(Ks,null===t?Ks.current:t.pool)}function Xs(){var e=Qs();return null===e?null:{parent:Fs._currentValue,pool:e}}var Js=Error(o(460)),Zs=Error(o(474)),er=Error(o(542)),tr={then:function(){}};function ar(e){return"fulfilled"===(e=e.status)||"rejected"===e}function nr(e,t,a){switch(void 0===(a=e[a])?e.push(t):a!==t&&(t.then(zt,zt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw lr(e=t.reason),e;default:if("string"===typeof t.status)t.then(zt,zt);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var a=t;a.status="fulfilled",a.value=e}},function(e){if("pending"===t.status){var a=t;a.status="rejected",a.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw lr(e=t.reason),e}throw rr=t,Js}}function sr(e){try{return(0,e._init)(e._payload)}catch(_t){if(null!==_t&&"object"===typeof _t&&"function"===typeof _t.then)throw rr=_t,Js;throw _t}}var rr=null;function or(){if(null===rr)throw Error(o(459));var e=rr;return rr=null,e}function lr(e){if(e===Js||e===er)throw Error(o(483))}var ir=null,cr=0;function dr(e){var t=cr;return cr+=1,null===ir&&(ir=[]),nr(ir,e,t)}function ur(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function mr(e,t){if(t.$$typeof===h)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pr(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=qn(e,t)).index=0,e.sibling=null,e}function r(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=67108866,a):n:(t.flags|=67108866,a):(t.flags|=1048576,a)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,a,n){return null===t||6!==t.tag?((t=Hn(a,e.mode,n)).return=e,t):((t=s(t,a)).return=e,t)}function c(e,t,a,n){var r=a.type;return r===g?u(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===S&&sr(r)===t.type)?(ur(t=s(t,a.props),a),t.return=e,t):(ur(t=Vn(a.type,a.key,a.props,null,e.mode,n),a),t.return=e,t)}function d(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=$n(a,e.mode,n)).return=e,t):((t=s(t,a.children||[])).return=e,t)}function u(e,t,a,n,r){return null===t||7!==t.tag?((t=Wn(a,e.mode,n,r)).return=e,t):((t=s(t,a)).return=e,t)}function m(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hn(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ur(a=Vn(t.type,t.key,t.props,null,e.mode,a),t),a.return=e,a;case x:return(t=$n(t,e.mode,a)).return=e,t;case S:return m(e,t=sr(t),a)}if(z(t)||T(t))return(t=Wn(t,e.mode,a,null)).return=e,t;if("function"===typeof t.then)return m(e,dr(t),a);if(t.$$typeof===j)return m(e,Is(e,t),a);mr(e,t)}return null}function p(e,t,a,n){var s=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return null!==s?null:i(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return a.key===s?c(e,t,a,n):null;case x:return a.key===s?d(e,t,a,n):null;case S:return p(e,t,a=sr(a),n)}if(z(a)||T(a))return null!==s?null:u(e,t,a,n,null);if("function"===typeof a.then)return p(e,t,dr(a),n);if(a.$$typeof===j)return p(e,t,Is(e,a),n);mr(e,a)}return null}function h(e,t,a,n,s){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return i(t,e=e.get(a)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return c(t,e=e.get(null===n.key?a:n.key)||null,n,s);case x:return d(t,e=e.get(null===n.key?a:n.key)||null,n,s);case S:return h(e,t,a,n=sr(n),s)}if(z(n)||T(n))return u(t,e=e.get(a)||null,n,s,null);if("function"===typeof n.then)return h(e,t,a,dr(n),s);if(n.$$typeof===j)return h(e,t,a,Is(t,n),s);mr(t,n)}return null}function v(i,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===g){if(7===c.tag){a(i,c.sibling),(u=s(c,d.props.children)).return=i,i=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===S&&sr(b)===c.type){a(i,c.sibling),ur(u=s(c,d.props),d),u.return=i,i=u;break e}a(i,c);break}t(i,c),c=c.sibling}d.type===g?((u=Wn(d.props.children,i.mode,u,d.key)).return=i,i=u):(ur(u=Vn(d.type,d.key,d.props,null,i.mode,u),d),u.return=i,i=u)}return l(i);case x:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){a(i,c.sibling),(u=s(c,d.children||[])).return=i,i=u;break e}a(i,c);break}t(i,c),c=c.sibling}(u=$n(d,i.mode,u)).return=i,i=u}return l(i);case S:return v(i,c,d=sr(d),u)}if(z(d))return function(s,o,l,i){for(var c=null,d=null,u=o,f=o=0,x=null;null!==u&&f<l.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=p(s,u,l[f],i);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(s,u),o=r(g,o,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===l.length)return a(s,u),ms&&rs(s,f),c;if(null===u){for(;f<l.length;f++)null!==(u=m(s,l[f],i))&&(o=r(u,o,f),null===d?c=u:d.sibling=u,d=u);return ms&&rs(s,f),c}for(u=n(u);f<l.length;f++)null!==(x=h(u,s,f,l[f],i))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),o=r(x,o,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(s,e)}),ms&&rs(s,f),c}(i,c,d,u);if(T(d)){if("function"!==typeof(b=T(d)))throw Error(o(150));return function(s,l,i,c){if(null==i)throw Error(o(151));for(var d=null,u=null,f=l,x=l=0,g=null,v=i.next();null!==f&&!v.done;x++,v=i.next()){f.index>x?(g=f,f=null):g=f.sibling;var b=p(s,f,v.value,c);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(s,f),l=r(b,l,x),null===u?d=b:u.sibling=b,u=b,f=g}if(v.done)return a(s,f),ms&&rs(s,x),d;if(null===f){for(;!v.done;x++,v=i.next())null!==(v=m(s,v.value,c))&&(l=r(v,l,x),null===u?d=v:u.sibling=v,u=v);return ms&&rs(s,x),d}for(f=n(f);!v.done;x++,v=i.next())null!==(v=h(f,s,x,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?x:v.key),l=r(v,l,x),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(s,e)}),ms&&rs(s,x),d}(i,c,d=b.call(d),u)}if("function"===typeof d.then)return v(i,c,dr(d),u);if(d.$$typeof===j)return v(i,c,Is(i,d),u);mr(i,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(a(i,c.sibling),(u=s(c,d)).return=i,i=u):(a(i,c),(u=Hn(d,i.mode,u)).return=i,i=u),l(i)):a(i,c)}return function(e,t,a,n){try{cr=0;var s=v(e,t,a,n);return ir=null,s}catch(_t){if(_t===Js||_t===er)throw _t;var r=Fn(29,_t,null,e.mode);return r.lanes=n,r.return=e,r}}}var hr=pr(!0),fr=pr(!1),xr=!1;function gr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&hc)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=Dn(e),On(e,null,a),t}return Pn(e,n,t,a),Dn(e)}function jr(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,Ie(e,a)}}function wr(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var s=null,r=null;if(null!==(a=a.firstBaseUpdate)){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===r?s=r=o:r=r.next=o,a=a.next}while(null!==a);null===r?s=r=t:r=r.next=t}else s=r=t;return a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Nr=!1;function kr(){if(Nr){if(null!==Hs)throw Hs}}function _r(e,t,a,n){Nr=!1;var s=e.updateQueue;xr=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var i=l,c=i.next;i.next=null,null===o?r=c:o.next=c,o=i;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=i))}if(null!==r){var u=s.baseState;for(o=0,d=c=i=null,l=r;;){var m=-536870913&l.lane,h=m!==l.lane;if(h?(gc&m)===m:(n&m)===m){0!==m&&m===Ws&&(Nr=!0),null!==d&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var f=e,x=l;m=t;var g=a;switch(x.tag){case 1:if("function"===typeof(f=x.payload)){u=f.call(g,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=x.payload)?f.call(g,u,m):f)||void 0===m)break e;u=p({},u,m);break e;case 2:xr=!0}}null!==(m=l.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=s.callbacks)?s.callbacks=[m]:h.push(m))}else h={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=h,i=u):d=d.next=h,o|=m;if(null===(l=l.next)){if(null===(l=s.shared.pending))break;l=(h=l).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}null===d&&(i=u),s.baseState=i,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null===r&&(s.shared.lanes=0),_c|=o,e.lanes=o,e.memoizedState=u}}function Sr(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Cr(e,t){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)Sr(a[e],t)}var Er=F(null),Ar=F(0);function Tr(e,t){q(Ar,e=Nc),q(Er,t),Nc=e|t.baseLanes}function Rr(){q(Ar,Nc),q(Er,Er.current)}function Pr(){Nc=Ar.current,B(Er),B(Ar)}var zr=F(null),Ir=null;function Or(e){var t=e.alternate;q(Br,1&Br.current),q(zr,e),null===Ir&&(null===t||null!==Er.current||null!==t.memoizedState)&&(Ir=e)}function Dr(e){q(Br,Br.current),q(zr,e),null===Ir&&(Ir=e)}function Mr(e){22===e.tag?(q(Br,Br.current),q(zr,e),null===Ir&&(Ir=e)):Lr()}function Lr(){q(Br,Br.current),q(zr,zr.current)}function Fr(e){B(zr),Ir===e&&(Ir=null),B(Br)}var Br=F(0);function qr(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||Pu(a)||zu(a)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ur=0,Vr=null,Wr=null,Hr=null,Gr=!1,$r=!1,Kr=!1,Qr=0,Yr=0,Xr=null,Jr=0;function Zr(){throw Error(o(321))}function eo(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ja(e[a],t[a]))return!1;return!0}function to(e,t,a,n,s,r){return Ur=r,Vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?gl:vl,Kr=!1,r=a(n,s),Kr=!1,$r&&(r=no(t,a,n,s)),ao(e),r}function ao(e){I.H=xl;var t=null!==Wr&&null!==Wr.next;if(Ur=0,Hr=Wr=Vr=null,Gr=!1,Yr=0,Xr=null,t)throw Error(o(300));null===e||Il||null!==(e=e.dependencies)&&Rs(e)&&(Il=!0)}function no(e,t,a,n){Vr=e;var s=0;do{if($r&&(Xr=null),Yr=0,$r=!1,25<=s)throw Error(o(301));if(s+=1,Hr=Wr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}I.H=bl,r=t(a,n)}while($r);return r}function so(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?uo(t):t,e=e.useState()[0],(null!==Wr?Wr.memoizedState:null)!==e&&(Vr.flags|=1024),t}function ro(){var e=0!==Qr;return Qr=0,e}function oo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function lo(e){if(Gr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Gr=!1}Ur=0,Hr=Wr=Vr=null,$r=!1,Yr=Qr=0,Xr=null}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hr?Vr.memoizedState=Hr=e:Hr=Hr.next=e,Hr}function co(){if(null===Wr){var e=Vr.alternate;e=null!==e?e.memoizedState:null}else e=Wr.next;var t=null===Hr?Vr.memoizedState:Hr.next;if(null!==t)Hr=t,Wr=e;else{if(null===e){if(null===Vr.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Wr=e).memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},null===Hr?Vr.memoizedState=Hr=e:Hr=Hr.next=e}return Hr}function uo(e){var t=Yr;return Yr+=1,null===Xr&&(Xr=[]),e=nr(Xr,e,t),t=Vr,null===(null===Hr?t.memoizedState:Hr.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?gl:vl),e}function mo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return uo(e);if(e.$$typeof===j)return zs(e)}throw Error(o(438,String(e)))}function po(e){var t=null,a=Vr.updateQueue;if(null!==a&&(t=a.memoCache),null==t){var n=Vr.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=a),a.memoCache=t,void 0===(a=t.data[t.index]))for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=E;return t.index++,a}function ho(e,t){return"function"===typeof t?t(e):t}function fo(e){return xo(co(),Wr,e)}function xo(e,t,a){var n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=a;var s=e.baseQueue,r=n.pending;if(null!==r){if(null!==s){var l=s.next;s.next=r.next,r.next=l}t.baseQueue=s=r,n.pending=null}if(r=e.baseState,null===s)e.memoizedState=r;else{var i=l=null,c=null,d=t=s.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(gc&m)===m:(Ur&m)===m){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Ws&&(u=!0);else{if((Ur&p)===p){d=d.next,p===Ws&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=m,l=r):c=c.next=m,Vr.lanes|=p,_c|=p}m=d.action,Kr&&a(r,m),r=d.hasEagerState?d.eagerState:a(r,m)}else p={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(i=c=p,l=r):c=c.next=p,Vr.lanes|=m,_c|=m;d=d.next}while(null!==d&&d!==t);if(null===c?l=r:c.next=i,!Ja(r,e.memoizedState)&&(Il=!0,u&&null!==(a=Hs)))throw a;e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}return null===s&&(n.lanes=0),[e.memoizedState,n.dispatch]}function go(e){var t=co(),a=t.queue;if(null===a)throw Error(o(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,r=t.memoizedState;if(null!==s){a.pending=null;var l=s=s.next;do{r=e(r,l.action),l=l.next}while(l!==s);Ja(r,t.memoizedState)||(Il=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),a.lastRenderedState=r}return[r,n]}function vo(e,t,a){var n=Vr,s=co(),r=ms;if(r){if(void 0===a)throw Error(o(407));a=a()}else a=t();var l=!Ja((Wr||s).memoizedState,a);if(l&&(s.memoizedState=a,Il=!0),s=s.queue,Vo(jo.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||null!==Hr&&1&Hr.memoizedState.tag){if(n.flags|=2048,Lo(9,{destroy:void 0},yo.bind(null,n,s,a,t),null),null===fc)throw Error(o(349));r||0!==(127&Ur)||bo(n,t,a)}return a}function bo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=Vr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function yo(e,t,a,n){t.value=a,t.getSnapshot=n,wo(t)&&No(e)}function jo(e,t,a){return a(function(){wo(t)&&No(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ja(e,a)}catch(n){return!0}}function No(e){var t=In(e,2);null!==t&&Qc(t,e,2)}function ko(e){var t=io();if("function"===typeof e){var a=e;if(e=a(),Kr){be(!0);try{a()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:e},t}function _o(e,t,a,n){return e.baseState=a,xo(e,Wr,"function"===typeof n?n:ho)}function So(e,t,a,n,s){if(pl(e))throw Error(o(485));if(null!==(e=t.action)){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==I.T?a(!0):r.isTransition=!1,n(r),null===(a=t.pending)?(r.next=t.pending=r,Co(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Co(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var r=I.T,o={};I.T=o;try{var l=a(s,n),i=I.S;null!==i&&i(o,l),Eo(e,t,l)}catch(c){To(e,t,c)}finally{null!==r&&null!==o.types&&(r.types=o.types),I.T=r}}else try{Eo(e,t,r=a(s,n))}catch(d){To(e,t,d)}}function Eo(e,t,a){null!==a&&"object"===typeof a&&"function"===typeof a.then?a.then(function(a){Ao(e,t,a)},function(a){return To(e,t,a)}):Ao(e,t,a)}function Ao(e,t,a){t.status="fulfilled",t.value=a,Ro(t),e.state=a,null!==(t=e.pending)&&((a=t.next)===t?e.pending=null:(a=a.next,t.next=a,Co(e,a)))}function To(e,t,a){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=a,Ro(t),t=t.next}while(t!==n)}e.action=null}function Ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function zo(e,t){if(ms){var a=fc.formState;if(null!==a){e:{var n=Vr;if(ms){if(us){t:{for(var s=us,r=hs;8!==s.nodeType;){if(!r){s=null;break t}if(null===(s=Iu(s.nextSibling))){s=null;break t}}s="F!"===(r=s.data)||"F"===r?s:null}if(s){us=Iu(s.nextSibling),n="F!"===s.data;break e}}xs(n)}n=!1}n&&(t=a[0])}}return(a=io()).memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},a.queue=n,a=dl.bind(null,Vr,n),n.dispatch=a,n=ko(!1),r=ml.bind(null,Vr,!1,n.queue),s={state:t,dispatch:null,action:e,pending:null},(n=io()).queue=s,a=So.bind(null,Vr,s,r,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function Io(e){return Oo(co(),Wr,e)}function Oo(e,t,a){if(t=xo(e,t,Po)[0],e=fo(ho)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=uo(t)}catch(_t){if(_t===Js)throw er;throw _t}else n=t;var s=(t=co()).queue,r=s.dispatch;return a!==t.memoizedState&&(Vr.flags|=2048,Lo(9,{destroy:void 0},Do.bind(null,s,a),null)),[n,r,e]}function Do(e,t){e.action=t}function Mo(e){var t=co(),a=Wr;if(null!==a)return Oo(t,a,e);co(),t=t.memoizedState;var n=(a=co()).queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Lo(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},null===(t=Vr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=t),null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Fo(){return co().memoizedState}function Bo(e,t,a,n){var s=io();Vr.flags|=e,s.memoizedState=Lo(1|t,{destroy:void 0},a,void 0===n?null:n)}function qo(e,t,a,n){var s=co();n=void 0===n?null:n;var r=s.memoizedState.inst;null!==Wr&&null!==n&&eo(n,Wr.memoizedState.deps)?s.memoizedState=Lo(t,r,a,n):(Vr.flags|=e,s.memoizedState=Lo(1|t,r,a,n))}function Uo(e,t){Bo(8390656,8,e,t)}function Vo(e,t){qo(2048,8,e,t)}function Wo(e){var t=co().memoizedState;return function(e){Vr.flags|=4;var t=Vr.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=t,t.events=[e];else{var a=t.events;null===a?t.events=[e]:a.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ho(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function $o(e,t){if("function"===typeof t){e=e();var a=t(e);return function(){"function"===typeof a?a():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ko(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,qo(4,4,$o.bind(null,t,e),a)}function Qo(){}function Yo(e,t){var a=co();t=void 0===t?null:t;var n=a.memoizedState;return null!==t&&eo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Xo(e,t){var a=co();t=void 0===t?null:t;var n=a.memoizedState;if(null!==t&&eo(t,n[1]))return n[0];if(n=e(),Kr){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[n,t],n}function Jo(e,t,a){return void 0===a||0!==(1073741824&Ur)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=a,e=Kc(),Vr.lanes|=e,_c|=e,a)}function Zo(e,t,a,n){return Ja(a,t)?a:null!==Er.current?(e=Jo(e,a,n),Ja(e,t)||(Il=!0),e):0===(42&Ur)||0!==(1073741824&Ur)&&0===(261930&gc)?(Il=!0,e.memoizedState=a):(e=Kc(),Vr.lanes|=e,_c|=e,t)}function el(e,t,a,n,s){var r=O.p;O.p=0!==r&&8>r?r:8;var o=I.T,l={};I.T=l,ml(e,!1,t,a);try{var i=s(),c=I.S;if(null!==c&&c(l,i),null!==i&&"object"===typeof i&&"function"===typeof i.then)ul(e,t,function(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<a.length;e++)(0,a[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),n}(i,n),$c());else ul(e,t,n,$c())}catch(d){ul(e,t,{then:function(){},status:"rejected",reason:d},$c())}finally{O.p=r,null!==o&&null!==l.types&&(o.types=l.types),I.T=o}}function tl(){}function al(e,t,a,n){if(5!==e.tag)throw Error(o(476));var s=nl(e).queue;el(e,s,t,D,null===a?tl:function(){return sl(e),a(n)})}function nl(e){var t=e.memoizedState;if(null!==t)return t;var a={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:D},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:a},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function sl(e){var t=nl(e);null===t.next&&(t=e.alternate.memoizedState),ul(e,t.next.queue,{},$c())}function rl(){return zs(um)}function ol(){return co().memoizedState}function ll(){return co().memoizedState}function il(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var a=$c(),n=yr(t,e=br(a),a);return null!==n&&(Qc(n,t,a),jr(n,t,a)),t={cache:Bs()},void(e.payload=t)}t=t.return}}function cl(e,t,a){var n=$c();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pl(e)?hl(t,a):null!==(a=zn(e,t,a,n))&&(Qc(a,e,n),fl(a,t,n))}function dl(e,t,a){ul(e,t,a,$c())}function ul(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pl(e))hl(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=r(o,a);if(s.hasEagerState=!0,s.eagerState=l,Ja(l,o))return Pn(e,t,s,0),null===fc&&Rn(),!1}catch(i){}if(null!==(a=zn(e,t,s,n)))return Qc(a,e,n),fl(a,t,n),!0}return!1}function ml(e,t,a,n){if(n={lane:2,revertLane:Vd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pl(e)){if(t)throw Error(o(479))}else null!==(t=zn(e,a,n,2))&&Qc(t,e,2)}function pl(e){var t=e.alternate;return e===Vr||null!==t&&t===Vr}function hl(e,t){$r=Gr=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function fl(e,t,a){if(0!==(4194048&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,Ie(e,a)}}var xl={readContext:zs,use:mo,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useLayoutEffect:Zr,useInsertionEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useSyncExternalStore:Zr,useId:Zr,useHostTransitionStatus:Zr,useFormState:Zr,useActionState:Zr,useOptimistic:Zr,useMemoCache:Zr,useCacheRefresh:Zr};xl.useEffectEvent=Zr;var gl={readContext:zs,use:mo,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:zs,useEffect:Uo,useImperativeHandle:function(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Bo(4194308,4,$o.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){Bo(4,2,e,t)},useMemo:function(e,t){var a=io();t=void 0===t?null:t;var n=e();if(Kr){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=io();if(void 0!==a){var s=a(t);if(Kr){be(!0);try{a(t)}finally{be(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=cl.bind(null,Vr,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},io().memoizedState=e},useState:function(e){var t=(e=ko(e)).queue,a=dl.bind(null,Vr,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Qo,useDeferredValue:function(e,t){return Jo(io(),e,t)},useTransition:function(){var e=ko(!1);return e=el.bind(null,Vr,e.queue,!0,!1),io().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Vr,s=io();if(ms){if(void 0===a)throw Error(o(407));a=a()}else{if(a=t(),null===fc)throw Error(o(349));0!==(127&gc)||bo(n,t,a)}s.memoizedState=a;var r={value:a,getSnapshot:t};return s.queue=r,Uo(jo.bind(null,n,r,e),[e]),n.flags|=2048,Lo(9,{destroy:void 0},yo.bind(null,n,r,a,t),null),a},useId:function(){var e=io(),t=fc.identifierPrefix;if(ms){var a=ss;t="_"+t+"R_"+(a=(ns&~(1<<32-ye(ns)-1)).toString(32)+a),0<(a=Qr++)&&(t+="H"+a.toString(32)),t+="_"}else t="_"+t+"r_"+(a=Jr++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rl,useFormState:zo,useActionState:zo,useOptimistic:function(e){var t=io();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ml.bind(null,Vr,!0,a),a.dispatch=t,[e,t]},useMemoCache:po,useCacheRefresh:function(){return io().memoizedState=il.bind(null,Vr)},useEffectEvent:function(e){var t=io(),a={impl:e};return t.memoizedState=a,function(){if(0!==(2&hc))throw Error(o(440));return a.impl.apply(void 0,arguments)}}},vl={readContext:zs,use:mo,useCallback:Yo,useContext:zs,useEffect:Vo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:fo,useRef:Fo,useState:function(){return fo(ho)},useDebugValue:Qo,useDeferredValue:function(e,t){return Zo(co(),Wr.memoizedState,e,t)},useTransition:function(){var e=fo(ho)[0],t=co().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:vo,useId:ol,useHostTransitionStatus:rl,useFormState:Io,useActionState:Io,useOptimistic:function(e,t){return _o(co(),0,e,t)},useMemoCache:po,useCacheRefresh:ll};vl.useEffectEvent=Wo;var bl={readContext:zs,use:mo,useCallback:Yo,useContext:zs,useEffect:Vo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:go,useRef:Fo,useState:function(){return go(ho)},useDebugValue:Qo,useDeferredValue:function(e,t){var a=co();return null===Wr?Jo(a,e,t):Zo(a,Wr.memoizedState,e,t)},useTransition:function(){var e=go(ho)[0],t=co().memoizedState;return["boolean"===typeof e?e:uo(e),t]},useSyncExternalStore:vo,useId:ol,useHostTransitionStatus:rl,useFormState:Mo,useActionState:Mo,useOptimistic:function(e,t){var a=co();return null!==Wr?_o(a,0,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:po,useCacheRefresh:ll};function yl(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:p({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}bl.useEffectEvent=Wo;var jl={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=$c(),s=br(n);s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=yr(e,s,n))&&(Qc(t,e,n),jr(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=$c(),s=br(n);s.tag=1,s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=yr(e,s,n))&&(Qc(t,e,n),jr(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=$c(),n=br(a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=yr(e,n,a))&&(Qc(t,e,a),jr(t,e,a))}};function wl(e,t,a,n,s,r,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!Za(a,n)||!Za(s,r))}function Nl(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function kl(e,t){var a=t;if("ref"in t)for(var n in a={},t)"ref"!==n&&(a[n]=t[n]);if(e=e.defaultProps)for(var s in a===t&&(a=p({},a)),e)void 0===a[s]&&(a[s]=e[s]);return a}function _l(e){Cn(e)}function Sl(e){console.error(e)}function Cl(e){Cn(e)}function El(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Al(e,t,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Tl(e,t,a){return(a=br(a)).tag=3,a.payload={element:null},a.callback=function(){El(e,t)},a}function Rl(e){return(e=br(e)).tag=3,e}function Pl(e,t,a,n){var s=a.type.getDerivedStateFromError;if("function"===typeof s){var r=n.value;e.payload=function(){return s(r)},e.callback=function(){Al(t,a,n)}}var o=a.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Al(t,a,n),"function"!==typeof s&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var zl=Error(o(461)),Il=!1;function Ol(e,t,a,n){t.child=null===e?fr(t,null,a,n):hr(t,e.child,a,n)}function Dl(e,t,a,n,s){a=a.render;var r=t.ref;if("ref"in n){var o={};for(var l in n)"ref"!==l&&(o[l]=n[l])}else o=n;return Ps(t),n=to(e,t,a,o,r,s),l=ro(),null===e||Il?(ms&&l&&ls(t),t.flags|=1,Ol(e,t,n,s),t.child):(oo(e,t,s),ri(e,t,s))}function Ml(e,t,a,n,s){if(null===e){var r=a.type;return"function"!==typeof r||Bn(r)||void 0!==r.defaultProps||null!==a.compare?((e=Vn(a.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ll(e,t,r,n,s))}if(r=e.child,!oi(e,s)){var o=r.memoizedProps;if((a=null!==(a=a.compare)?a:Za)(o,n)&&e.ref===t.ref)return ri(e,t,s)}return t.flags|=1,(e=qn(r,n)).ref=t.ref,e.return=t,t.child=e}function Ll(e,t,a,n,s){if(null!==e){var r=e.memoizedProps;if(Za(r,n)&&e.ref===t.ref){if(Il=!1,t.pendingProps=n=r,!oi(e,s))return t.lanes=e.lanes,ri(e,t,s);0!==(131072&e.flags)&&(Il=!0)}}return Hl(e,t,a,n,s)}function Fl(e,t,a,n){var s=n.children,r=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(r=null!==r?r.baseLanes|a:a,null!==e){for(n=t.child=e.child,s=0;null!==n;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~r}else n=0,t.child=null;return ql(e,t,r,a,n)}if(0===(536870912&a))return n=t.lanes=536870912,ql(e,t,null!==r?r.baseLanes|a:a,a,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ys(0,null!==r?r.cachePool:null),null!==r?Tr(t,r):Rr(),Mr(t)}else null!==r?(Ys(0,r.cachePool),Tr(t,r),Lr(),t.memoizedState=null):(null!==e&&Ys(0,null),Rr(),Lr());return Ol(e,t,s,a),t.child}function Bl(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ql(e,t,a,n,s){var r=Qs();return r=null===r?null:{parent:Fs._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},null!==e&&Ys(0,null),Rr(),Mr(t),null!==e&&Ts(e,t,n,!0),t.childLanes=s,null}function Ul(e,t){return(t=ei({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vl(e,t,a){return hr(t,e.child,null,a),(e=Ul(t,t.pendingProps)).flags|=2,Fr(t),t.memoizedState=null,e}function Wl(e,t){var a=t.ref;if(null===a)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof a&&"object"!==typeof a)throw Error(o(284));null!==e&&e.ref===a||(t.flags|=4194816)}}function Hl(e,t,a,n,s){return Ps(t),a=to(e,t,a,n,void 0,s),n=ro(),null===e||Il?(ms&&n&&ls(t),t.flags|=1,Ol(e,t,a,s),t.child):(oo(e,t,s),ri(e,t,s))}function Gl(e,t,a,n,s,r){return Ps(t),t.updateQueue=null,a=no(t,n,a,s),ao(e),n=ro(),null===e||Il?(ms&&n&&ls(t),t.flags|=1,Ol(e,t,a,r),t.child):(oo(e,t,r),ri(e,t,r))}function $l(e,t,a,n,s){if(Ps(t),null===t.stateNode){var r=Mn,o=a.contextType;"object"===typeof o&&null!==o&&(r=zs(o)),r=new a(n,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=jl,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=n,r.state=t.memoizedState,r.refs={},gr(t),o=a.contextType,r.context="object"===typeof o&&null!==o?zs(o):Mn,r.state=t.memoizedState,"function"===typeof(o=a.getDerivedStateFromProps)&&(yl(t,a,o,n),r.state=t.memoizedState),"function"===typeof a.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(o=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),o!==r.state&&jl.enqueueReplaceState(r,r.state,null),_r(t,n,r,s),kr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){r=t.stateNode;var l=t.memoizedProps,i=kl(a,l);r.props=i;var c=r.context,d=a.contextType;o=Mn,"object"===typeof d&&null!==d&&(o=zs(d));var u=a.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,l=t.pendingProps!==l,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l||c!==o)&&Nl(t,r,n,o),xr=!1;var m=t.memoizedState;r.state=m,_r(t,n,r,s),kr(),c=t.memoizedState,l||m!==c||xr?("function"===typeof u&&(yl(t,a,u,n),c=t.memoizedState),(i=xr||wl(t,a,i,n,m,c,o))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),r.props=n,r.state=c,r.context=o,n=i):("function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,vr(e,t),d=kl(a,o=t.memoizedProps),r.props=d,u=t.pendingProps,m=r.context,c=a.contextType,i=Mn,"object"===typeof c&&null!==c&&(i=zs(c)),(c="function"===typeof(l=a.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==u||m!==i)&&Nl(t,r,n,i),xr=!1,m=t.memoizedState,r.state=m,_r(t,n,r,s),kr();var p=t.memoizedState;o!==u||m!==p||xr||null!==e&&null!==e.dependencies&&Rs(e.dependencies)?("function"===typeof l&&(yl(t,a,l,n),p=t.memoizedState),(d=xr||wl(t,a,d,n,m,p,i)||null!==e&&null!==e.dependencies&&Rs(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,p,i),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,p,i)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),r.props=n,r.state=p,r.context=i,n=d):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,Wl(e,t),n=0!==(128&t.flags),r||n?(r=t.stateNode,a=n&&"function"!==typeof a.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&n?(t.child=hr(t,e.child,null,s),t.child=hr(t,null,a,s)):Ol(e,t,a,s),t.memoizedState=r.state,e=t.child):e=ri(e,t,s),e}function Kl(e,t,a,n){return ys(),t.flags|=256,Ol(e,t,a,n),t.child}var Ql={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yl(e){return{baseLanes:e,cachePool:Xs()}}function Xl(e,t,a){return e=null!==e?e.childLanes&~a:0,t&&(e|=Ec),e}function Jl(e,t,a){var n,s=t.pendingProps,r=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Br.current)),n&&(r=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ms){if(r?Or(t):Lr(),(e=us)?null!==(e=null!==(e=Ru(e,hs))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==as?{id:ns,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},(a=Gn(e)).return=t,t.child=a,ds=t,us=null):e=null,null===e)throw xs(t);return zu(e)?t.lanes=32:t.lanes=536870912,null}var i=s.children;return s=s.fallback,r?(Lr(),i=ei({mode:"hidden",children:i},r=t.mode),s=Wn(s,r,a,null),i.return=t,s.return=t,i.sibling=s,t.child=i,(s=t.child).memoizedState=Yl(a),s.childLanes=Xl(e,n,a),t.memoizedState=Ql,Bl(null,s)):(Or(t),Zl(t,i))}var c=e.memoizedState;if(null!==c&&null!==(i=c.dehydrated)){if(l)256&t.flags?(Or(t),t.flags&=-257,t=ti(e,t,a)):null!==t.memoizedState?(Lr(),t.child=e.child,t.flags|=128,t=null):(Lr(),i=s.fallback,r=t.mode,s=ei({mode:"visible",children:s.children},r),(i=Wn(i,r,a,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,hr(t,e.child,null,a),(s=t.child).memoizedState=Yl(a),s.childLanes=Xl(e,n,a),t.memoizedState=Ql,t=Bl(null,s));else if(Or(t),zu(i)){if(n=i.nextSibling&&i.nextSibling.dataset)var d=n.dgst;n=d,(s=Error(o(419))).stack="",s.digest=n,ws({value:s,source:null,stack:null}),t=ti(e,t,a)}else if(Il||Ts(e,t,a,!1),n=0!==(a&e.childLanes),Il||n){if(null!==(n=fc)&&(0!==(s=Oe(n,a))&&s!==c.retryLane))throw c.retryLane=s,In(e,s),Qc(n,e,s),zl;Pu(i)||ld(),t=ti(e,t,a)}else Pu(i)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,us=Iu(i.nextSibling),ds=t,ms=!0,ps=null,hs=!1,null!==e&&cs(t,e),(t=Zl(t,s.children)).flags|=4096);return t}return r?(Lr(),i=s.fallback,r=t.mode,d=(c=e.child).sibling,(s=qn(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?i=qn(d,i):(i=Wn(i,r,a,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,Bl(null,s),s=t.child,null===(i=e.child.memoizedState)?i=Yl(a):(null!==(r=i.cachePool)?(c=Fs._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=Xs(),i={baseLanes:i.baseLanes|a,cachePool:r}),s.memoizedState=i,s.childLanes=Xl(e,n,a),t.memoizedState=Ql,Bl(e.child,s)):(Or(t),e=(a=e.child).sibling,(a=qn(a,{mode:"visible",children:s.children})).return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a)}function Zl(e,t){return(t=ei({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ei(e,t){return(e=Fn(22,e,null,t)).lanes=0,e}function ti(e,t,a){return hr(t,e.child,null,a),(e=Zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ai(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Es(e.return,t,a)}function ni(e,t,a,n,s,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=s,o.treeForkCount=r)}function si(e,t,a){var n=t.pendingProps,s=n.revealOrder,r=n.tail;n=n.children;var o=Br.current,l=0!==(2&o);if(l?(o=1&o|2,t.flags|=128):o&=1,q(Br,o),Ol(e,t,n,a),n=ms?Zn:0,!l&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ai(e,a,t);else if(19===e.tag)ai(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;null!==a;)null!==(e=a.alternate)&&null===qr(e)&&(s=a),a=a.sibling;null===(a=s)?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),ni(t,!1,s,a,r,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===qr(e)){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}ni(t,!0,a,null,r,n);break;case"together":ni(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ri(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(a&t.childLanes)){if(null===e)return null;if(Ts(e,t,a,!1),0===(a&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(a=qn(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=qn(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function oi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Rs(e))}function li(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps)Il=!0;else{if(!oi(e,a)&&0===(128&t.flags))return Il=!1,function(e,t,a){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Ss(0,Fs,e.memoizedState.cache),ys();break;case 27:case 5:Y(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Ss(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Dr(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Or(t),t.flags|=128,null):0!==(a&t.child.childLanes)?Jl(e,t,a):(Or(t),null!==(e=ri(e,t,a))?e.sibling:null);Or(t);break;case 19:var s=0!==(128&e.flags);if((n=0!==(a&t.childLanes))||(Ts(e,t,a,!1),n=0!==(a&t.childLanes)),s){if(n)return si(e,t,a);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Br,Br.current),n)break;return null;case 22:return t.lanes=0,Fl(e,t,a,t.pendingProps);case 24:Ss(0,Fs,e.memoizedState.cache)}return ri(e,t,a)}(e,t,a);Il=0!==(131072&e.flags)}else Il=!1,ms&&0!==(1048576&t.flags)&&os(t,Zn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=sr(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var s=e.$$typeof;if(s===w){t.tag=11,t=Dl(null,t,e,n,a);break e}if(s===_){t.tag=14,t=Ml(null,t,e,n,a);break e}}throw t=P(e)||e,Error(o(306,t,""))}Bn(e)?(n=kl(e,n),t.tag=1,t=$l(null,t,e,n,a)):(t.tag=0,t=Hl(null,t,e,n,a))}return t;case 0:return Hl(e,t,t.type,t.pendingProps,a);case 1:return $l(e,t,n=t.type,s=kl(n,t.pendingProps),a);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));n=t.pendingProps;var r=t.memoizedState;s=r.element,vr(e,t),_r(t,n,null,a);var l=t.memoizedState;if(n=l.cache,Ss(0,Fs,n),n!==r.cache&&As(t,[Fs],a,!0),kr(),n=l.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Kl(e,t,n,a);break e}if(n!==s){ws(s=Qn(Error(o(424)),t)),t=Kl(e,t,n,a);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(us=Iu(e.firstChild),ds=t,ms=!0,ps=null,hs=!0,a=fr(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(ys(),n===s){t=ri(e,t,a);break e}Ol(e,t,n,a)}t=t.child}return t;case 26:return Wl(e,t),null===e?(a=Gu(t.type,null,t.pendingProps,null))?t.memoizedState=a:ms||(a=t.type,e=t.pendingProps,(n=gu(G.current).createElement(a))[qe]=t,n[Ue]=e,pu(n,a,e),et(n),t.stateNode=n):t.memoizedState=Gu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ms&&(n=t.stateNode=Lu(t.type,t.pendingProps,G.current),ds=t,hs=!0,s=us,Cu(t.type)?(Ou=s,us=Iu(n.firstChild)):us=s),Ol(e,t,t.pendingProps.children,a),Wl(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ms&&((s=n=us)&&(null!==(n=function(e,t,a,n){for(;1===e.nodeType;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===r)return e}if(null===(e=Iu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,hs))?(t.stateNode=n,ds=t,us=Iu(n.firstChild),hs=!1,s=!0):s=!1),s||xs(t)),Y(t),s=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,n=r.children,yu(s,r)?n=null:null!==l&&yu(s,l)&&(t.flags|=32),null!==t.memoizedState&&(s=to(e,t,so,null,null,a),um._currentValue=s),Wl(e,t),Ol(e,t,n,a),t.child;case 6:return null===e&&ms&&((e=a=us)&&(null!==(a=function(e,t,a){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=Iu(e.nextSibling)))return null}return e}(a,t.pendingProps,hs))?(t.stateNode=a,ds=t,us=null,e=!0):e=!1),e||xs(t)),null;case 13:return Jl(e,t,a);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=hr(t,null,n,a):Ol(e,t,n,a),t.child;case 11:return Dl(e,t,t.type,t.pendingProps,a);case 7:return Ol(e,t,t.pendingProps,a),t.child;case 8:case 12:return Ol(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ss(0,t.type,n.value),Ol(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,Ps(t),n=n(s=zs(s)),t.flags|=1,Ol(e,t,n,a),t.child;case 14:return Ml(e,t,t.type,t.pendingProps,a);case 15:return Ll(e,t,t.type,t.pendingProps,a);case 19:return si(e,t,a);case 31:return function(e,t,a){var n=t.pendingProps,s=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ms){if("hidden"===n.mode)return e=Ul(t,n),t.lanes=536870912,Bl(null,e);if(Dr(t),(e=us)?null!==(e=null!==(e=Ru(e,hs))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==as?{id:ns,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},(a=Gn(e)).return=t,t.child=a,ds=t,us=null):e=null,null===e)throw xs(t);return t.lanes=536870912,null}return Ul(t,n)}var r=e.memoizedState;if(null!==r){var l=r.dehydrated;if(Dr(t),s)if(256&t.flags)t.flags&=-257,t=Vl(e,t,a);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Il||Ts(e,t,a,!1),s=0!==(a&e.childLanes),Il||s){if(null!==(n=fc)&&0!==(l=Oe(n,a))&&l!==r.retryLane)throw r.retryLane=l,In(e,l),Qc(n,e,l),zl;ld(),t=Vl(e,t,a)}else e=r.treeContext,us=Iu(l.nextSibling),ds=t,ms=!0,ps=null,hs=!1,null!==e&&cs(t,e),(t=Ul(t,n)).flags|=4096;return t}return(e=qn(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,a);case 22:return Fl(e,t,a,t.pendingProps);case 24:return Ps(t),n=zs(Fs),null===e?(null===(s=Qs())&&(s=fc,r=Bs(),s.pooledCache=r,r.refCount++,null!==r&&(s.pooledCacheLanes|=a),s=r),t.memoizedState={parent:n,cache:s},gr(t),Ss(0,Fs,s)):(0!==(e.lanes&a)&&(vr(e,t),_r(t,null,null,a),kr()),s=e.memoizedState,r=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),Ss(0,Fs,n)):(n=r.cache,Ss(0,Fs,n),n!==s.cache&&As(t,[Fs],a,!0))),Ol(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ii(e){e.flags|=4}function ci(e,t,a,n,s){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!sd())throw rr=tr,Zs;e.flags|=8192}}else e.flags&=-16777217}function di(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rm(t)){if(!sd())throw rr=tr,Zs;e.flags|=8192}}function ui(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,Ac|=t)}function mi(e,t){if(!ms)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pi(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;null!==s;)a|=s.lanes|s.childLanes,n|=65011712&s.subtreeFlags,n|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function hi(e,t,a){var n=t.pendingProps;switch(is(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pi(t),null;case 3:return a=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cs(Fs),Q(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(bs(t)?ii(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,js())),pi(t),null;case 26:var s=t.type,r=t.memoizedState;return null===e?(ii(t),null!==r?(pi(t),di(t,r)):(pi(t),ci(t,s,0,0,a))):r?r!==e.memoizedState?(ii(t),pi(t),di(t,r)):(pi(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&ii(t),pi(t),ci(t,s,0,0,a)),null;case 27:if(X(t),a=G.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ii(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return pi(t),null}e=W.current,bs(t)?gs(t):(e=Lu(s,n,a),t.stateNode=e,ii(t))}return pi(t),null;case 5:if(X(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ii(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return pi(t),null}if(r=W.current,bs(t))gs(t);else{var l=gu(G.current);switch(r){case 1:r=l.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=l.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(r=l.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r="string"===typeof n.is?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r="string"===typeof n.is?l.createElement(s,{is:n.is}):l.createElement(s)}}r[qe]=t,r[Ue]=n;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)r.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=r;e:switch(pu(r,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ii(t)}}return pi(t),ci(t,t.type,null===e||e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&ii(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(e=G.current,bs(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,null!==(s=ds))switch(s.tag){case 27:case 5:n=s.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===a||null!==n&&!0===n.suppressHydrationWarning||du(e.nodeValue,a)))||xs(t,!0)}else(e=gu(e).createTextNode(n))[qe]=t,t.stateNode=e}return pi(t),null;case 31:if(a=t.memoizedState,null===e||null!==e.memoizedState){if(n=bs(t),null!==a){if(null===e){if(!n)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[qe]=t}else ys(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pi(t),e=!1}else a=js(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return 256&t.flags?(Fr(t),t):(Fr(t),null);if(0!==(128&t.flags))throw Error(o(558))}return pi(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=bs(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[qe]=t}else ys(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pi(t),s=!1}else s=js(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(Fr(t),t):(Fr(t),null)}return Fr(t),0!==(128&t.flags)?(t.lanes=a,t):(a=null!==n,e=null!==e&&null!==e.memoizedState,a&&(s=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(s=n.alternate.memoizedState.cachePool.pool),r=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ui(t,t.updateQueue),pi(t),null);case 4:return Q(),null===e&&eu(t.stateNode.containerInfo),pi(t),null;case 10:return Cs(t.type),pi(t),null;case 19:if(B(Br),null===(n=t.memoizedState))return pi(t),null;if(s=0!==(128&t.flags),null===(r=n.rendering))if(s)mi(n,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=qr(e))){for(t.flags|=128,mi(n,!1),e=r.updateQueue,t.updateQueue=e,ui(t,e),t.subtreeFlags=0,e=a,a=t.child;null!==a;)Un(a,e),a=a.sibling;return q(Br,1&Br.current|2),ms&&rs(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&ie()>Oc&&(t.flags|=128,s=!0,mi(n,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=qr(r))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ui(t,e),mi(n,!0),null===n.tail&&"hidden"===n.tailMode&&!r.alternate&&!ms)return pi(t),null}else 2*ie()-n.renderingStartTime>Oc&&536870912!==a&&(t.flags|=128,s=!0,mi(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=n.last)?e.sibling=r:t.child=r,n.last=r)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ie(),e.sibling=null,a=Br.current,q(Br,s?1&a|2:1&a),ms&&rs(t,n.treeForkCount),e):(pi(t),null);case 22:case 23:return Fr(t),Pr(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&a)&&0===(128&t.flags)&&(pi(t),6&t.subtreeFlags&&(t.flags|=8192)):pi(t),null!==(a=t.updateQueue)&&ui(t,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),null!==e&&B(Ks),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Cs(Fs),pi(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function fi(e,t){switch(is(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cs(Fs),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Fr(t),null===t.alternate)throw Error(o(340));ys()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ys()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Br),null;case 4:return Q(),null;case 10:return Cs(t.type),null;case 22:case 23:return Fr(t),Pr(),null!==e&&B(Ks),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cs(Fs),null;default:return null}}function xi(e,t){switch(is(t),t.tag){case 3:Cs(Fs),Q();break;case 26:case 27:case 5:X(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Fr(t);break;case 13:Fr(t);break;case 19:B(Br);break;case 10:Cs(t.type);break;case 22:case 23:Fr(t),Pr(),null!==e&&B(Ks);break;case 24:Cs(Fs)}}function gi(e,t){try{var a=t.updateQueue,n=null!==a?a.lastEffect:null;if(null!==n){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var r=a.create,o=a.inst;n=r(),o.destroy=n}a=a.next}while(a!==s)}}catch(l){kd(t,t.return,l)}}function vi(e,t,a){try{var n=t.updateQueue,s=null!==n?n.lastEffect:null;if(null!==s){var r=s.next;n=r;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(void 0!==l){o.destroy=void 0,s=t;var i=a,c=l;try{c()}catch(d){kd(s,i,d)}}}n=n.next}while(n!==r)}}catch(d){kd(t,t.return,d)}}function bi(e){var t=e.updateQueue;if(null!==t){var a=e.stateNode;try{Cr(t,a)}catch(n){kd(e,e.return,n)}}}function yi(e,t,a){a.props=kl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){kd(e,t,n)}}function ji(e,t){try{var a=e.ref;if(null!==a){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof a?e.refCleanup=a(n):a.current=n}}catch(s){kd(e,t,s)}}function wi(e,t){var a=e.ref,n=e.refCleanup;if(null!==a)if("function"===typeof n)try{n()}catch(s){kd(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof a)try{a(null)}catch(r){kd(e,t,r)}else a.current=null}function Ni(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){kd(e,e.return,s)}}function ki(e,t,a){try{var n=e.stateNode;!function(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,l=null,i=null,c=null,d=null,u=null;for(h in a){var m=a[h];if(a.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(h)||uu(e,t,h,null,n,m)}}for(var p in n){var h=n[p];if(m=a[p],n.hasOwnProperty(p)&&(null!=h||null!=m))switch(p){case"type":r=h;break;case"name":s=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":l=h;break;case"defaultValue":i=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:h!==m&&uu(e,t,p,h,n,m)}}return void vt(e,l,i,c,d,u,r,s);case"select":for(r in h=l=i=p=null,a)if(c=a[r],a.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":h=c;default:n.hasOwnProperty(r)||uu(e,t,r,null,n,c)}for(s in n)if(r=n[s],c=a[s],n.hasOwnProperty(s)&&(null!=r||null!=c))switch(s){case"value":p=r;break;case"defaultValue":i=r;break;case"multiple":l=r;default:r!==c&&uu(e,t,s,r,n,c)}return t=i,a=l,n=h,void(null!=p?jt(e,!!a,p,!1):!!n!==!!a&&(null!=t?jt(e,!!a,t,!0):jt(e,!!a,a?[]:"",!1)));case"textarea":for(i in h=p=null,a)if(s=a[i],a.hasOwnProperty(i)&&null!=s&&!n.hasOwnProperty(i))switch(i){case"value":case"children":break;default:uu(e,t,i,null,n,s)}for(l in n)if(s=n[l],r=a[l],n.hasOwnProperty(l)&&(null!=s||null!=r))switch(l){case"value":p=s;break;case"defaultValue":h=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(o(91));break;default:s!==r&&uu(e,t,l,s,n,r)}return void wt(e,p,h);case"option":for(var f in a)if(p=a[f],a.hasOwnProperty(f)&&null!=p&&!n.hasOwnProperty(f))if("selected"===f)e.selected=!1;else uu(e,t,f,null,n,p);for(c in n)if(p=n[c],h=a[c],n.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else uu(e,t,c,p,n,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in a)p=a[x],a.hasOwnProperty(x)&&null!=p&&!n.hasOwnProperty(x)&&uu(e,t,x,null,n,p);for(d in n)if(p=n[d],h=a[d],n.hasOwnProperty(d)&&p!==h&&(null!=p||null!=h))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:uu(e,t,d,p,n,h)}return;default:if(At(t)){for(var g in a)p=a[g],a.hasOwnProperty(g)&&void 0!==p&&!n.hasOwnProperty(g)&&mu(e,t,g,void 0,n,p);for(u in n)p=n[u],h=a[u],!n.hasOwnProperty(u)||p===h||void 0===p&&void 0===h||mu(e,t,u,p,n,h);return}}for(var v in a)p=a[v],a.hasOwnProperty(v)&&null!=p&&!n.hasOwnProperty(v)&&uu(e,t,v,null,n,p);for(m in n)p=n[m],h=a[m],!n.hasOwnProperty(m)||p===h||null==p&&null==h||uu(e,t,m,p,n,h)}(n,e.type,a,t),n[Ue]=t}catch(s){kd(e,e.return,s)}}function _i(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cu(e.type)||4===e.tag}function Si(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_i(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ci(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).insertBefore(e,t):((t=9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=zt));else if(4!==n&&(27===n&&Cu(e.type)&&(a=e.stateNode,t=null),null!==(e=e.child)))for(Ci(e,t,a),e=e.sibling;null!==e;)Ci(e,t,a),e=e.sibling}function Ei(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&(27===n&&Cu(e.type)&&(a=e.stateNode),null!==(e=e.child)))for(Ei(e,t,a),e=e.sibling;null!==e;)Ei(e,t,a),e=e.sibling}function Ai(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);pu(t,n,a),t[qe]=e,t[Ue]=a}catch(r){kd(e,e.return,r)}}var Ti=!1,Ri=!1,Pi=!1,zi="function"===typeof WeakSet?WeakSet:Set,Ii=null;function Oi(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),4&n&&gi(5,a);break;case 1:if(Qi(e,a),4&n)if(e=a.stateNode,null===t)try{e.componentDidMount()}catch(o){kd(a,a.return,o)}else{var s=kl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){kd(a,a.return,l)}}64&n&&bi(a),512&n&&ji(a,a.return);break;case 3:if(Qi(e,a),64&n&&null!==(e=a.updateQueue)){if(t=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:t=a.child.stateNode}try{Cr(e,t)}catch(o){kd(a,a.return,o)}}break;case 27:null===t&&4&n&&Ai(a);case 26:case 5:Qi(e,a),null===t&&4&n&&Ni(a),512&n&&ji(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),4&n&&qi(e,a);break;case 13:Qi(e,a),4&n&&Ui(e,a),64&n&&(null!==(e=a.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var a=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==a.readyState)t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,a=Ed.bind(null,a))));break;case 22:if(!(n=null!==a.memoizedState||Ti)){t=null!==t&&null!==t.memoizedState||Ri,s=Ti;var r=Ri;Ti=n,(Ri=t)&&!r?Xi(e,a,0!==(8772&a.subtreeFlags)):Qi(e,a),Ti=s,Ri=r}break;case 30:break;default:Qi(e,a)}}function Di(e){var t=e.alternate;null!==t&&(e.alternate=null,Di(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mi=null,Li=!1;function Fi(e,t,a){for(a=a.child;null!==a;)Bi(e,t,a),a=a.sibling}function Bi(e,t,a){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ge,a)}catch(r){}switch(a.tag){case 26:Ri||wi(a,t),Fi(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:Ri||wi(a,t);var n=Mi,s=Li;Cu(a.type)&&(Mi=a.stateNode,Li=!1),Fi(e,t,a),Fu(a.stateNode),Mi=n,Li=s;break;case 5:Ri||wi(a,t);case 6:if(n=Mi,s=Li,Mi=null,Fi(e,t,a),Li=s,null!==(Mi=n))if(Li)try{(9===Mi.nodeType?Mi.body:"HTML"===Mi.nodeName?Mi.ownerDocument.body:Mi).removeChild(a.stateNode)}catch(o){kd(a,t,o)}else try{Mi.removeChild(a.stateNode)}catch(o){kd(a,t,o)}break;case 18:null!==Mi&&(Li?(Eu(9===(e=Mi).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,a.stateNode),Hm(e)):Eu(Mi,a.stateNode));break;case 4:n=Mi,s=Li,Mi=a.stateNode.containerInfo,Li=!0,Fi(e,t,a),Mi=n,Li=s;break;case 0:case 11:case 14:case 15:vi(2,a,t),Ri||vi(4,a,t),Fi(e,t,a);break;case 1:Ri||(wi(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount&&yi(a,t,n)),Fi(e,t,a);break;case 21:Fi(e,t,a);break;case 22:Ri=(n=Ri)||null!==a.memoizedState,Fi(e,t,a),Ri=n;break;default:Fi(e,t,a)}}function qi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hm(e)}catch(a){kd(t,t.return,a)}}}function Ui(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hm(e)}catch(a){kd(t,t.return,a)}}function Vi(e,t){var a=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new zi),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new zi),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!a.has(t)){a.add(t);var n=Ad.bind(null,e,t);t.then(n,n)}})}function Wi(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var s=a[n],r=e,l=t,i=l;e:for(;null!==i;){switch(i.tag){case 27:if(Cu(i.type)){Mi=i.stateNode,Li=!1;break e}break;case 5:Mi=i.stateNode,Li=!1;break e;case 3:case 4:Mi=i.stateNode.containerInfo,Li=!0;break e}i=i.return}if(null===Mi)throw Error(o(160));Bi(r,l,s),Mi=null,Li=!1,null!==(r=s.alternate)&&(r.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gi(t,e),t=t.sibling}var Hi=null;function Gi(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wi(t,e),$i(e),4&n&&(vi(3,e,e.return),gi(3,e),vi(5,e,e.return));break;case 1:Wi(t,e),$i(e),512&n&&(Ri||null===a||wi(a,a.return)),64&n&&Ti&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?n:a.concat(n))));break;case 26:var s=Hi;if(Wi(t,e),$i(e),512&n&&(Ri||null===a||wi(a,a.return)),4&n){var r=null!==a?a.memoizedState:null;if(n=e.memoizedState,null===a)if(null===n)if(null===e.stateNode){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":(!(r=s.getElementsByTagName("title")[0])||r[Ke]||r[qe]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=s.createElement(n),s.head.insertBefore(r,s.querySelector("head > title"))),pu(r,n,a),r[qe]=e,et(r),n=r;break e;case"link":var l=nm("link","href",s).get(n+(a.href||""));if(l)for(var i=0;i<l.length;i++)if((r=l[i]).getAttribute("href")===(null==a.href||""===a.href?null:a.href)&&r.getAttribute("rel")===(null==a.rel?null:a.rel)&&r.getAttribute("title")===(null==a.title?null:a.title)&&r.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){l.splice(i,1);break t}pu(r=s.createElement(n),n,a),s.head.appendChild(r);break;case"meta":if(l=nm("meta","content",s).get(n+(a.content||"")))for(i=0;i<l.length;i++)if((r=l[i]).getAttribute("content")===(null==a.content?null:""+a.content)&&r.getAttribute("name")===(null==a.name?null:a.name)&&r.getAttribute("property")===(null==a.property?null:a.property)&&r.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&r.getAttribute("charset")===(null==a.charSet?null:a.charSet)){l.splice(i,1);break t}pu(r=s.createElement(n),n,a),s.head.appendChild(r);break;default:throw Error(o(468,n))}r[qe]=e,et(r),n=r}e.stateNode=n}else sm(s,e.type,e.stateNode);else e.stateNode=Ju(s,n,e.memoizedProps);else r!==n?(null===r?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):r.count--,null===n?sm(s,e.type,e.stateNode):Ju(s,n,e.memoizedProps)):null===n&&null!==e.stateNode&&ki(e,e.memoizedProps,a.memoizedProps)}break;case 27:Wi(t,e),$i(e),512&n&&(Ri||null===a||wi(a,a.return)),null!==a&&4&n&&ki(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Wi(t,e),$i(e),512&n&&(Ri||null===a||wi(a,a.return)),32&e.flags){s=e.stateNode;try{kt(s,"")}catch(f){kd(e,e.return,f)}}4&n&&null!=e.stateNode&&ki(e,s=e.memoizedProps,null!==a?a.memoizedProps:s),1024&n&&(Pi=!0);break;case 6:if(Wi(t,e),$i(e),4&n){if(null===e.stateNode)throw Error(o(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(f){kd(e,e.return,f)}}break;case 3:if(am=null,s=Hi,Hi=Uu(t.containerInfo),Wi(t,e),Hi=s,$i(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{Hm(t.containerInfo)}catch(f){kd(e,e.return,f)}Pi&&(Pi=!1,Ki(e));break;case 4:n=Hi,Hi=Uu(e.stateNode.containerInfo),Wi(t,e),$i(e),Hi=n;break;case 12:default:Wi(t,e),$i(e);break;case 31:case 19:Wi(t,e),$i(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Vi(e,n)));break;case 13:Wi(t,e),$i(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==a&&null!==a.memoizedState)&&(zc=ie()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Vi(e,n)));break;case 22:s=null!==e.memoizedState;var c=null!==a&&null!==a.memoizedState,d=Ti,u=Ri;if(Ti=d||s,Ri=u||c,Wi(t,e),Ri=u,Ti=d,$i(e),8192&n)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===a||c||Ti||Ri||Yi(e)),a=null,t=e;;){if(5===t.tag||26===t.tag){if(null===a){c=a=t;try{if(r=c.stateNode,s)"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{i=c.stateNode;var m=c.memoizedProps.style,p=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;i.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){kd(c,c.return,f)}}}else if(6===t.tag){if(null===a){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){kd(c,c.return,f)}}}else if(18===t.tag){if(null===a){c=t;try{var h=c.stateNode;s?Au(h,!0):Au(c.stateNode,!1)}catch(f){kd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(a=n.retryQueue)&&(n.retryQueue=null,Vi(e,a))));case 30:case 21:}}function $i(e){var t=e.flags;if(2&t){try{for(var a,n=e.return;null!==n;){if(_i(n)){a=n;break}n=n.return}if(null==a)throw Error(o(160));switch(a.tag){case 27:var s=a.stateNode;Ei(e,Si(e),s);break;case 5:var r=a.stateNode;32&a.flags&&(kt(r,""),a.flags&=-33),Ei(e,Si(e),r);break;case 3:case 4:var l=a.stateNode.containerInfo;Ci(e,Si(e),l);break;default:throw Error(o(161))}}catch(i){kd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ki(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ki(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qi(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Oi(e,t.alternate,t),t=t.sibling}function Yi(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vi(4,t,t.return),Yi(t);break;case 1:wi(t,t.return);var a=t.stateNode;"function"===typeof a.componentWillUnmount&&yi(t,t.return,a),Yi(t);break;case 27:Fu(t.stateNode);case 26:case 5:wi(t,t.return),Yi(t);break;case 22:null===t.memoizedState&&Yi(t);break;default:Yi(t)}e=e.sibling}}function Xi(e,t,a){for(a=a&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,s=e,r=t,o=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(s,r,a),gi(4,r);break;case 1:if(Xi(s,r,a),"function"===typeof(s=(n=r).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){kd(n,n.return,c)}if(null!==(s=(n=r).updateQueue)){var l=n.stateNode;try{var i=s.shared.hiddenCallbacks;if(null!==i)for(s.shared.hiddenCallbacks=null,s=0;s<i.length;s++)Sr(i[s],l)}catch(c){kd(n,n.return,c)}}a&&64&o&&bi(r),ji(r,r.return);break;case 27:Ai(r);case 26:case 5:Xi(s,r,a),a&&null===n&&4&o&&Ni(r),ji(r,r.return);break;case 12:Xi(s,r,a);break;case 31:Xi(s,r,a),a&&4&o&&qi(s,r);break;case 13:Xi(s,r,a),a&&4&o&&Ui(s,r);break;case 22:null===r.memoizedState&&Xi(s,r,a),ji(r,r.return);break;case 30:break;default:Xi(s,r,a)}t=t.sibling}}function Ji(e,t){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&qs(a))}function Zi(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qs(e))}function ec(e,t,a,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,a,n),t=t.sibling}function tc(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,a,n),2048&s&&gi(9,t);break;case 1:case 31:case 13:default:ec(e,t,a,n);break;case 3:ec(e,t,a,n),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qs(e)));break;case 12:if(2048&s){ec(e,t,a,n),e=t.stateNode;try{var r=t.memoizedProps,o=r.id,l=r.onPostCommit;"function"===typeof l&&l(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){kd(t,t.return,i)}}else ec(e,t,a,n);break;case 23:break;case 22:r=t.stateNode,o=t.alternate,null!==t.memoizedState?2&r._visibility?ec(e,t,a,n):nc(e,t):2&r._visibility?ec(e,t,a,n):(r._visibility|=2,ac(e,t,a,n,0!==(10256&t.subtreeFlags)||!1)),2048&s&&Ji(o,t);break;case 24:ec(e,t,a,n),2048&s&&Zi(t.alternate,t)}}function ac(e,t,a,n,s){for(s=s&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var r=e,o=t,l=a,i=n,c=o.flags;switch(o.tag){case 0:case 11:case 15:ac(r,o,l,i,s),gi(8,o);break;case 23:break;case 22:var d=o.stateNode;null!==o.memoizedState?2&d._visibility?ac(r,o,l,i,s):nc(r,o):(d._visibility|=2,ac(r,o,l,i,s)),s&&2048&c&&Ji(o.alternate,o);break;case 24:ac(r,o,l,i,s),s&&2048&c&&Zi(o.alternate,o);break;default:ac(r,o,l,i,s)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:nc(a,n),2048&s&&Ji(n.alternate,n);break;case 24:nc(a,n),2048&s&&Zi(n.alternate,n);break;default:nc(a,n)}t=t.sibling}}var sc=8192;function rc(e,t,a){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)oc(e,t,a),e=e.sibling}function oc(e,t,a){switch(e.tag){case 26:rc(e,t,a),e.flags&sc&&null!==e.memoizedState&&function(e,t,a,n){if("stylesheet"===a.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&a.state.loading)){if(null===a.instance){var s=$u(n.href),r=t.querySelector(Ku(s));if(r)return null!==(t=r._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lm.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,void et(r);r=t.ownerDocument||t,n=Qu(n),(s=Bu.get(s))&&em(n,s),et(r=r.createElement("link"));var o=r;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pu(r,"link",n),a.instance=r}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&0===(3&a.state.loading)&&(e.count++,a=lm.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}(a,Hi,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,a);break;case 3:case 4:var n=Hi;Hi=Uu(e.stateNode.containerInfo),rc(e,t,a),Hi=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=sc,sc=16777216,rc(e,t,a),sc=n):rc(e,t,a))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var n=t[a];Ii=n,uc(n,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&vi(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,dc(e)):ic(e)}}function dc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var n=t[a];Ii=n,uc(n,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vi(8,t,t.return),dc(t);break;case 22:2&(a=t.stateNode)._visibility&&(a._visibility&=-3,dc(t));break;default:dc(t)}e=e.sibling}}function uc(e,t){for(;null!==Ii;){var a=Ii;switch(a.tag){case 0:case 11:case 15:vi(8,a,t);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var n=a.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:qs(a.memoizedState.cache)}if(null!==(n=a.child))n.return=a,Ii=n;else e:for(a=e;null!==Ii;){var s=(n=Ii).sibling,r=n.return;if(Di(n),n===a){Ii=null;break e}if(null!==s){s.return=r,Ii=s;break e}Ii=r}}}var mc={getCacheForType:function(e){var t=zs(Fs),a=t.data.get(e);return void 0===a&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return zs(Fs).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,hc=0,fc=null,xc=null,gc=0,vc=0,bc=null,yc=!1,jc=!1,wc=!1,Nc=0,kc=0,_c=0,Sc=0,Cc=0,Ec=0,Ac=0,Tc=null,Rc=null,Pc=!1,zc=0,Ic=0,Oc=1/0,Dc=null,Mc=null,Lc=0,Fc=null,Bc=null,qc=0,Uc=0,Vc=null,Wc=null,Hc=0,Gc=null;function $c(){return 0!==(2&hc)&&0!==gc?gc&-gc:null!==I.T?Vd():Le()}function Kc(){if(0===Ec)if(0===(536870912&gc)||ms){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Ec=e}else Ec=536870912;return null!==(e=zr.current)&&(e.flags|=32),Ec}function Qc(e,t,a){(e!==fc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(ad(e,0),Zc(e,gc,Ec,!1)),Pe(e,a),0!==(2&hc)&&e===fc||(e===fc&&(0===(2&hc)&&(Sc|=a),4===kc&&Zc(e,gc,Ec,!1)),Dd(e))}function Yc(e,t,a){if(0!==(6&hc))throw Error(o(327));for(var n=!a&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),s=n?function(e,t){var a=hc;hc|=2;var n=rd(),s=od();fc!==e||gc!==t?(Dc=null,Oc=ie()+500,ad(e,t)):jc=Ee(e,t);e:for(;;)try{if(0!==vc&&null!==xc){t=xc;var r=bc;t:switch(vc){case 1:vc=0,bc=null,pd(e,t,r,1);break;case 2:case 9:if(ar(r)){vc=0,bc=null,md(t);break}t=function(){2!==vc&&9!==vc||fc!==e||(vc=7),Dd(e)},r.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ar(r)?(vc=0,bc=null,md(t)):(vc=0,bc=null,pd(e,t,r,7));break;case 5:var l=null;switch(xc.tag){case 26:l=xc.memoizedState;case 5:case 27:var i=xc;if(l?rm(l):i.stateNode.complete){vc=0,bc=null;var c=i.sibling;if(null!==c)xc=c;else{var d=i.return;null!==d?(xc=d,hd(d)):xc=null}break t}}vc=0,bc=null,pd(e,t,r,5);break;case 6:vc=0,bc=null,pd(e,t,r,6);break;case 8:td(),kc=6;break e;default:throw Error(o(462))}}dd();break}catch(u){nd(e,u)}return _s=ks=null,I.H=n,I.A=s,hc=a,null!==xc?0:(fc=null,gc=0,Rn(),kc)}(e,t):id(e,t,!0),r=n;;){if(0===s){jc&&!n&&Zc(e,t,0,!1);break}if(a=e.current.alternate,!r||Jc(a)){if(2===s){if(r=t,e.errorRecoveryDisabledLanes&r)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var i=e;s=Tc;var c=i.current.memoizedState.isDehydrated;if(c&&(ad(i,l).flags|=256),2!==(l=id(i,l,!1))){if(wc&&!c){i.errorRecoveryDisabledLanes|=r,Sc|=r,s=4;break e}r=Rc,Rc=s,null!==r&&(null===Rc?Rc=r:Rc.push.apply(Rc,r))}s=l}if(r=!1,2!==s)continue}}if(1===s){ad(e,0),Zc(e,t,0,!0);break}e:{switch(n=e,r=s){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Zc(n,t,Ec,!yc);break e;case 2:Rc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(s=zc+300-ie())){if(Zc(n,t,Ec,!yc),0!==Ce(n,0,!0))break e;qc=t,n.timeoutHandle=wu(Xc.bind(null,n,a,Rc,Dc,Pc,t,Ec,Sc,Ac,yc,r,"Throttled",-0,0),s)}else Xc(n,a,Rc,Dc,Pc,t,Ec,Sc,Ac,yc,r,null,-0,0)}break}s=id(e,t,!1),r=!1}Dd(e)}function Xc(e,t,a,n,s,r,o,l,i,c,d,u,m,p){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){oc(t,r,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zt});var h=(62914560&r)===r?zc-ie():(4194048&r)===r?Ic-ie():0;if(h=function(e,t){return e.stylesheets&&0===e.count&&cm(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&cm(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===om&&(om=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],r=s.transferSize,o=s.initiatorType,l=s.duration;if(r&&l&&hu(o)){for(o=0,l=s.responseEnd,n+=1;n<a.length;n++){var i=a[n],c=i.startTime;if(c>l)break;var d=i.transferSize,u=i.initiatorType;d&&hu(u)&&(o+=d*((i=i.responseEnd)<l?1:(l-c)/(i-c)))}if(--n,t+=8*(r+o)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cm(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>om?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}(u,h),null!==h)return qc=r,e.cancelPendingCommit=h(xd.bind(null,e,t,r,a,n,s,o,l,i,d,u,null,m,p)),void Zc(e,r,o,!c)}xd(e,t,r,a,n,s,o,l,i)}function Jc(e){for(var t=e;;){var a=t.tag;if((0===a||11===a||15===a)&&16384&t.flags&&(null!==(a=t.updateQueue)&&null!==(a=a.stores)))for(var n=0;n<a.length;n++){var s=a[n],r=s.getSnapshot;s=s.value;try{if(!Ja(r(),s))return!1}catch(o){return!1}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,a,n){t&=~Cc,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var r=31-ye(s),o=1<<r;n[r]=-1,s&=~o}0!==a&&ze(e,a,t)}function ed(){return 0!==(6&hc)||(Md(0,!1),!1)}function td(){if(null!==xc){if(0===vc)var e=xc.return;else _s=ks=null,lo(e=xc),ir=null,cr=0,e=xc;for(;null!==e;)xi(e.alternate,e),e=e.return;xc=null}}function ad(e,t){var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,Nu(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),qc=0,td(),fc=e,xc=a=qn(e.current,null),gc=t,vc=0,bc=null,yc=!1,jc=Ee(e,t),wc=!1,Ac=Ec=Cc=Sc=_c=kc=0,Rc=Tc=null,Pc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var s=31-ye(n),r=1<<s;t|=e[s],n&=~r}return Nc=t,Rn(),a}function nd(e,t){Vr=null,I.H=xl,t===Js||t===er?(t=or(),vc=3):t===Zs?(t=or(),vc=4):vc=t===zl?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===xc&&(kc=1,El(e,Qn(t,e.current)))}function sd(){var e=zr.current;return null===e||((4194048&gc)===gc?null===Ir:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ir)}function rd(){var e=I.H;return I.H=xl,null===e?xl:e}function od(){var e=I.A;return I.A=mc,e}function ld(){kc=4,yc||(4194048&gc)!==gc&&null!==zr.current||(jc=!0),0===(134217727&_c)&&0===(134217727&Sc)||null===fc||Zc(fc,gc,Ec,!1)}function id(e,t,a){var n=hc;hc|=2;var s=rd(),r=od();fc===e&&gc===t||(Dc=null,ad(e,t)),t=!1;var o=kc;e:for(;;)try{if(0!==vc&&null!==xc){var l=xc,i=bc;switch(vc){case 8:td(),o=6;break e;case 3:case 2:case 9:case 6:null===zr.current&&(t=!0);var c=vc;if(vc=0,bc=null,pd(e,l,i,c),a&&jc){o=0;break e}break;default:c=vc,vc=0,bc=null,pd(e,l,i,c)}}cd(),o=kc;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,_s=ks=null,hc=n,I.H=s,I.A=r,null===xc&&(fc=null,gc=0,Rn()),o}function cd(){for(;null!==xc;)ud(xc)}function dd(){for(;null!==xc&&!oe();)ud(xc)}function ud(e){var t=li(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?hd(e):xc=t}function md(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Gl(a,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Gl(a,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:lo(t);default:xi(a,t),t=li(a,t=xc=Un(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?hd(e):xc=t}function pd(e,t,a,n){_s=ks=null,lo(t),ir=null,cr=0;var s=t.return;try{if(function(e,t,a,n,s){if(a.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=a.alternate)&&Ts(t,a,s,!0),null!==(a=zr.current)){switch(a.tag){case 31:case 13:return null===Ir?ld():null===a.alternate&&0===kc&&(kc=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===tr?a.flags|=16384:(null===(t=a.updateQueue)?a.updateQueue=new Set([n]):t.add(n),_d(e,n,s)),!1;case 22:return a.flags|=65536,n===tr?a.flags|=16384:(null===(t=a.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):null===(a=t.retryQueue)?t.retryQueue=new Set([n]):a.add(n),_d(e,n,s)),!1}throw Error(o(435,a.tag))}return _d(e,n,s),ld(),!1}if(ms)return null!==(t=zr.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==fs&&ws(Qn(e=Error(o(422),{cause:n}),a))):(n!==fs&&ws(Qn(t=Error(o(423),{cause:n}),a)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,n=Qn(n,a),wr(e,s=Tl(e.stateNode,n,s)),4!==kc&&(kc=2)),!1;var r=Error(o(520),{cause:n});if(r=Qn(r,a),null===Tc?Tc=[r]:Tc.push(r),4!==kc&&(kc=2),null===t)return!0;n=Qn(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,wr(a,e=Tl(a.stateNode,n,e)),!1;case 1:if(t=a.type,r=a.stateNode,0===(128&a.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))))return a.flags|=65536,s&=-s,a.lanes|=s,Pl(s=Rl(s),e,a,n),wr(a,s),!1}a=a.return}while(null!==a);return!1}(e,s,t,a,gc))return kc=1,El(e,Qn(a,e.current)),void(xc=null)}catch(r){if(null!==s)throw xc=s,r;return kc=1,El(e,Qn(a,e.current)),void(xc=null)}32768&t.flags?(ms||1===n?e=!0:jc||0!==(536870912&gc)?e=!1:(yc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=zr.current)&&13===n.tag&&(n.flags|=16384))),fd(t,e)):hd(t)}function hd(e){var t=e;do{if(0!==(32768&t.flags))return void fd(t,yc);e=t.return;var a=hi(t.alternate,t,Nc);if(null!==a)return void(xc=a);if(null!==(t=t.sibling))return void(xc=t);xc=t=e}while(null!==t);0===kc&&(kc=5)}function fd(e,t){do{var a=fi(e.alternate,e);if(null!==a)return a.flags&=32767,void(xc=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&null!==(e=e.sibling))return void(xc=e);xc=e=a}while(null!==e);kc=6,xc=null}function xd(e,t,a,n,s,r,l,i,c){e.cancelPendingCommit=null;do{jd()}while(0!==Lc);if(0!==(6&hc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,function(e,t,a,n,s,r){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var l=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(a=o&~a;0<a;){var d=31-ye(a),u=1<<d;l[d]=0,i[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var p=m[d];null!==p&&(p.lane&=-536870913)}a&=~u}0!==n&&ze(e,n,0),0!==r&&0===s&&0!==e.tag&&(e.suspendedLanes|=r&~(o&~t))}(e,a,r|=Tn,l,i,c),e===fc&&(xc=fc=null,gc=0),Bc=t,Fc=e,qc=a,Uc=r,Vc=s,Wc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,se(me,function(){return wd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null,s=O.p,O.p=2,l=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,fu=ym,sn(e=nn(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{a.nodeType,r.nodeType}catch(x){a=null;break e}var l=0,i=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==a||0!==s&&3!==m.nodeType||(i=l+s),m!==r||0!==n&&3!==m.nodeType||(c=l+n),3===m.nodeType&&(l+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===a&&++d===s&&(i=l),p===r&&++u===n&&(c=l),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}a=-1===i||-1===c?null:{start:i,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(xu={focusedElem:e,selectionRange:a},ym=!1,Ii=t;null!==Ii;)if(e=(t=Ii).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ii=e;else for(;null!==Ii;){switch(r=(t=Ii).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(a=0;a<e.length;a++)(s=e[a]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,a=t,s=r.memoizedProps,r=r.memoizedState,n=a.stateNode;try{var f=kl(a.type,s);e=n.getSnapshotBeforeUpdate(f,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){kd(a,a.return,g)}}break;case 3:if(0!==(1024&e))if(9===(a=(e=t.stateNode.containerInfo).nodeType))Tu(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Ii=e;break}Ii=t.return}}(e,t)}finally{hc=l,O.p=s,I.T=n}}Lc=1,gd(),vd(),bd()}}function gd(){if(1===Lc){Lc=0;var e=Fc,t=Bc,a=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||a){a=I.T,I.T=null;var n=O.p;O.p=2;var s=hc;hc|=4;try{Gi(t,e);var r=xu,o=nn(e.containerInfo),l=r.focusedElem,i=r.selectionRange;if(o!==l&&l&&l.ownerDocument&&an(l.ownerDocument.documentElement,l)){if(null!==i&&sn(l)){var c=i.start,d=i.end;if(void 0===d&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var p=m.getSelection(),h=l.textContent.length,f=Math.min(i.start,h),x=void 0===i.end?f:Math.min(i.end,h);!p.extend&&f>x&&(o=x,x=f,f=o);var g=tn(l,f),v=tn(l,x);if(g&&v&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=u.createRange();b.setStart(g.node,g.offset),p.removeAllRanges(),f>x?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(u=[],p=l;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof l.focus&&l.focus(),l=0;l<u.length;l++){var y=u[l];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}ym=!!fu,xu=fu=null}finally{hc=s,O.p=n,I.T=a}}e.current=t,Lc=2}}function vd(){if(2===Lc){Lc=0;var e=Fc,t=Bc,a=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||a){a=I.T,I.T=null;var n=O.p;O.p=2;var s=hc;hc|=4;try{Oi(e,t.alternate,t)}finally{hc=s,O.p=n,I.T=a}}Lc=3}}function bd(){if(4===Lc||3===Lc){Lc=0,le();var e=Fc,t=Bc,a=qc,n=Wc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,Bc=Fc=null,yd(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Mc=null),Me(a),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(i){}if(null!==n){t=I.T,s=O.p,O.p=2,I.T=null;try{for(var r=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];r(l.value,{componentStack:l.stack})}}finally{I.T=t,O.p=s}}0!==(3&qc)&&jd(),Dd(e),s=e.pendingLanes,0!==(261930&a)&&0!==(42&s)?e===Gc?Hc++:(Hc=0,Gc=e):Hc=0,Md(0,!1)}}function yd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,qs(t)))}function jd(){return gd(),vd(),bd(),wd()}function wd(){if(5!==Lc)return!1;var e=Fc,t=Uc;Uc=0;var a=Me(qc),n=I.T,s=O.p;try{O.p=32>a?32:a,I.T=null,a=Vc,Vc=null;var r=Fc,l=qc;if(Lc=0,Bc=Fc=null,qc=0,0!==(6&hc))throw Error(o(331));var i=hc;if(hc|=4,cc(r.current),tc(r,r.current,l,a),hc=i,Md(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ge,r)}catch(c){}return!0}finally{O.p=s,I.T=n,yd(e,t)}}function Nd(e,t,a){t=Qn(a,t),null!==(e=yr(e,t=Tl(e.stateNode,t,2),2))&&(Pe(e,2),Dd(e))}function kd(e,t,a){if(3===e.tag)Nd(e,e,a);else for(;null!==t;){if(3===t.tag){Nd(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Mc||!Mc.has(n))){e=Qn(a,e),null!==(n=yr(t,a=Rl(2),2))&&(Pl(a,n,t,e),Pe(n,2),Dd(n));break}}t=t.return}}function _d(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new pc;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(a)||(wc=!0,s.add(a),e=Sd.bind(null,e,t,a),t.then(e,e))}function Sd(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,fc===e&&(gc&a)===a&&(4===kc||3===kc&&(62914560&gc)===gc&&300>ie()-zc?0===(2&hc)&&ad(e,0):Cc|=a,Ac===gc&&(Ac=0)),Dd(e)}function Cd(e,t){0===t&&(t=Te()),null!==(e=In(e,t))&&(Pe(e,t),Dd(e))}function Ed(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),Cd(e,a)}function Ad(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==n&&n.delete(t),Cd(e,a)}var Td=null,Rd=null,Pd=!1,zd=!1,Id=!1,Od=0;function Dd(e){e!==Rd&&null===e.next&&(null===Rd?Td=Rd=e:Rd=Rd.next=e),zd=!0,Pd||(Pd=!0,_u(function(){0!==(6&hc)?se(de,Ld):Fd()}))}function Md(e,t){if(!Id&&zd){Id=!0;do{for(var a=!1,n=Td;null!==n;){if(!t)if(0!==e){var s=n.pendingLanes;if(0===s)var r=0;else{var o=n.suspendedLanes,l=n.pingedLanes;r=(1<<31-ye(42|e)+1)-1,r=201326741&(r&=s&~(o&~l))?201326741&r|1:r?2|r:0}0!==r&&(a=!0,Ud(n,r))}else r=gc,0===(3&(r=Ce(n,n===fc?r:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Ee(n,r)||(a=!0,Ud(n,r));n=n.next}}while(a);Id=!1}}function Ld(){Fd()}function Fd(){zd=Pd=!1;var e=0;0!==Od&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ju&&(ju=e,!0);return ju=null,!1}()&&(e=Od);for(var t=ie(),a=null,n=Td;null!==n;){var s=n.next,r=Bd(n,t);0===r?(n.next=null,null===a?Td=s:a.next=s,null===s&&(Rd=a)):(a=n,(0!==e||0!==(3&r))&&(zd=!0)),n=s}0!==Lc&&5!==Lc||Md(e,!1),0!==Od&&(Od=0)}function Bd(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var o=31-ye(r),l=1<<o,i=s[o];-1===i?0!==(l&a)&&0===(l&n)||(s[o]=Ae(l,t)):i<=t&&(e.expiredLanes|=l),r&=~l}if(a=gc,a=Ce(e,e===(t=fc)?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===a||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&re(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&a)||Ee(e,a)){if((t=a&-a)===e.callbackPriority)return t;switch(null!==n&&re(n),Me(a)){case 2:case 8:a=ue;break;case 32:default:a=me;break;case 268435456:a=he}return n=qd.bind(null,e),a=se(a,n),e.callbackPriority=t,e.callbackNode=a,t}return null!==n&&null!==n&&re(n),e.callbackPriority=2,e.callbackNode=null,2}function qd(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(jd()&&e.callbackNode!==a)return null;var n=gc;return 0===(n=Ce(e,e===fc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,n,t),Bd(e,ie()),null!=e.callbackNode&&e.callbackNode===a?qd.bind(null,e):null)}function Ud(e,t){if(jd())return null;Yc(e,t,!0)}function Vd(){if(0===Od){var e=Ws;0===e&&(e=Ne,0===(261888&(Ne<<=1))&&(Ne=256)),Od=e}return Od}function Wd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Hd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}for(var Gd=0;Gd<_n.length;Gd++){var $d=_n[Gd];Sn($d.toLowerCase(),"on"+($d[0].toUpperCase()+$d.slice(1)))}Sn(gn,"onAnimationEnd"),Sn(vn,"onAnimationIteration"),Sn(bn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(yn,"onTransitionRun"),Sn(jn,"onTransitionStart"),Sn(wn,"onTransitionCancel"),Sn(Nn,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function Yd(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],i=l.instance,c=l.currentTarget;if(l=l.listener,i!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=c;try{r(s)}catch(d){Cn(d)}s.currentTarget=null,r=i}else for(o=0;o<n.length;o++){if(i=(l=n[o]).instance,c=l.currentTarget,l=l.listener,i!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=c;try{r(s)}catch(d){Cn(d)}s.currentTarget=null,r=i}}}}function Xd(e,t){var a=t[We];void 0===a&&(a=t[We]=new Set);var n=e+"__bubble";a.has(n)||(tu(t,e,2,!1),a.add(n))}function Jd(e,t,a){var n=0;t&&(n|=4),tu(a,e,n,t)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[Zd]){e[Zd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qd.has(t)||Jd(t,!1,e),Jd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zd]||(t[Zd]=!0,Jd("selectionchange",!1,t))}}function tu(e,t,a,n){switch(Cm(t)){case 2:var s=jm;break;case 8:s=wm;break;default:s=Nm}a=s.bind(null,t,a,e),s=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):void 0!==s?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function au(e,t,a,n,s){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var l=n.stateNode.containerInfo;if(l===s)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===s)return;o=o.return}for(;null!==l;){if(null===(o=Ye(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){n=r=o;continue e}l=l.parentNode}}n=n.return}Bt(function(){var n=r,s=Ot(a),o=[];e:{var l=kn.get(e);if(void 0!==l){var c=na,d=e;switch(e){case"keypress":if(0===Qt(a))break e;case"keydown":case"keyup":c=va;break;case"focusin":d="focus",c=ca;break;case"focusout":d="blur",c=ca;break;case"beforeblur":case"afterblur":c=ca;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=la;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ia;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=ya;break;case gn:case vn:case bn:c=da;break;case Nn:c=ja;break;case"scroll":case"scrollend":c=ra;break;case"wheel":c=wa;break;case"copy":case"cut":case"paste":c=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=ba;break;case"toggle":case"beforetoggle":c=Na}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),p=u?null!==l?l+"Capture":null:l;u=[];for(var h,f=n;null!==f;){var x=f;if(h=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===h||null===p||null!=(x=qt(f,p))&&u.push(nu(f,x,h)),m)break;f=f.return}0<u.length&&(l=new c(l,d,null,a,s),o.push({event:l,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||a===It||!(d=a.relatedTarget||a.fromElement)||!Ye(d)&&!d[Ve])&&(c||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=n,null!==(d=(d=a.relatedTarget||a.toElement)?Ye(d):null)&&(m=i(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=la,x="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=ba,x="onPointerLeave",p="onPointerEnter",f="pointer"),m=null==c?l:Je(c),h=null==d?l:Je(d),(l=new u(x,f+"leave",c,a,s)).target=m,l.relatedTarget=h,x=null,Ye(s)===n&&((u=new u(p,f+"enter",d,a,s)).target=h,u.relatedTarget=m,x=u),m=x,c&&d)e:{for(u=ru,f=d,h=0,x=p=c;x;x=u(x))h++;x=0;for(var g=f;g;g=u(g))x++;for(;0<h-x;)p=u(p),h--;for(;0<x-h;)f=u(f),x--;for(;h--;){if(p===f||null!==f&&p===f.alternate){u=p;break e}p=u(p),f=u(f)}u=null}else u=null;null!==c&&ou(o,l,c,u,!1),null!==d&&null!==m&&ou(o,m,d,u,!0)}if("select"===(c=(l=n?Je(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=qa;else if(Oa(l))if(Ua)v=Xa;else{v=Qa;var b=Ka}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?n&&At(n.elementType)&&(v=qa):v=Ya;switch(v&&(v=v(e,n))?Da(o,v,a,s):(b&&b(e,l,n),"focusout"===e&&n&&"number"===l.type&&null!=n.memoizedProps.value&&yt(l,"number",l.value)),b=n?Je(n):window,e){case"focusin":(Oa(b)||"true"===b.contentEditable)&&(on=b,ln=n,cn=null);break;case"focusout":cn=ln=on=null;break;case"mousedown":dn=!0;break;case"contextmenu":case"mouseup":case"dragend":dn=!1,un(o,a,s);break;case"selectionchange":if(rn)break;case"keydown":case"keyup":un(o,a,s)}var y;if(_a)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else za?Ra(e,a)&&(j="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(j="onCompositionStart");j&&(Ea&&"ko"!==a.locale&&(za||"onCompositionStart"!==j?"onCompositionEnd"===j&&za&&(y=Kt()):(Gt="value"in(Ht=s)?Ht.value:Ht.textContent,za=!0)),0<(b=su(n,j)).length&&(j=new ma(j,e,null,a,s),o.push({event:j,listeners:b}),y?j.data=y:null!==(y=Pa(a))&&(j.data=y))),(y=Ca?function(e,t){switch(e){case"compositionend":return Pa(t);case"keypress":return 32!==t.which?null:(Ta=!0,Aa);case"textInput":return(e=t.data)===Aa&&Ta?null:e;default:return null}}(e,a):function(e,t){if(za)return"compositionend"===e||!_a&&Ra(e,t)?(e=Kt(),$t=Gt=Ht=null,za=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ea&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(j=su(n,"onBeforeInput")).length&&(b=new ma("onBeforeInput","beforeinput",null,a,s),o.push({event:b,listeners:j}),b.data=y)),function(e,t,a,n,s){if("submit"===t&&a&&a.stateNode===s){var r=Wd((s[Ue]||null).action),o=n.submitter;o&&null!==(t=(t=o[Ue]||null)?Wd(t.formAction):o.getAttribute("formAction"))&&(r=t,o=null);var l=new na("action","action",null,n,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Od){var e=o?Hd(s,o):new FormData(s);al(a,{pending:!0,data:e,method:s.method,action:r},null,e)}}else"function"===typeof r&&(l.preventDefault(),e=o?Hd(s,o):new FormData(s),al(a,{pending:!0,data:e,method:s.method,action:r},r,e))},currentTarget:s}]})}}(o,e,n,a,s)}Yd(o,t)})}function nu(e,t,a){return{instance:e,listener:t,currentTarget:a}}function su(e,t){for(var a=t+"Capture",n=[];null!==e;){var s=e,r=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===r||(null!=(s=qt(e,a))&&n.unshift(nu(e,s,r)),null!=(s=qt(e,t))&&n.push(nu(e,s,r))),3===e.tag)return n;e=e.return}return[]}function ru(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ou(e,t,a,n,s){for(var r=t._reactName,o=[];null!==a&&a!==n;){var l=a,i=l.alternate,c=l.stateNode;if(l=l.tag,null!==i&&i===n)break;5!==l&&26!==l&&27!==l||null===c||(i=c,s?null!=(c=qt(a,r))&&o.unshift(nu(a,c,i)):s||null!=(c=qt(a,r))&&o.push(nu(a,c,i))),a=a.return}0!==o.length&&e.push({event:t,listeners:o})}var lu=/\r\n?/g,iu=/\u0000|\uFFFD/g;function cu(e){return("string"===typeof e?e:""+e).replace(lu,"\n").replace(iu,"")}function du(e,t){return t=cu(t),cu(e)===t}function uu(e,t,a,n,s,r){switch(a){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||kt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&kt(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,a,n);break;case"style":Et(e,n,r);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==a)){e.removeAttribute(a);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(a);break}n=Pt(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===a?("input"!==t&&uu(e,t,"name",s.name,s,null),uu(e,t,"formEncType",s.formEncType,s,null),uu(e,t,"formMethod",s.formMethod,s,null),uu(e,t,"formTarget",s.formTarget,s,null)):(uu(e,t,"encType",s.encType,s,null),uu(e,t,"method",s.method,s,null),uu(e,t,"target",s.target,s,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(a);break}n=Pt(""+n),e.setAttribute(a,n);break;case"onClick":null!=n&&(e.onclick=zt);break;case"onScroll":null!=n&&Xd("scroll",e);break;case"onScrollEnd":null!=n&&Xd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(a=n.__html)){if(null!=s.children)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}a=Pt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===n?e.setAttribute(a,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Xd("beforetoggle",e),Xd("toggle",e),it(e,"popover",n);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":it(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&it(e,a=Tt.get(a)||a,n)}}function mu(e,t,a,n,s,r){switch(a){case"style":Et(e,n,r);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(a=n.__html)){if(null!=s.children)throw Error(o(60));e.innerHTML=a}}break;case"children":"string"===typeof n?kt(e,n):("number"===typeof n||"bigint"===typeof n)&&kt(e,""+n);break;case"onScroll":null!=n&&Xd("scroll",e);break;case"onScrollEnd":null!=n&&Xd("scrollend",e);break;case"onClick":null!=n&&(e.onclick=zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:at.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),"function"===typeof(r=null!=(r=e[Ue]||null)?r[a]:null)&&e.removeEventListener(t,r,s),"function"!==typeof n)?a in e?e[a]=n:!0===n?e.setAttribute(a,""):it(e,a,n):("function"!==typeof r&&null!==r&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s)))}}function pu(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xd("error",e),Xd("load",e);var n,s=!1,r=!1;for(n in a)if(a.hasOwnProperty(n)){var l=a[n];if(null!=l)switch(n){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:uu(e,t,n,l,a,null)}}return r&&uu(e,t,"srcSet",a.srcSet,a,null),void(s&&uu(e,t,"src",a.src,a,null));case"input":Xd("invalid",e);var i=n=l=r=null,c=null,d=null;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];if(null!=u)switch(s){case"name":r=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":i=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(o(137,t));break;default:uu(e,t,s,u,a,null)}}return void bt(e,n,i,c,d,l,r,!1);case"select":for(r in Xd("invalid",e),s=l=n=null,a)if(a.hasOwnProperty(r)&&null!=(i=a[r]))switch(r){case"value":n=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:uu(e,t,r,i,a,null)}return t=n,a=l,e.multiple=!!s,void(null!=t?jt(e,!!s,t,!1):null!=a&&jt(e,!!s,a,!0));case"textarea":for(l in Xd("invalid",e),n=r=s=null,a)if(a.hasOwnProperty(l)&&null!=(i=a[l]))switch(l){case"value":s=i;break;case"defaultValue":r=i;break;case"children":n=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:uu(e,t,l,i,a,null)}return void Nt(e,s,r,n);case"option":for(c in a)if(a.hasOwnProperty(c)&&null!=(s=a[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else uu(e,t,c,s,a,null);return;case"dialog":Xd("beforetoggle",e),Xd("toggle",e),Xd("cancel",e),Xd("close",e);break;case"iframe":case"object":Xd("load",e);break;case"video":case"audio":for(s=0;s<Kd.length;s++)Xd(Kd[s],e);break;case"image":Xd("error",e),Xd("load",e);break;case"details":Xd("toggle",e);break;case"embed":case"source":case"link":Xd("error",e),Xd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&null!=(s=a[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:uu(e,t,d,s,a,null)}return;default:if(At(t)){for(u in a)a.hasOwnProperty(u)&&(void 0!==(s=a[u])&&mu(e,t,u,s,a,void 0));return}}for(i in a)a.hasOwnProperty(i)&&(null!=(s=a[i])&&uu(e,t,i,s,a,null))}function hu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fu=null,xu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ju=null;var wu="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,ku="function"===typeof Promise?Promise:void 0,_u="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ku?function(e){return ku.resolve(null).then(e).catch(Su)}:wu;function Su(e){setTimeout(function(){throw e})}function Cu(e){return"head"===e}function Eu(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&8===s.nodeType)if("/$"===(a=s.data)||"/&"===a){if(0===n)return e.removeChild(s),void Hm(t);n--}else if("$"===a||"$?"===a||"$~"===a||"$!"===a||"&"===a)n++;else if("html"===a)Fu(e.ownerDocument.documentElement);else if("head"===a){Fu(a=e.ownerDocument.head);for(var r=a.firstChild;r;){var o=r.nextSibling,l=r.nodeName;r[Ke]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===r.rel.toLowerCase()||a.removeChild(r),r=o}}else"body"===a&&Fu(e.ownerDocument.body);a=s}while(a);Hm(t)}function Au(e,t){var a=e;e=0;do{var n=a.nextSibling;if(1===a.nodeType?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",""===a.getAttribute("style")&&a.removeAttribute("style")):3===a.nodeType&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&8===n.nodeType)if("/$"===(a=n.data)){if(0===e)break;e--}else"$"!==a&&"$?"!==a&&"$~"!==a&&"$!"!==a||e++;a=n}while(a)}function Tu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tu(a),Qe(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function Ru(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Iu(e.nextSibling)))return null}return e}function Pu(e){return"$?"===e.data||"$~"===e.data}function zu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Iu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ou=null;function Du(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a||"/&"===a){if(0===t)return Iu(e.nextSibling);t--}else"$"!==a&&"$!"!==a&&"$?"!==a&&"$~"!==a&&"&"!==a||t++}e=e.nextSibling}return null}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a||"$~"===a||"&"===a){if(0===t)return e;t--}else"/$"!==a&&"/&"!==a||t++}e=e.previousSibling}return null}function Lu(e,t,a){switch(t=gu(a),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Fu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Bu=new Map,qu=new Set;function Uu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vu=O.d;O.d={f:function(){var e=Vu.f(),t=ed();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?sl(t):Vu.r(e)},D:function(e){Vu.D(e),Hu("dns-prefetch",e,null)},C:function(e,t){Vu.C(e,t),Hu("preconnect",e,t)},L:function(e,t,a){Vu.L(e,t,a);var n=Wu;if(n&&e&&t){var s='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&a&&a.imageSrcSet?(s+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',"string"===typeof a.imageSizes&&(s+='[imagesizes="'+gt(a.imageSizes)+'"]')):s+='[href="'+gt(e)+'"]';var r=s;switch(t){case"style":r=$u(e);break;case"script":r=Yu(e)}Bu.has(r)||(e=p({rel:"preload",href:"image"===t&&a&&a.imageSrcSet?void 0:e,as:t},a),Bu.set(r,e),null!==n.querySelector(s)||"style"===t&&n.querySelector(Ku(r))||"script"===t&&n.querySelector(Xu(r))||(pu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){Vu.m(e,t);var a=Wu;if(a&&e){var n=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',r=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Yu(e)}if(!Bu.has(r)&&(e=p({rel:"modulepreload",href:e},t),Bu.set(r,e),null===a.querySelector(s))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xu(r)))return}pu(n=a.createElement("link"),"link",e),et(n),a.head.appendChild(n)}}},X:function(e,t){Vu.X(e,t);var a=Wu;if(a&&e){var n=Ze(a).hoistableScripts,s=Yu(e),r=n.get(s);r||((r=a.querySelector(Xu(s)))||(e=p({src:e,async:!0},t),(t=Bu.get(s))&&tm(e,t),et(r=a.createElement("script")),pu(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}},S:function(e,t,a){Vu.S(e,t,a);var n=Wu;if(n&&e){var s=Ze(n).hoistableStyles,r=$u(e);t=t||"default";var o=s.get(r);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(Ku(r)))l.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Bu.get(r))&&em(e,a);var i=o=n.createElement("link");et(i),pu(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){l.loading|=1}),i.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Zu(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},s.set(r,o)}}},M:function(e,t){Vu.M(e,t);var a=Wu;if(a&&e){var n=Ze(a).hoistableScripts,s=Yu(e),r=n.get(s);r||((r=a.querySelector(Xu(s)))||(e=p({src:e,async:!0,type:"module"},t),(t=Bu.get(s))&&tm(e,t),et(r=a.createElement("script")),pu(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(s,r))}}};var Wu="undefined"===typeof document?null:document;function Hu(e,t,a){var n=Wu;if(n&&"string"===typeof t&&t){var s=gt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof a&&(s+='[crossorigin="'+a+'"]'),qu.has(s)||(qu.add(s),e={rel:e,crossOrigin:a,href:t},null===n.querySelector(s)&&(pu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function Gu(e,t,a,n){var s,r,l,i,c=(c=G.current)?Uu(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof a.precedence&&"string"===typeof a.href?(t=$u(a.href),(n=(a=Ze(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"===typeof a.href&&"string"===typeof a.precedence){e=$u(a.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ku(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Bu.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bu.set(e,a),d||(s=c,r=e,l=a,i=u.state,s.querySelector('link[rel="preload"][as="style"]['+r+"]")?i.loading=1:(r=s.createElement("link"),i.preload=r,r.addEventListener("load",function(){return i.loading|=1}),r.addEventListener("error",function(){return i.loading|=2}),pu(r,"link",l),et(r),s.head.appendChild(r))))),t&&null===n)throw Error(o(528,""));return u}if(t&&null!==n)throw Error(o(529,""));return null;case"script":return t=a.async,"string"===typeof(a=a.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yu(a),(n=(a=Ze(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function $u(e){return'href="'+gt(e)+'"'}function Ku(e){return'link[rel="stylesheet"]['+e+"]"}function Qu(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yu(e){return'[src="'+gt(e)+'"]'}function Xu(e){return"script[async]"+e}function Ju(e,t,a){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(a.href)+'"]');if(n)return t.instance=n,et(n),n;var s=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),pu(n,"style",s),Zu(n,a.precedence,e),t.instance=n;case"stylesheet":s=$u(a.href);var r=e.querySelector(Ku(s));if(r)return t.state.loading|=4,t.instance=r,et(r),r;n=Qu(a),(s=Bu.get(s))&&em(n,s),et(r=(e.ownerDocument||e).createElement("link"));var l=r;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),pu(r,"link",n),t.state.loading|=4,Zu(r,a.precedence,e),t.instance=r;case"script":return r=Yu(a.src),(s=e.querySelector(Xu(r)))?(t.instance=s,et(s),s):(n=a,(s=Bu.get(r))&&tm(n=p({},a),s),et(s=(e=e.ownerDocument||e).createElement("script")),pu(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Zu(n,a.precedence,e));return t.instance}function Zu(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,r=s,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===a.nodeType?a.head:a).insertBefore(e,t.firstChild)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function tm(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var am=null;function nm(e,t,a){if(null===am){var n=new Map,s=am=new Map;s.set(a,n)}else(n=(s=am).get(a))||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var r=a[s];if(!(r[Ke]||r[qe]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var o=r.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(r):n.set(o,[r])}}return n}function sm(e,t,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===t?e.querySelector("head > title"):null)}function rm(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var om=0;function lm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var im=null;function cm(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,im=new Map,t.forEach(dm,e),im=null,lm.call(e))}function dm(e,t){if(!(4&t.state.loading)){var a=im.get(e);if(a)var n=a.get(null);else{a=new Map,im.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var o=s[r];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}o=(s=t.instance).getAttribute("data-precedence"),(r=a.get(o)||n)===n&&a.set(null,s),a.set(o,s),this.count++,n=lm.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),r?r.parentNode.insertBefore(s,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var um={$$typeof:j,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function mm(e,t,a,n,s,r,o,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function pm(e,t,a,n,s,r,o,l,i,c,d,u){return e=new mm(e,t,a,o,i,c,d,u,l),t=1,!0===r&&(t|=24),r=Fn(3,null,null,t),e.current=r,r.stateNode=e,(t=Bs()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:a,cache:t},gr(r),e}function hm(e){return e?e=Mn:Mn}function fm(e,t,a,n,s,r){s=hm(s),null===n.context?n.context=s:n.pendingContext=s,(n=br(t)).payload={element:a},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(a=yr(e,n,t))&&(Qc(a,0,t),jr(a,e,t))}function xm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function gm(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function vm(e){if(13===e.tag||31===e.tag){var t=In(e,67108864);null!==t&&Qc(t,0,67108864),gm(e,67108864)}}function bm(e){if(13===e.tag||31===e.tag){var t=$c(),a=In(e,t=De(t));null!==a&&Qc(a,0,t),gm(e,t)}}var ym=!0;function jm(e,t,a,n){var s=I.T;I.T=null;var r=O.p;try{O.p=2,Nm(e,t,a,n)}finally{O.p=r,I.T=s}}function wm(e,t,a,n){var s=I.T;I.T=null;var r=O.p;try{O.p=8,Nm(e,t,a,n)}finally{O.p=r,I.T=s}}function Nm(e,t,a,n){if(ym){var s=km(n);if(null===s)au(e,t,n,_m,a),Dm(e,n);else if(function(e,t,a,n,s){switch(t){case"focusin":return Am=Mm(Am,e,t,a,n,s),!0;case"dragenter":return Tm=Mm(Tm,e,t,a,n,s),!0;case"mouseover":return Rm=Mm(Rm,e,t,a,n,s),!0;case"pointerover":var r=s.pointerId;return Pm.set(r,Mm(Pm.get(r)||null,e,t,a,n,s)),!0;case"gotpointercapture":return r=s.pointerId,zm.set(r,Mm(zm.get(r)||null,e,t,a,n,s)),!0}return!1}(s,e,t,a,n))n.stopPropagation();else if(Dm(e,n),4&t&&-1<Om.indexOf(e)){for(;null!==s;){var r=Xe(s);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var o=Se(r.pendingLanes);if(0!==o){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var i=1<<31-ye(o);l.entanglements[1]|=i,o&=~i}Dd(r),0===(6&hc)&&(Oc=ie()+500,Md(0,!1))}}break;case 31:case 13:null!==(l=In(r,2))&&Qc(l,0,2),ed(),gm(r,2)}if(null===(r=km(n))&&au(e,t,n,_m,a),r===s)break;s=r}null!==s&&n.stopPropagation()}else au(e,t,n,null,a)}}function km(e){return Sm(e=Ot(e))}var _m=null;function Sm(e){if(_m=null,null!==(e=Ye(e))){var t=i(e);if(null===t)e=null;else{var a=t.tag;if(13===a){if(null!==(e=c(t)))return e;e=null}else if(31===a){if(null!==(e=d(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _m=e,null}function Cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case pe:return 32;case he:return 268435456;default:return 32}default:return 32}}var Em=!1,Am=null,Tm=null,Rm=null,Pm=new Map,zm=new Map,Im=[],Om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,t){switch(e){case"focusin":case"focusout":Am=null;break;case"dragenter":case"dragleave":Tm=null;break;case"mouseover":case"mouseout":Rm=null;break;case"pointerover":case"pointerout":Pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zm.delete(t.pointerId)}}function Mm(e,t,a,n,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=Xe(t))&&vm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lm(e){var t=Ye(e.target);if(null!==t){var a=i(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=c(a)))return e.blockedOn=t,void Fe(e.priority,function(){bm(a)})}else if(31===t){if(null!==(t=d(a)))return e.blockedOn=t,void Fe(e.priority,function(){bm(a)})}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Fm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=km(e.nativeEvent);if(null!==a)return null!==(t=Xe(a))&&vm(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);It=n,a.target.dispatchEvent(n),It=null,t.shift()}return!0}function Bm(e,t,a){Fm(e)&&a.delete(t)}function qm(){Em=!1,null!==Am&&Fm(Am)&&(Am=null),null!==Tm&&Fm(Tm)&&(Tm=null),null!==Rm&&Fm(Rm)&&(Rm=null),Pm.forEach(Bm),zm.forEach(Bm)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,Em||(Em=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qm)))}var Vm=null;function Wm(e){Vm!==e&&(Vm=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vm===e&&(Vm=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if("function"!==typeof n){if(null===Sm(n||a))continue;break}var r=Xe(a);null!==r&&(e.splice(t,3),t-=3,al(r,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function Hm(e){function t(t){return Um(t,e)}null!==Am&&Um(Am,e),null!==Tm&&Um(Tm,e),null!==Rm&&Um(Rm,e),Pm.forEach(t),zm.forEach(t);for(var a=0;a<Im.length;a++){var n=Im[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Im.length&&null===(a=Im[0]).blockedOn;)Lm(a),null===a.blockedOn&&Im.shift();if(null!=(a=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<a.length;n+=3){var s=a[n],r=a[n+1],o=s[Ue]||null;if("function"===typeof r)o||Wm(a);else if(o){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,o=r[Ue]||null)l=o.formAction;else if(null!==Sm(s))continue}else l=o.action;"function"===typeof l?a[n+1]=l:(a.splice(n,3),n-=3),Wm(a)}}}function Gm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function $m(e){this._internalRoot=e}function Km(e){this._internalRoot=e}Km.prototype.render=$m.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));fm(t.current,$c(),e,t,null,null)},Km.prototype.unmount=$m.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fm(e.current,2,null,e,null,null),ed(),t[Ve]=null}},Km.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Im.length&&0!==t&&t<Im[a].priority;a++);Im.splice(a,0,e),0===a&&Lm(e)}};var Qm=s.version;if("19.2.0"!==Qm)throw Error(o(527,Qm,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(o(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(n=s.return)){a=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===a)return u(s),e;if(r===n)return u(s),t;r=r.sibling}throw Error(o(188))}if(a.return!==n.return)a=s,n=r;else{for(var l=!1,c=s.child;c;){if(c===a){l=!0,a=s,n=r;break}if(c===n){l=!0,n=s,a=r;break}c=c.sibling}if(!l){for(c=r.child;c;){if(c===a){l=!0,a=r,n=s;break}if(c===n){l=!0,n=r,a=s;break}c=c.sibling}if(!l)throw Error(o(189))}}if(a.alternate!==n)throw Error(o(190))}if(3!==a.tag)throw Error(o(188));return a.stateNode.current===a?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Ym={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xm.isDisabled&&Xm.supportsFiber)try{ge=Xm.inject(Ym),ve=Xm}catch(Zm){}}t.createRoot=function(e,t){if(!l(e))throw Error(o(299));var a=!1,n="",s=_l,r=Sl,i=Cl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=pm(e,1,!1,null,0,a,n,null,s,r,i,Gm),e[Ve]=t.current,eu(e),new $m(t)},t.hydrateRoot=function(e,t,a){if(!l(e))throw Error(o(299));var n=!1,s="",r=_l,i=Sl,c=Cl,d=null;return null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(n=!0),void 0!==a.identifierPrefix&&(s=a.identifierPrefix),void 0!==a.onUncaughtError&&(r=a.onUncaughtError),void 0!==a.onCaughtError&&(i=a.onCaughtError),void 0!==a.onRecoverableError&&(c=a.onRecoverableError),void 0!==a.formState&&(d=a.formState)),(t=pm(e,1,!0,t,0,n,s,d,r,i,c,Gm)).context=hm(null),a=t.current,(s=br(n=De(n=$c()))).callback=null,yr(a,s,n),a=n,t.current.lanes=a,Pe(t,a),Dd(t),e[Ve]=t.current,eu(e),new Km(t)},t.version="19.2.0"},43:(e,t,a)=>{e.exports=a(288)},288:(e,t)=>{var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function v(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}function b(){}function y(e,t,a){this.props=e,this.context=t,this.refs=g,this.updater=a||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var j=y.prototype=new b;j.constructor=y,x(j,v.prototype),j.isPureReactComponent=!0;var w=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function S(e,t,n){var s=n.ref;return{$$typeof:a,type:e,key:t,ref:void 0!==s?s:null,props:n}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,s,r,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var i,c,d=!1;if(null===e)d=!0;else switch(l){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case a:case n:d=!0;break;case m:return T((d=e._init)(e._payload),t,s,r,o)}}if(d)return o=o(e),d=""===r?"."+A(e,0):r,w(o)?(s="",null!=d&&(s=d.replace(E,"$&/")+"/"),T(o,t,s,"",function(e){return e})):null!=o&&(C(o)&&(i=o,c=s+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+d,o=S(i.type,c,i.props)),t.push(o)),1;d=0;var u,p=""===r?".":r+":";if(w(e))for(var f=0;f<e.length;f++)d+=T(r=e[f],t,s,l=p+A(r,f),o);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(r=e.next()).done;)d+=T(r=r.value,t,s,l=p+A(r,f++),o);else if("object"===l){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,r,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function R(e,t,a){if(null==e)return e;var n=[],s=0;return T(e,n,"","",function(e){return t.call(a,e,s++)}),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},I={map:R,forEach:function(e,t,a){R(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=I,t.Component=v,t.Fragment=s,t.Profiler=o,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=x({},e.props),s=e.key;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)!_.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(n[r]=t[r]);var r=arguments.length-2;if(1===r)n.children=a;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];n.children=o}return S(e.type,s,n)},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,a){var n,s={},r=null;if(null!=t)for(n in void 0!==t.key&&(r=""+t.key),t)_.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(s[n]=t[n]);var o=arguments.length-2;if(1===o)s.children=a;else if(1<o){for(var l=Array(o),i=0;i<o;i++)l[i]=arguments[i+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===s[n]&&(s[n]=o[n]);return S(e,r,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,a={};k.T=a;try{var n=e(),s=k.S;null!==s&&s(a,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(N,z)}catch(r){z(r)}finally{null!==t&&null!==a.types&&(t.types=a.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,a){return k.H.useActionState(e,t,a)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,a){return k.H.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,a){return k.H.useReducer(e,t,a)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,a){return k.H.useSyncExternalStore(e,t,a)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.0"},391:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(4)},579:(e,t,a)=>{e.exports=a(799)},672:(e,t,a)=>{var n=a(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");var i=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.flushSync=function(e){var t=i.T,a=o.p;try{if(i.T=null,o.p=2,e)return e()}finally{i.T=t,o.p=a,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var a=t.as,n=c(a,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===a?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:s,fetchPriority:r}):"script"===a&&o.d.X(e,{crossOrigin:n,integrity:s,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var a=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var a=t.as,n=c(a,t.crossOrigin);o.d.L(e,a,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var a=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,a){return i.H.useFormState(e,t,a)},t.useFormStatus=function(){return i.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(e,t,n){var s=null;if(void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),"key"in t)for(var r in n={},t)"key"!==r&&(n[r]=t[r]);else n=t;return t=n.ref,{$$typeof:a,type:e,key:s,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=s,t.jsxs=s},853:(e,t,a)=>{e.exports=a(896)},896:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,s=e[n];if(!(0<r(s,t)))break e;e[n]=t,e[a]=s,a=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,s=e.length,o=s>>>1;n<o;){var l=2*(n+1)-1,i=e[l],c=l+1,d=e[c];if(0>r(i,a))c<s&&0>r(d,i)?(e[n]=d,e[c]=a,n=c):(e[n]=i,e[l]=a,n=l);else{if(!(c<s&&0>r(d,a)))break e;e[n]=d,e[c]=a,n=c}}}return t}function r(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();t.unstable_now=function(){return l.now()-i}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,x=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,a(c,t)}t=n(d)}}function w(e){if(x=!1,j(e),!f)if(null!==n(c))f=!0,k||(k=!0,N());else{var t=n(d);null!==t&&P(w,t.startTime-e)}}var N,k=!1,_=-1,S=5,C=-1;function E(){return!!g||!(t.unstable_now()-C<S)}function A(){if(g=!1,k){var e=t.unstable_now();C=e;var a=!0;try{e:{f=!1,x&&(x=!1,b(_),_=-1),h=!0;var r=p;try{t:{for(j(e),m=n(c);null!==m&&!(m.expirationTime>e&&E());){var o=m.callback;if("function"===typeof o){m.callback=null,p=m.priorityLevel;var l=o(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){m.callback=l,j(e),a=!0;break t}m===n(c)&&s(c),j(e)}else s(c);m=n(c)}if(null!==m)a=!0;else{var i=n(d);null!==i&&P(w,i.startTime-e),a=!1}}break e}finally{m=null,p=r,h=!1}a=void 0}}finally{a?N():k=!1}}}if("function"===typeof y)N=function(){y(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=A,N=function(){R.postMessage(null)}}else N=function(){v(A,0)};function P(e,a){_=v(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var a=p;p=t;try{return e()}finally{p=a}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=p;p=e;try{return t()}finally{p=a}},t.unstable_scheduleCallback=function(e,s,r){var o=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>o?(e.sortIndex=r,a(d,e),null===n(c)&&e===n(d)&&(x?(b(_),_=-1):x=!0,P(w,r-o))):(e.sortIndex=l,a(c,e),f||h||(f=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var a=p;p=t;try{return e.apply(this,arguments)}finally{p=a}}}},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(672)}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var r=Object.create(null);a.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&s&&n;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>o[e]=()=>n[e]);return o.default=()=>n,a.d(r,o),r}})(),a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0;var n={};a.r(n),a.d(n,{hasBrowserEnv:()=>Xs,hasStandardBrowserEnv:()=>Zs,hasStandardBrowserWebWorkerEnv:()=>er,navigator:()=>Js,origin:()=>tr});var s=a(43),r=a.t(s,2),o=a(391);function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function d(e,t,a){return(t=c(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){d(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const p=["sri"],h=["page"],f=["page","matches"],x=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var b="popstate";function y(){return C(function(e,t){let{pathname:a,search:n,hash:s}=e.location;return k("",{pathname:a,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:_(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function j(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return m(m({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:a,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function S(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function C(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:r=!1}=n,o=s.history,l="POP",i=null,c=d();function d(){return(o.state||{idx:null}).idx}function u(){l="POP";let e=d(),t=null==e?null:e-c;c=e,i&&i({action:l,location:h.location,delta:t})}function p(e){return E(e)}null==c&&(c=0,o.replaceState(m(m({},o.state),{},{idx:c}),""));let h={get action(){return l},get location(){return e(s,o)},listen(e){if(i)throw new Error("A history only accepts one active listener");return s.addEventListener(b,u),i=e,()=>{s.removeEventListener(b,u),i=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=k(h.location,e,t);a&&a(n,e),c=d()+1;let u=N(n,c),m=h.createHref(n);try{o.pushState(u,"",m)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(m)}r&&i&&i({action:l,location:h.location,delta:1})},replace:function(e,t){l="REPLACE";let n=k(h.location,e,t);a&&a(n,e),c=d();let s=N(n,c),u=h.createHref(n);o.replaceState(s,"",u),r&&i&&i({action:l,location:h.location,delta:0})},go:e=>o.go(e)};return h}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="http://localhost";"undefined"!==typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href),j(a,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:_(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=a+n),new URL(n,a)}new WeakMap;function A(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,a,n){let s=H(("string"===typeof t?S(t):t).pathname||"/",a);if(null==s)return null;let r=R(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let o=null;for(let l=0;null==o&&l<r.length;++l){let e=W(s);o=q(r[l],e,n)}return o}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,l=arguments.length>3?arguments[3]:void 0,i={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};if(i.relativePath.startsWith("/")){if(!i.relativePath.startsWith(n)&&o)return;j(i.relativePath.startsWith(n),'Absolute route path "'.concat(i.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),i.relativePath=i.relativePath.slice(n.length)}let c=Y([n,i.relativePath]),d=a.concat(i);e.children&&e.children.length>0&&(j(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),R(e.children,t,d,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:B(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var a;if(""!==e.path&&null!==(a=e.path)&&void 0!==a&&a.includes("?"))for(let n of P(e.path))r(e,t,!0,n);else r(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,s=a.endsWith("?"),r=a.replace(/\?$/,"");if(0===n.length)return s?[r,""]:[r];let o=P(n.join("/")),l=[];return l.push(...o.map(e=>""===e?r:[r,e].join("/"))),s&&l.push(...o),l.map(t=>e.startsWith("/")&&""===t?"/":t)}var z=/^:[\w-]+$/,I=3,O=2,D=1,M=10,L=-2,F=e=>"*"===e;function B(e,t){let a=e.split("/"),n=a.length;return a.some(F)&&(n+=L),t&&(n+=O),a.filter(e=>!F(e)).reduce((e,t)=>e+(z.test(t)?I:""===t?D:M),n)}function q(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,s={},r="/",o=[];for(let l=0;l<n.length;++l){let e=n[l],i=l===n.length-1,c="/"===r?t:t.slice(r.length)||"/",d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},c),u=e.route;if(!d&&i&&a&&!n[n.length-1].route.index&&(d=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Y([r,d.pathname]),pathnameBase:X(Y([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=Y([r,d.pathnameBase]))}return o}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=V(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),l=s.slice(1),i=n.reduce((e,t,a)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=l[a]||"";o=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const i=l[a];return e[n]=s&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{});return{params:i,pathname:r,pathnameBase:o,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function W(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function G(e,t,a,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(a,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function $(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=$(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,a){let n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=S(e):(n=m({},e),j(!n.pathname||!n.pathname.includes("?"),G("?","pathname","search",n)),j(!n.pathname||!n.pathname.includes("#"),G("#","pathname","hash",n)),j(!n.search||!n.search.includes("#"),G("#","search","hash",n)));let r,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)r=a;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}r=e>=0?t[e]:"/"}let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:a,search:n="",hash:s=""}="string"===typeof e?S(e):e,r=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:r,search:J(n),hash:Z(s)}}(n,r),c=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&a.endsWith("/");return i.pathname.endsWith("/")||!c&&!d||(i.pathname+="/"),i}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["POST","PUT","PATCH","DELETE"],ae=(new Set(te),["GET",...te]);new Set(ae),Symbol("ResetLoaderData");var ne=s.createContext(null);ne.displayName="DataRouter";var se=s.createContext(null);se.displayName="DataRouterState";var re=s.createContext(!1);var oe=s.createContext({isTransitioning:!1});oe.displayName="ViewTransition";var le=s.createContext(new Map);le.displayName="Fetchers";var ie=s.createContext(null);ie.displayName="Await";var ce=s.createContext(null);ce.displayName="Navigation";var de=s.createContext(null);de.displayName="Location";var ue=s.createContext({outlet:null,matches:[],isDataRoute:!1});ue.displayName="Route";var me=s.createContext(null);me.displayName="RouteError";function pe(){return null!=s.useContext(de)}function he(){return j(pe(),"useLocation() may be used only in the context of a <Router> component."),s.useContext(de).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xe(e){s.useContext(ce).static||s.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=s.useContext(ue);return e?function(){let{router:e}=Se("useNavigate"),t=Ee("useNavigate"),a=s.useRef(!1);xe(()=>{a.current=!0});let n=s.useCallback(async function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(a.current,fe),a.current&&("number"===typeof n?e.navigate(n):await e.navigate(n,m({fromRouteId:t},s)))},[e,t]);return n}():function(){j(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=s.useContext(ne),{basename:t,navigator:a}=s.useContext(ce),{matches:n}=s.useContext(ue),{pathname:r}=he(),o=JSON.stringify(K(n)),l=s.useRef(!1);xe(()=>{l.current=!0});let i=s.useCallback(function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(l.current,fe),!l.current)return;if("number"===typeof n)return void a.go(n);let i=Q(n,JSON.parse(o),r,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:Y([t,i.pathname])),(s.replace?a.replace:a.push)(i,s.state,s)},[t,a,o,r,e]);return i}()}function ve(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:a}=s.useContext(ue),{pathname:n}=he(),r=JSON.stringify(K(a));return s.useMemo(()=>Q(e,JSON.parse(r),n,"path"===t),[e,r,n,t])}function be(e,t,a,n,r){j(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=s.useContext(ce),{matches:l}=s.useContext(ue),i=l[l.length-1],c=i?i.params:{},d=i?i.pathname:"/",u=i?i.pathnameBase:"/",p=i&&i.route;{let e=p&&p.path||"";Re(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let h,f=he();if(t){var x;let e="string"===typeof t?S(t):t;j("/"===u||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=A(e,{pathname:v});w(p||null!=b,'No routes matched location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" ')),w(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let y=ke(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Y([u,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Y([u,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,a,n,r);return t&&y?s.createElement(de.Provider,{value:{location:m({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:"POP"}},y):y}function ye(){let e=Ae(),t=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=s.createElement(s.Fragment,null,s.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:o},"ErrorBoundary")," or"," ",s.createElement("code",{style:o},"errorElement")," prop on your route.")),s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),a?s.createElement("pre",{style:r},a):null,l)}var je=s.createElement(ye,null),we=class extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?s.createElement(ue.Provider,{value:this.props.routeContext},s.createElement(me.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ne(e){let{routeContext:t,match:a,children:n}=e,r=s.useContext(ne);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),s.createElement(ue.Provider,{value:t},n)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!a)return null;if(a.errors)e=a.matches;else{if(0!==t.length||a.initialized||!(a.matches.length>0))return null;e=a.matches}}let r=e,o=null===a||void 0===a?void 0:a.errors;if(null!=o){let e=r.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));j(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let l=!1,i=-1;if(a)for(let s=0;s<r.length;s++){let e=r[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(i=s),e.route.id){let{loaderData:t,errors:n}=a,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){l=!0,r=i>=0?r.slice(0,i+1):[r[0]];break}}}return r.reduceRight((e,c,d)=>{let u,m=!1,p=null,h=null;a&&(u=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||je,l&&(i<0&&0===d?(Re("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,h=null):i===d&&(m=!0,h=c.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,d+1)),x=()=>{let t;return t=u?p:m?h:c.route.Component?s.createElement(c.route.Component,null):c.route.element?c.route.element:e,s.createElement(Ne,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=a},children:t})};return a&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?s.createElement(we,{location:a.location,revalidation:a.revalidation,component:p,error:u,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:n}):x()},null)}function _e(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=s.useContext(ne);return j(t,_e(e)),t}function Ce(e){let t=s.useContext(se);return j(t,_e(e)),t}function Ee(e){let t=function(e){let t=s.useContext(ue);return j(t,_e(e)),t}(e),a=t.matches[t.matches.length-1];return j(a.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),a.route.id}function Ae(){var e;let t=s.useContext(me),a=Ce("useRouteError"),n=Ee("useRouteError");return void 0!==t?t:null===(e=a.errors)||void 0===e?void 0:e[n]}var Te={};function Re(e,t,a){t||Te[e]||(Te[e]=!0,w(!1,a))}var Pe={};function ze(e,t){e||Pe[t]||(Pe[t]=!0,console.warn(t))}function Ie(e){let{to:t,replace:a,state:n,relative:r}=e;j(pe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=s.useContext(ce);w(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=s.useContext(ue),{pathname:i}=he(),c=ge(),d=Q(t,K(l),i,"path"===r),u=JSON.stringify(d);return s.useEffect(()=>{c(JSON.parse(u),{replace:a,state:n,relative:r})},[c,u,r,a,n]),null}function Oe(e){j(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:t="/",children:a=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}=e;j(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),c=s.useMemo(()=>({basename:i,navigator:o,static:l,future:{}}),[i,o,l]);"string"===typeof n&&(n=S(n));let{pathname:d="/",search:u="",hash:m="",state:p=null,key:h="default"}=n,f=s.useMemo(()=>{let e=H(d,i);return null==e?null:{location:{pathname:e,search:u,hash:m,state:p,key:h},navigationType:r}},[i,d,u,m,p,h,r]);return w(null!=f,'<Router basename="'.concat(i,'"> is not able to match the URL "').concat(d).concat(u).concat(m,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:s.createElement(ce.Provider,{value:c},s.createElement(de.Provider,{children:a,value:f}))}function Me(e){let{children:t,location:a}=e;return be(Le(t),a)}s.Component;function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];return s.Children.forEach(e,(e,n)=>{if(!s.isValidElement(e))return;let r=[...t,n];if(e.type===s.Fragment)return void a.push.apply(a,Le(e.props.children,r));j(e.type===Oe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),j(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Le(e.props.children,r)),a.push(o)}),a}var Fe="get",Be="application/x-www-form-urlencoded";function qe(e){return null!=e&&"string"===typeof e.tagName}var Ue=null;var Ve=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function We(e){return null==e||Ve.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Be,'"')),null)}function He(e,t){let a,n,s,r,o;if(qe(l=e)&&"form"===l.tagName.toLowerCase()){let o=e.getAttribute("action");n=o?H(o,t):null,a=e.getAttribute("method")||Fe,s=We(e.getAttribute("enctype"))||Be,r=new FormData(e)}else if(function(e){return qe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return qe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?H(l,t):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||Fe,s=We(e.getAttribute("formenctype"))||We(o.getAttribute("enctype"))||Be,r=new FormData(o,e),!function(){if(null===Ue)try{new FormData(document.createElement("form"),0),Ue=!1}catch(e){Ue=!0}return Ue}()){let{name:t,type:a,value:n}=e;if("image"===a){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,n)}}else{if(qe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Fe,n=null,s=Be,o=e}var l;return r&&"text/plain"===s&&(o=r,r=void 0),{action:n,method:a.toLowerCase(),encType:s,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ge(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function $e(e,t,a){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.".concat(a):t&&"/"===H(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(a):n.pathname="".concat(n.pathname.replace(/\/$/,""),".").concat(a),n}async function Ke(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qe(e){return null!=e&&"string"===typeof e.page}function Ye(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Xe(e,t,a,n,s,r){let o=(e,t)=>!a[t]||e.route.id!==a[t].route.id,l=(e,t)=>{var n;return a[t].pathname!==e.pathname||(null===(n=a[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&a[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter((e,t)=>o(e,t)||l(e,t)):"data"===r?t.filter((t,r)=>{let i=n.routes[t.route.id];if(!i||!i.hasLoader)return!1;if(o(t,r)||l(t,r))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=a[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Je(e,t){let{includeHydrateFallback:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let s=[n.module];return n.clientActionModule&&(s=s.concat(n.clientActionModule)),n.clientLoaderModule&&(s=s.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(s=s.concat(n.hydrateFallbackModule)),n.imports&&(s=s.concat(n.imports)),s}).flat(1),[...new Set(n)];var n}function Ze(e,t){let a=new Set,n=new Set(t);return e.reduce((e,s)=>{if(t&&!Qe(s)&&"script"===s.as&&s.href&&n.has(s.href))return e;let r=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let n of a)t[n]=e[n];return t}(s));return a.has(r)||(a.add(r),e.push({key:r,link:s})),e},[])}function et(e,t){return"lazy"===e.mode&&!0===t}function tt(){let e=s.useContext(ne);return Ge(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function at(){let e=s.useContext(se);return Ge(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var nt=s.createContext(void 0);function st(){let e=s.useContext(nt);return Ge(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function ot(e,t,a){if(a&&!dt)return[e[0]];if(t){let a=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,a+1)}return e}nt.displayName="FrameworkContext";function lt(e){let{page:t}=e,a=l(e,h),{router:n}=tt(),r=s.useMemo(()=>A(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?s.createElement(ct,m({page:t,matches:r},a)):null}function it(e){let{manifest:t,routeModules:a}=st(),[n,r]=s.useState([]);return s.useEffect(()=>{let n=!1;return async function(e,t,a){return Ze((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await Ke(n,a);return e.links?e.links():[]}return[]}))).flat(1).filter(Ye).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?m(m({},e),{},{rel:"prefetch",as:"style"}):m(m({},e),{},{rel:"prefetch"})))}(e,t,a).then(e=>{n||r(e)}),()=>{n=!0}},[e,t,a]),n}function ct(e){let{page:t,matches:a}=e,n=l(e,f),r=he(),{manifest:o,routeModules:i}=st(),{basename:c}=tt(),{loaderData:d,matches:u}=at(),p=s.useMemo(()=>Xe(t,a,u,o,r,"data"),[t,a,u,o,r]),h=s.useMemo(()=>Xe(t,a,u,o,r,"assets"),[t,a,u,o,r]),x=s.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let e=new Set,n=!1;if(a.forEach(t=>{var a;let s=o.routes[t.route.id];s&&s.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(a=i[t.route.id])&&void 0!==a&&a.shouldRevalidate||s.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let s=$e(t,c,"data");return n&&e.size>0&&s.searchParams.set("_routes",a.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[c,d,r,o,p,a,t,i]),g=s.useMemo(()=>Je(h,o),[h,o]),v=it(h);return s.createElement(s.Fragment,null,x.map(e=>s.createElement("link",m({key:e,rel:"prefetch",as:"fetch",href:e},n))),g.map(e=>s.createElement("link",m({key:e,rel:"modulepreload",href:e},n))),v.map(e=>{let{key:t,link:a}=e;return s.createElement("link",m({key:t,nonce:n.nonce},a))}))}var dt=!1;function ut(e){let{manifest:t,serverHandoffString:a,isSpaMode:n,renderMeta:r,routeDiscovery:o,ssr:i}=st(),{router:c,static:d,staticContext:u}=tt(),{matches:h}=at(),f=s.useContext(re),x=et(o,i);r&&(r.didRenderScripts=!0);let g=ot(h,null,n);s.useEffect(()=>{dt=!0},[]);let v=s.useMemo(()=>{var n;if(f)return null;let r=u?"window.__reactRouterContext = ".concat(a,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=d?"".concat(null!==(n=t.hmr)&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(x?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map((e,a)=>{let n="route".concat(a),s=t.routes[e.route.id];Ge(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:o,clientMiddlewareModule:l,hydrateFallbackModule:i,module:c}=s,d=[...r?[{module:r,varName:"".concat(n,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(n,"_clientLoader")}]:[],...l?[{module:l,varName:"".concat(n,"_clientMiddleware")}]:[],...i?[{module:i,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===d.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(x?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:a}=e,n=l(e,p),s=new Set(t.state.matches.map(e=>e.route.id)),r=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push("/".concat(r.join("/"))),r.pop();o.forEach(e=>{let a=A(t.routes,e,t.basename);a&&a.forEach(e=>s.add(e.route.id))});let i=[...s].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return m(m({},n),{},{routes:i,sri:!!a||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return s.createElement(s.Fragment,null,s.createElement("script",m(m({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:r},type:void 0})),s.createElement("script",m(m({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=dt||f?[]:(y=t.entry.imports.concat(Je(g,t,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let j="object"===typeof t.sri?t.sri:{};return ze(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),dt||f?null:s.createElement(s.Fragment,null,"object"===typeof t.sri?s.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:j})}}):null,x?null:s.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:j[t.url],suppressHydrationWarning:!0}),s.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:j[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>s.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:j[t],suppressHydrationWarning:!0})),v)}function mt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}s.Component;function pt(e){let{error:t,isOutsideRemixApp:a}=e;console.error(t);let n,r=s.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(t))return s.createElement(ht,{title:"Unhandled Thrown Response!"},s.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),r);if(t instanceof Error)n=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);n=new Error(e)}return s.createElement(ht,{title:"Application Error!",isOutsideRemixApp:a},s.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),s.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),r)}function ht(e){var t;let{title:a,renderScripts:n,isOutsideRemixApp:r,children:o}=e,{routeModules:l}=st();return null!==(t=l.root)&&void 0!==t&&t.Layout&&!r?o:s.createElement("html",{lang:"en"},s.createElement("head",null,s.createElement("meta",{charSet:"utf-8"}),s.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),s.createElement("title",null,a)),s.createElement("body",null,s.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,n?s.createElement(ut,null):null)))}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.9.4")}catch(Dv){}function xt(e){let{basename:t,children:a,window:n}=e,r=s.useRef();null==r.current&&(r.current=y({window:n,v5Compat:!0}));let o=r.current,[l,i]=s.useState({action:o.action,location:o.location}),c=s.useCallback(e=>{s.startTransition(()=>i(e))},[i]);return s.useLayoutEffect(()=>o.listen(c),[o,c]),s.createElement(De,{basename:t,children:a,location:l.location,navigationType:l.action,navigator:o})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=s.forwardRef(function(e,t){let a,{onClick:n,discover:r="render",prefetch:o="none",relative:i,reloadDocument:c,replace:d,state:u,target:p,to:h,preventScrollReset:f,viewTransition:g}=e,v=l(e,x),{basename:b}=s.useContext(ce),y="string"===typeof h&&gt.test(h),N=!1;if("string"===typeof h&&y&&(a=h,ft))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),a=H(t.pathname,b);t.origin===e.origin&&null!=a?h=a+t.search+t.hash:N=!0}catch(Dv){w(!1,'<Link to="'.concat(h,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=s.useContext(ce),{hash:r,pathname:o,search:l}=ve(e,{relative:t}),i=o;return"/"!==a&&(i="/"===o?a:Y([a,o])),n.createHref({pathname:i,search:l,hash:r})}(h,{relative:i}),[S,C,E]=function(e,t){let a=s.useContext(nt),[n,r]=s.useState(!1),[o,l]=s.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,p=s.useRef(null);s.useEffect(()=>{if("render"===e&&l(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{l(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),s.useEffect(()=>{if(n){let e=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(e)}}},[n]);let h=()=>{r(!0)},f=()=>{r(!1),l(!1)};return a?"intent"!==e?[o,p,{}]:[o,p,{onFocus:rt(i,h),onBlur:rt(c,f),onMouseEnter:rt(d,h),onMouseLeave:rt(u,f),onTouchStart:rt(m,h)}]:[!1,p,{}]}(o,v),A=function(e){let{target:t,replace:a,state:n,preventScrollReset:r,relative:o,viewTransition:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=ge(),c=he(),d=ve(e,{relative:o});return s.useCallback(s=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(s,t)){s.preventDefault();let t=void 0!==a?a:_(c)===_(d);i(e,{replace:t,state:n,preventScrollReset:r,relative:o,viewTransition:l})}},[c,i,d,a,n,t,e,r,o,l])}(h,{replace:d,state:u,target:p,preventScrollReset:f,relative:i,viewTransition:g});let T=s.createElement("a",m(m(m({},v),E),{},{href:a||k,onClick:N||c?n:function(e){n&&n(e),e.defaultPrevented||A(e)},ref:mt(t,C),target:p,"data-discover":y||"render"!==r?void 0:"true"}));return S&&!y?s.createElement(s.Fragment,null,T,s.createElement(lt,{page:k})):T});vt.displayName="Link",s.forwardRef(function(e,t){let{"aria-current":a="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:c,viewTransition:d,children:u}=e,p=l(e,g),h=ve(c,{relative:p.relative}),f=he(),x=s.useContext(se),{navigator:v,basename:b}=s.useContext(ce),y=null!=x&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s.useContext(oe);j(null!=a,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=jt("useViewTransitionState"),r=ve(e,{relative:t});if(!a.isTransitioning)return!1;let o=H(a.currentLocation.pathname,n)||a.currentLocation.pathname,l=H(a.nextLocation.pathname,n)||a.nextLocation.pathname;return null!=U(r.pathname,l)||null!=U(r.pathname,o)}(h)&&!0===d,w=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,N=f.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&b&&(k=H(k,b)||k);const _="/"!==w&&w.endsWith("/")?w.length-1:w.length;let S,C=N===w||!o&&N.startsWith(w)&&"/"===N.charAt(_),E=null!=k&&(k===w||!o&&k.startsWith(w)&&"/"===k.charAt(w.length)),A={isActive:C,isPending:E,isTransitioning:y},T=C?a:void 0;S="function"===typeof r?r(A):[r,C?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof i?i(A):i;return s.createElement(vt,m(m({},p),{},{"aria-current":T,className:S,ref:t,style:R,to:c,viewTransition:d}),"function"===typeof u?u(A):u)}).displayName="NavLink";var bt=s.forwardRef((e,t)=>{let{discover:a="render",fetcherKey:n,navigate:r,reloadDocument:o,replace:i,state:c,method:d=Fe,action:u,onSubmit:p,relative:h,preventScrollReset:f,viewTransition:x}=e,g=l(e,v),b=kt(),y=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:a}=s.useContext(ce),n=s.useContext(ue);j(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o=m({},ve(e||".",{relative:t})),l=he();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();o.search=a?"?".concat(a):""}}e&&"."!==e||!r.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==a&&(o.pathname="/"===o.pathname?a:Y([a,o.pathname]));return _(o)}(u,{relative:h}),w="get"===d.toLowerCase()?"get":"post",N="string"===typeof u&&gt.test(u);return s.createElement("form",m(m({ref:t,method:w,action:y,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,a=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:n,method:a,navigate:r,replace:i,state:c,relative:h,preventScrollReset:f,viewTransition:x})}},g),{},{"data-discover":N||"render"!==a?void 0:"true"}))});function yt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function jt(e){let t=s.useContext(ne);return j(t,yt(e)),t}bt.displayName="Form";var wt=0,Nt=()=>"__".concat(String(++wt),"__");function kt(){let{router:e}=jt("useSubmit"),{basename:t}=s.useContext(ce),a=Ee("useRouteId");return s.useCallback(async function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:r,method:o,encType:l,formData:i,body:c}=He(n,t);if(!1===s.navigate){let t=s.fetcherKey||Nt();await e.fetch(t,a,s.action||r,{preventScrollReset:s.preventScrollReset,formData:i,body:c,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:i,body:c,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,a])}var _t=s.createContext(void 0),St={setTheme:e=>{},themes:[]},Ct=a(950);const Et=["message"];const At=Array(12).fill(0),Tt=e=>{let{visible:t,className:a}=e;return s.createElement("div",{className:["sonner-loading-wrapper",a].filter(Boolean).join(" "),"data-visible":t},s.createElement("div",{className:"sonner-spinner"},At.map((e,t)=>s.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},Rt=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Pt=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zt=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),It=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ot=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Dt=1;const Mt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:a}=e,n=l(e,Et),s="number"===typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Dt++,r=this.toasts.find(e=>e.id===s),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),r?this.toasts=this.toasts.map(t=>t.id===s?(this.publish(m(m(m({},t),e),{},{id:s,title:a})),m(m(m({},t),e),{},{id:s,dismissible:o,title:a})):t):this.addToast(m(m({title:a},n),{},{dismissible:o,id:s})),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create(m(m({},t),{},{message:e})),this.error=(e,t)=>this.create(m(m({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create(m(m({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create(m(m({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create(m(m({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create(m(m({},t),{},{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let a;void 0!==t.loading&&(a=this.create(m(m({},t),{},{promise:e,type:"loading",message:t.loading,description:"function"!==typeof t.description?t.description:void 0})));const n=Promise.resolve(e instanceof Function?e():e);let r,o=void 0!==a;const l=n.then(async e=>{r=["resolve",e];if(s.isValidElement(e))o=!1,this.create({id:a,type:"default",message:e});else if(Lt(e)&&!e.ok){o=!1;const n="function"===typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,r="function"===typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description,l="object"===typeof n&&!s.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"error",description:r},l))}else if(e instanceof Error){o=!1;const n="function"===typeof t.error?await t.error(e):t.error,r="function"===typeof t.description?await t.description(e):t.description,l="object"===typeof n&&!s.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"error",description:r},l))}else if(void 0!==t.success){o=!1;const n="function"===typeof t.success?await t.success(e):t.success,r="function"===typeof t.description?await t.description(e):t.description,l="object"===typeof n&&!s.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"success",description:r},l))}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){o=!1;const n="function"===typeof t.error?await t.error(e):t.error,r="function"===typeof t.description?await t.description(e):t.description,l="object"===typeof n&&!s.isValidElement(n)?n:{message:n};this.create(m({id:a,type:"error",description:r},l))}}).finally(()=>{o&&(this.dismiss(a),a=void 0),null==t.finally||t.finally.call(t)}),i=()=>new Promise((e,t)=>l.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!==typeof a&&"number"!==typeof a?{unwrap:i}:Object.assign(a,{unwrap:i})},this.custom=(e,t)=>{const a=(null==t?void 0:t.id)||Dt++;return this.create(m({jsx:e(a),id:a},t)),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Lt=e=>e&&"object"===typeof e&&"ok"in e&&"boolean"===typeof e.ok&&"status"in e&&"number"===typeof e.status,Ft=(e,t)=>{const a=(null==t?void 0:t.id)||Dt++;return Mt.addToast(m(m({title:e},t),{},{id:a})),a},Bt=Object.assign(Ft,{success:Mt.success,info:Mt.info,warning:Mt.warning,error:Mt.error,custom:Mt.custom,message:Mt.message,promise:Mt.promise,dismiss:Mt.dismiss,loading:Mt.loading},{getHistory:()=>Mt.toasts,getToasts:()=>Mt.getActiveToasts()});function qt(e){return void 0!==e.label}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ut=3,Vt=14;function Wt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const Ht=e=>{var t,a,n,r,o,l,i,c,d;const{invert:u,toast:p,unstyled:h,interacting:f,setHeights:x,visibleToasts:g,heights:v,index:b,toasts:y,expanded:j,removeToast:w,defaultRichColors:N,closeButton:k,style:_,cancelButtonStyle:S,actionButtonStyle:C,className:E="",descriptionClassName:A="",duration:T,position:R,gap:P,expandByDefault:z,classNames:I,icons:O,closeButtonAriaLabel:D="Close toast"}=e,[M,L]=s.useState(null),[F,B]=s.useState(null),[q,U]=s.useState(!1),[V,W]=s.useState(!1),[H,G]=s.useState(!1),[$,K]=s.useState(!1),[Q,Y]=s.useState(!1),[X,J]=s.useState(0),[Z,ee]=s.useState(0),te=s.useRef(p.duration||T||4e3),ae=s.useRef(null),ne=s.useRef(null),se=0===b,re=b+1<=g,oe=p.type,le=!1!==p.dismissible,ie=p.className||"",ce=p.descriptionClassName||"",de=s.useMemo(()=>v.findIndex(e=>e.toastId===p.id)||0,[v,p.id]),ue=s.useMemo(()=>{var e;return null!=(e=p.closeButton)?e:k},[p.closeButton,k]),me=s.useMemo(()=>p.duration||T||4e3,[p.duration,T]),pe=s.useRef(0),he=s.useRef(0),fe=s.useRef(0),xe=s.useRef(null),[ge,ve]=R.split("-"),be=s.useMemo(()=>v.reduce((e,t,a)=>a>=de?e:e+t.height,0),[v,de]),ye=(()=>{const[e,t]=s.useState(document.hidden);return s.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),je=p.invert||u,we="loading"===oe;he.current=s.useMemo(()=>de*P+be,[de,be]),s.useEffect(()=>{te.current=me},[me]),s.useEffect(()=>{U(!0)},[]),s.useEffect(()=>{const e=ne.current;if(e){const t=e.getBoundingClientRect().height;return ee(t),x(e=>[{toastId:p.id,height:t,position:p.position},...e]),()=>x(e=>e.filter(e=>e.toastId!==p.id))}},[x,p.id]),s.useLayoutEffect(()=>{if(!q)return;const e=ne.current,t=e.style.height;e.style.height="auto";const a=e.getBoundingClientRect().height;e.style.height=t,ee(a),x(e=>e.find(e=>e.toastId===p.id)?e.map(e=>e.toastId===p.id?m(m({},e),{},{height:a}):e):[{toastId:p.id,height:a,position:p.position},...e])},[q,p.title,p.description,x,p.id,p.jsx,p.action,p.cancel]);const Ne=s.useCallback(()=>{W(!0),J(he.current),x(e=>e.filter(e=>e.toastId!==p.id)),setTimeout(()=>{w(p)},200)},[p,w,x,he]);s.useEffect(()=>{if(p.promise&&"loading"===oe||p.duration===1/0||"loading"===p.type)return;let e;return j||f||ye?(()=>{if(fe.current<pe.current){const e=(new Date).getTime()-pe.current;te.current=te.current-e}fe.current=(new Date).getTime()})():te.current!==1/0&&(pe.current=(new Date).getTime(),e=setTimeout(()=>{null==p.onAutoClose||p.onAutoClose.call(p,p),Ne()},te.current)),()=>clearTimeout(e)},[j,f,p,oe,ye,Ne]),s.useEffect(()=>{p.delete&&(Ne(),null==p.onDismiss||p.onDismiss.call(p,p))},[Ne,p.delete]);const ke=p.icon||(null==O?void 0:O[oe])||(e=>{switch(e){case"success":return Rt;case"info":return zt;case"warning":return Pt;case"error":return It;default:return null}})(oe);var _e,Se;return s.createElement("li",{tabIndex:0,ref:ne,className:Wt(E,ie,null==I?void 0:I.toast,null==p||null==(t=p.classNames)?void 0:t.toast,null==I?void 0:I.default,null==I?void 0:I[oe],null==p||null==(a=p.classNames)?void 0:a[oe]),"data-sonner-toast":"","data-rich-colors":null!=(_e=p.richColors)?_e:N,"data-styled":!Boolean(p.jsx||p.unstyled||h),"data-mounted":q,"data-promise":Boolean(p.promise),"data-swiped":Q,"data-removed":V,"data-visible":re,"data-y-position":ge,"data-x-position":ve,"data-index":b,"data-front":se,"data-swiping":H,"data-dismissible":le,"data-type":oe,"data-invert":je,"data-swipe-out":$,"data-swipe-direction":F,"data-expanded":Boolean(j||z&&q),"data-testid":p.testId,style:m(m({"--index":b,"--toasts-before":b,"--z-index":y.length-b,"--offset":"".concat(V?X:he.current,"px"),"--initial-height":z?"auto":"".concat(Z,"px")},_),p.style),onDragEnd:()=>{G(!1),L(null),xe.current=null},onPointerDown:e=>{2!==e.button&&!we&&le&&(ae.current=new Date,J(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(G(!0),xe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,a;if($||!le)return;xe.current=null;const n=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=(new Date).getTime()-(null==(a=ae.current)?void 0:a.getTime()),o="x"===M?n:s,l=Math.abs(o)/r;if(Math.abs(o)>=45||l>.11)return J(he.current),null==p.onDismiss||p.onDismiss.call(p,p),B("x"===M?n>0?"right":"left":s>0?"down":"up"),Ne(),void K(!0);var i,c;null==(i=ne.current)||i.style.setProperty("--swipe-amount-x","0px"),null==(c=ne.current)||c.style.setProperty("--swipe-amount-y","0px"),Y(!1),G(!1),L(null)},onPointerMove:t=>{var a,n,s;if(!xe.current||!le)return;if((null==(a=window.getSelection())?void 0:a.toString().length)>0)return;const r=t.clientY-xe.current.y,o=t.clientX-xe.current.x;var l;const i=null!=(l=e.swipeDirections)?l:function(e){const[t,a]=e.split("-"),n=[];return t&&n.push(t),a&&n.push(a),n}(R);!M&&(Math.abs(o)>1||Math.abs(r)>1)&&L(Math.abs(o)>Math.abs(r)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===M){if(i.includes("top")||i.includes("bottom"))if(i.includes("top")&&r<0||i.includes("bottom")&&r>0)c.y=r;else{const e=r*d(r);c.y=Math.abs(e)<Math.abs(r)?e:r}}else if("x"===M&&(i.includes("left")||i.includes("right")))if(i.includes("left")&&o<0||i.includes("right")&&o>0)c.x=o;else{const e=o*d(o);c.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Y(!0),null==(n=ne.current)||n.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(s=ne.current)||s.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ue&&!p.jsx&&"loading"!==oe?s.createElement("button",{"aria-label":D,"data-disabled":we,"data-close-button":!0,onClick:we||!le?()=>{}:()=>{Ne(),null==p.onDismiss||p.onDismiss.call(p,p)},className:Wt(null==I?void 0:I.closeButton,null==p||null==(n=p.classNames)?void 0:n.closeButton)},null!=(Se=null==O?void 0:O.close)?Se:Ot):null,(oe||p.icon||p.promise)&&null!==p.icon&&(null!==(null==O?void 0:O[oe])||p.icon)?s.createElement("div",{"data-icon":"",className:Wt(null==I?void 0:I.icon,null==p||null==(r=p.classNames)?void 0:r.icon)},p.promise||"loading"===p.type&&!p.icon?p.icon||function(){var e,t;return(null==O?void 0:O.loading)?s.createElement("div",{className:Wt(null==I?void 0:I.loader,null==p||null==(t=p.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===oe},O.loading):s.createElement(Tt,{className:Wt(null==I?void 0:I.loader,null==p||null==(e=p.classNames)?void 0:e.loader),visible:"loading"===oe})}():null,"loading"!==p.type?ke:null):null,s.createElement("div",{"data-content":"",className:Wt(null==I?void 0:I.content,null==p||null==(o=p.classNames)?void 0:o.content)},s.createElement("div",{"data-title":"",className:Wt(null==I?void 0:I.title,null==p||null==(l=p.classNames)?void 0:l.title)},p.jsx?p.jsx:"function"===typeof p.title?p.title():p.title),p.description?s.createElement("div",{"data-description":"",className:Wt(A,ce,null==I?void 0:I.description,null==p||null==(i=p.classNames)?void 0:i.description)},"function"===typeof p.description?p.description():p.description):null),s.isValidElement(p.cancel)?p.cancel:p.cancel&&qt(p.cancel)?s.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||S,onClick:e=>{qt(p.cancel)&&le&&(null==p.cancel.onClick||p.cancel.onClick.call(p.cancel,e),Ne())},className:Wt(null==I?void 0:I.cancelButton,null==p||null==(c=p.classNames)?void 0:c.cancelButton)},p.cancel.label):null,s.isValidElement(p.action)?p.action:p.action&&qt(p.action)?s.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||C,onClick:e=>{qt(p.action)&&(null==p.action.onClick||p.action.onClick.call(p.action,e),e.defaultPrevented||Ne())},className:Wt(null==I?void 0:I.actionButton,null==p||null==(d=p.classNames)?void 0:d.actionButton)},p.action.label):null)};function Gt(){if("undefined"===typeof window)return"ltr";if("undefined"===typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function $t(e,t){const a={};return[e,t].forEach((e,t)=>{const n=1===t,s=n?"--mobile-offset":"--offset",r=n?"16px":"24px";function o(e){["top","right","bottom","left"].forEach(t=>{a["".concat(s,"-").concat(t)]="number"===typeof e?"".concat(e,"px"):e})}"number"===typeof e||"string"===typeof e?o(e):"object"===typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?a["".concat(s,"-").concat(t)]=r:a["".concat(s,"-").concat(t)]="number"===typeof e[t]?"".concat(e[t],"px"):e[t]}):o(r)}),a}const Kt=s.forwardRef(function(e,t){const{id:a,invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:i,className:c,offset:d,mobileOffset:u,theme:p="light",richColors:h,duration:f,style:x,visibleToasts:g=Ut,toastOptions:v,dir:b=Gt(),gap:y=Vt,icons:j,containerAriaLabel:w="Notifications"}=e,[N,k]=s.useState([]),_=s.useMemo(()=>a?N.filter(e=>e.toasterId===a):N.filter(e=>!e.toasterId),[N,a]),S=s.useMemo(()=>Array.from(new Set([r].concat(_.filter(e=>e.position).map(e=>e.position)))),[_,r]),[C,E]=s.useState([]),[A,T]=s.useState(!1),[R,P]=s.useState(!1),[z,I]=s.useState("system"!==p?p:"undefined"!==typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=s.useRef(null),D=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=s.useRef(null),L=s.useRef(!1),F=s.useCallback(e=>{k(t=>{var a;return(null==(a=t.find(t=>t.id===e.id))?void 0:a.delete)||Mt.dismiss(e.id),t.filter(t=>{let{id:a}=t;return a!==e.id})})},[]);return s.useEffect(()=>Mt.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?m(m({},t),{},{delete:!0}):t))}):setTimeout(()=>{Ct.flushSync(()=>{k(t=>{const a=t.findIndex(t=>t.id===e.id);return-1!==a?[...t.slice(0,a),m(m({},t[a]),e),...t.slice(a+1)]:[e,...t]})})})}),[N]),s.useEffect(()=>{if("system"!==p)return void I(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"===typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;I(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{I(t?"dark":"light")}catch(Dv){console.error(Dv)}})}},[p]),s.useEffect(()=>{N.length<=1&&T(!1)},[N]),s.useEffect(()=>{const e=e=>{var t;var a;o.every(t=>e[t]||e.code===t)&&(T(!0),null==(a=O.current)||a.focus());"Escape"!==e.code||document.activeElement!==O.current&&!(null==(t=O.current)?void 0:t.contains(document.activeElement))||T(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),s.useEffect(()=>{if(O.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,L.current=!1)}},[O.current]),s.createElement("section",{ref:t,"aria-label":"".concat(w," ").concat(D),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,a)=>{var r;const[o,p]=t.split("-");return _.length?s.createElement("ol",{key:t,dir:"auto"===b?Gt():b,tabIndex:-1,ref:O,className:c,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":o,"data-x-position":p,style:m(m({"--front-toast-height":"".concat((null==(r=C[0])?void 0:r.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(y,"px")},x),$t(d,u)),onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{R||T(!1)},onDragEnd:()=>T(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},_.filter(e=>!e.position&&0===a||e.position===t).map((a,r)=>{var o,c;return s.createElement(Ht,{key:a.id,icons:j,index:r,toast:a,defaultRichColors:h,duration:null!=(o=null==v?void 0:v.duration)?o:f,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:i,interacting:R,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,closeButtonAriaLabel:null==v?void 0:v.closeButtonAriaLabel,removeToast:F,toasts:_.filter(e=>e.position==a.position),heights:C.filter(e=>e.position==a.position),setHeights:E,expandByDefault:l,gap:y,expanded:A,swipeDirections:e.swipeDirections})})):null}))});var Qt=a(579);const Yt=e=>{let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const{theme:a="system"}=(()=>{var e;return null!=(e=s.useContext(_t))?e:St})();return(0,Qt.jsx)(Kt,m({theme:a,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}},t))},Xt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Jt=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var Zt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ea=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],ta=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:c,iconNode:d}=e,u=l(e,ea);return(0,s.createElement)("svg",m(m(m({ref:t},Zt),{},{width:n,height:n,stroke:a,strokeWidth:o?24*Number(r)/Number(n):r,className:Jt("lucide",i)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...d.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),aa=["className"],na=(e,t)=>{const a=(0,s.forwardRef)((a,n)=>{let{className:r}=a,o=l(a,aa);return(0,s.createElement)(ta,m({ref:n,iconNode:t,className:Jt("lucide-".concat((i=Xt(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),r)},o));var i});return a.displayName=Xt(e),a},sa=na("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),ra=na("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function oa(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function la(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1;const n=t.map(t=>{const n=oa(t,e);return a||"function"!=typeof n||(a=!0),n});if(a)return()=>{for(let e=0;e<n.length;e++){const a=n[e];"function"==typeof a?a():oa(t[e],null)}}}}function ia(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return s.useCallback(la(...t),t)}const ca=["children"],da=["children"];function ua(e){const t=pa(e),a=s.forwardRef((e,a)=>{const{children:n}=e,r=l(e,ca),o=s.Children.toArray(n),i=o.find(fa);if(i){const e=i.props.children,n=o.map(t=>t===i?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return(0,Qt.jsx)(t,m(m({},r),{},{ref:a,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null}))}return(0,Qt.jsx)(t,m(m({},r),{},{ref:a,children:n}))});return a.displayName="".concat(e,".Slot"),a}var ma=ua("Slot");function pa(e){const t=s.forwardRef((e,t)=>{const{children:a}=e,n=l(e,da);if(s.isValidElement(a)){const e=function(e){var t,a;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,s=n&&"isReactWarning"in n&&n.isReactWarning;if(s)return e.ref;if(n=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(a),r=function(e,t){const a=m({},t);for(const n in t){const s=e[n],r=t[n];/^on[A-Z]/.test(n)?s&&r?a[n]=function(){const e=r(...arguments);return s(...arguments),e}:s&&(a[n]=s):"style"===n?a[n]=m(m({},s),r):"className"===n&&(a[n]=[s,r].filter(Boolean).join(" "))}return m(m({},e),a)}(n,a.props);return a.type!==s.Fragment&&(r.ref=t?la(t,e):e),s.cloneElement(a,r)}return s.Children.count(a)>1?s.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var ha=Symbol("radix.slottable");function fa(e){return s.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ha}function xa(e){var t,a,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=xa(e[t]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function ga(){for(var e,t,a=0,n="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=xa(e))&&(n&&(n+=" "),n+=t);return n}const va=["class","className"],ba=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,ya=ga,ja=(e,t)=>a=>{var n;if(null==(null===t||void 0===t?void 0:t.variants))return ya(e,null===a||void 0===a?void 0:a.class,null===a||void 0===a?void 0:a.className);const{variants:s,defaultVariants:r}=t,o=Object.keys(s).map(e=>{const t=null===a||void 0===a?void 0:a[e],n=null===r||void 0===r?void 0:r[e];if(null===t)return null;const o=ba(t)||ba(n);return s[e][o]}),i=a&&Object.entries(a).reduce((e,t)=>{let[a,n]=t;return void 0===n||(e[a]=n),e},{}),c=null===t||void 0===t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:a,className:n}=t,s=l(t,va);return Object.entries(s).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes(m(m({},r),i)[t]):m(m({},r),i)[t]===a})?[...e,a,n]:e},[]);return ya(e,o,c,null===a||void 0===a?void 0:a.class,null===a||void 0===a?void 0:a.className)},wa=(e,t)=>{var a;if(0===e.length)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?wa(e.slice(1),s):void 0;if(r)return r;if(0===t.validators.length)return;const o=e.join("-");return null===(a=t.validators.find(e=>{let{validator:t}=e;return t(o)}))||void 0===a?void 0:a.classGroupId},Na=/^\[(.+)\]$/,ka=e=>{if(Na.test(e)){const t=Na.exec(e)[1],a=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},_a=e=>{const{theme:t,classGroups:a}=e,n={nextPart:new Map,validators:[]};for(const s in a)Sa(a[s],n,s,t);return n},Sa=(e,t,a,n)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:Ca(t,e)).classGroupId=a)}if("function"===typeof e)return Ea(e)?void Sa(e(n),t,a,n):void t.validators.push({validator:e,classGroupId:a});Object.entries(e).forEach(e=>{let[s,r]=e;Sa(r,Ca(t,s),a,n)})})},Ca=(e,t)=>{let a=e;return t.split("-").forEach(e=>{a.nextPart.has(e)||a.nextPart.set(e,{nextPart:new Map,validators:[]}),a=a.nextPart.get(e)}),a},Ea=e=>e.isThemeGetter,Aa=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,n=new Map;const s=(s,r)=>{a.set(s,r),t++,t>e&&(t=0,n=a,a=new Map)};return{get(e){let t=a.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(s(e,t),t):void 0},set(e,t){a.has(e)?a.set(e,t):s(e,t)}}},Ta=e=>{const{prefix:t,experimentalParseClassName:a}=e;let n=e=>{const t=[];let a,n=0,s=0,r=0;for(let i=0;i<e.length;i++){let o=e[i];if(0===n&&0===s){if(":"===o){t.push(e.slice(r,i)),r=i+1;continue}if("/"===o){a=i;continue}}"["===o?n++:"]"===o?n--:"("===o?s++:")"===o&&s--}const o=0===t.length?e:e.substring(r),l=Ra(o);return{modifiers:t,hasImportantModifier:l!==o,baseClassName:l,maybePostfixModifierPosition:a&&a>r?a-r:void 0}};if(t){const e=t+":",a=n;n=t=>t.startsWith(e)?a(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(a){const e=n;n=t=>a({className:t,parseClassName:e})}return n},Ra=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,Pa=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const a=[];let n=[];return e.forEach(e=>{"["===e[0]||t[e]?(a.push(...n.sort(),e),n=[]):n.push(e)}),a.push(...n.sort()),a}},za=e=>m({cache:Aa(e.cacheSize),parseClassName:Ta(e),sortModifiers:Pa(e)},(e=>{const t=_a(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const a=e.split("-");return""===a[0]&&1!==a.length&&a.shift(),wa(a,t)||ka(e)},getConflictingClassGroupIds:(e,t)=>{const s=a[e]||[];return t&&n[e]?[...s,...n[e]]:s}}})(e)),Ia=/\s+/;function Oa(){let e,t,a=0,n="";for(;a<arguments.length;)(e=arguments[a++])&&(t=Da(e))&&(n&&(n+=" "),n+=t);return n}const Da=e=>{if("string"===typeof e)return e;let t,a="";for(let n=0;n<e.length;n++)e[n]&&(t=Da(e[n]))&&(a&&(a+=" "),a+=t);return a};function Ma(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];let s,r,o,l=function(t){const n=a.reduce((e,t)=>t(e),e());return s=za(n),r=s.cache.get,o=s.cache.set,l=i,i(t)};function i(e){const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:a,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:r}=t,o=[],l=e.trim().split(Ia);let i="";for(let c=l.length-1;c>=0;c-=1){const e=l[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=a(e);if(t){i=e+(i.length>0?" "+i:i);continue}let h=!!p,f=n(h?m.substring(0,p):m);if(!f){if(!h){i=e+(i.length>0?" "+i:i);continue}if(f=n(m),!f){i=e+(i.length>0?" "+i:i);continue}h=!1}const x=r(d).join(":"),g=u?x+"!":x,v=g+f;if(o.includes(v))continue;o.push(v);const b=s(f,h);for(let a=0;a<b.length;++a){const e=b[a];o.push(g+e)}i=e+(i.length>0?" "+i:i)}return i})(e,s);return o(e,a),a}return function(){return l(Oa.apply(null,arguments))}}const La=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Fa=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ba=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qa=/^\d+\/\d+$/,Ua=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Va=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wa=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ha=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ga=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$a=e=>qa.test(e),Ka=e=>!!e&&!Number.isNaN(Number(e)),Qa=e=>!!e&&Number.isInteger(Number(e)),Ya=e=>e.endsWith("%")&&Ka(e.slice(0,-1)),Xa=e=>Ua.test(e),Ja=()=>!0,Za=e=>Va.test(e)&&!Wa.test(e),en=()=>!1,tn=e=>Ha.test(e),an=e=>Ga.test(e),nn=e=>!rn(e)&&!mn(e),sn=e=>bn(e,Nn,en),rn=e=>Fa.test(e),on=e=>bn(e,kn,Za),ln=e=>bn(e,_n,Ka),cn=e=>bn(e,jn,en),dn=e=>bn(e,wn,an),un=e=>bn(e,Cn,tn),mn=e=>Ba.test(e),pn=e=>yn(e,kn),hn=e=>yn(e,Sn),fn=e=>yn(e,jn),xn=e=>yn(e,Nn),gn=e=>yn(e,wn),vn=e=>yn(e,Cn,!0),bn=(e,t,a)=>{const n=Fa.exec(e);return!!n&&(n[1]?t(n[1]):a(n[2]))},yn=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Ba.exec(e);return!!n&&(n[1]?t(n[1]):a)},jn=e=>"position"===e||"percentage"===e,wn=e=>"image"===e||"url"===e,Nn=e=>"length"===e||"size"===e||"bg-size"===e,kn=e=>"length"===e,_n=e=>"number"===e,Sn=e=>"family-name"===e,Cn=e=>"shadow"===e,En=(Symbol.toStringTag,()=>{const e=La("color"),t=La("font"),a=La("text"),n=La("font-weight"),s=La("tracking"),r=La("leading"),o=La("breakpoint"),l=La("container"),i=La("spacing"),c=La("radius"),d=La("shadow"),u=La("inset-shadow"),m=La("text-shadow"),p=La("drop-shadow"),h=La("blur"),f=La("perspective"),x=La("aspect"),g=La("ease"),v=La("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",mn,rn],y=()=>[mn,rn,i],j=()=>[$a,"full","auto",...y()],w=()=>[Qa,"none","subgrid",mn,rn],N=()=>["auto",{span:["full",Qa,mn,rn]},Qa,mn,rn],k=()=>[Qa,"auto",mn,rn],_=()=>["auto","min","max","fr",mn,rn],S=()=>["auto",...y()],C=()=>[$a,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],E=()=>[e,mn,rn],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",fn,cn,{position:[mn,rn]}],T=()=>["auto","cover","contain",xn,sn,{size:[mn,rn]}],R=()=>[Ya,pn,on],P=()=>["","none","full",c,mn,rn],z=()=>["",Ka,pn,on],I=()=>[Ka,Ya,fn,cn],O=()=>["","none",h,mn,rn],D=()=>["none",Ka,mn,rn],M=()=>["none",Ka,mn,rn],L=()=>[Ka,mn,rn],F=()=>[$a,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xa],breakpoint:[Xa],color:[Ja],container:[Xa],"drop-shadow":[Xa],ease:["in","out","in-out"],font:[nn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xa],shadow:[Xa],spacing:["px",Ka],text:[Xa],"text-shadow":[Xa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$a,rn,mn,x]}],container:["container"],columns:[{columns:[Ka,rn,mn,l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Qa,"auto",mn,rn]}],basis:[{basis:[$a,"full","auto",l,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ka,$a,"auto","initial","none",rn]}],grow:[{grow:["",Ka,mn,rn]}],shrink:[{shrink:["",Ka,mn,rn]}],order:[{order:[Qa,"first","last","none",mn,rn]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_()}],"auto-rows":[{"auto-rows":_()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[l,"screen",...C()]}],"min-w":[{"min-w":[l,"screen","none",...C()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",a,pn,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,mn,ln]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ya,rn]}],"font-family":[{font:[hn,rn,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,mn,rn]}],"line-clamp":[{"line-clamp":[Ka,"none",mn,ln]}],leading:[{leading:[r,...y()]}],"list-image":[{"list-image":["none",mn,rn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",mn,rn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Ka,"from-font","auto",mn,on]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Ka,"auto",mn,rn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mn,rn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mn,rn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:A()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qa,mn,rn],radial:["",mn,rn],conic:[Qa,mn,rn]},gn,dn]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Ka,mn,rn]}],"outline-w":[{outline:["",Ka,pn,on]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,vn,un]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,vn,un]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Ka,on]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",m,vn,un]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Ka,mn,rn]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ka]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[mn,rn]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Ka]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:A()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",mn,rn]}],filter:[{filter:["","none",mn,rn]}],blur:[{blur:O()}],brightness:[{brightness:[Ka,mn,rn]}],contrast:[{contrast:[Ka,mn,rn]}],"drop-shadow":[{"drop-shadow":["","none",p,vn,un]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Ka,mn,rn]}],"hue-rotate":[{"hue-rotate":[Ka,mn,rn]}],invert:[{invert:["",Ka,mn,rn]}],saturate:[{saturate:[Ka,mn,rn]}],sepia:[{sepia:["",Ka,mn,rn]}],"backdrop-filter":[{"backdrop-filter":["","none",mn,rn]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[Ka,mn,rn]}],"backdrop-contrast":[{"backdrop-contrast":[Ka,mn,rn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ka,mn,rn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ka,mn,rn]}],"backdrop-invert":[{"backdrop-invert":["",Ka,mn,rn]}],"backdrop-opacity":[{"backdrop-opacity":[Ka,mn,rn]}],"backdrop-saturate":[{"backdrop-saturate":[Ka,mn,rn]}],"backdrop-sepia":[{"backdrop-sepia":["",Ka,mn,rn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",mn,rn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ka,"initial",mn,rn]}],ease:[{ease:["linear","initial",g,mn,rn]}],delay:[{delay:[Ka,mn,rn]}],animate:[{animate:["none",v,mn,rn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,mn,rn]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:M()}],"scale-x":[{"scale-x":M()}],"scale-y":[{"scale-y":M()}],"scale-z":[{"scale-z":M()}],"scale-3d":["scale-3d"],skew:[{skew:L()}],"skew-x":[{"skew-x":L()}],"skew-y":[{"skew-y":L()}],transform:[{transform:[mn,rn,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mn,rn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mn,rn]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Ka,pn,on,ln]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),An=Ma(En);function Tn(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return An(ga(t))}const Rn=["className","variant","size","asChild"],Pn=ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),zn=s.forwardRef((e,t)=>{let{className:a,variant:n,size:s,asChild:r=!1}=e,o=l(e,Rn);const i=r?ma:"button";return(0,Qt.jsx)(i,m({className:Tn(Pn({variant:n,size:s,className:a})),ref:t},o))});zn.displayName="Button";const In=["className","type"],On=s.forwardRef((e,t)=>{let{className:a,type:n}=e,s=l(e,In);return(0,Qt.jsx)("input",m({type:n,className:Tn("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},s))});On.displayName="Input";const Dn=["className"],Mn=["className"],Ln=["className"],Fn=["className"],Bn=["className"],qn=["className"],Un=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Dn);return(0,Qt.jsx)("div",m({ref:t,className:Tn("rounded-xl border bg-card text-card-foreground shadow",a)},n))});Un.displayName="Card";const Vn=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Mn);return(0,Qt.jsx)("div",m({ref:t,className:Tn("flex flex-col space-y-1.5 p-6",a)},n))});Vn.displayName="CardHeader";const Wn=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Ln);return(0,Qt.jsx)("div",m({ref:t,className:Tn("font-semibold leading-none tracking-tight",a)},n))});Wn.displayName="CardTitle";s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Fn);return(0,Qt.jsx)("div",m({ref:t,className:Tn("text-sm text-muted-foreground",a)},n))}).displayName="CardDescription";const Hn=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Bn);return(0,Qt.jsx)("div",m({ref:t,className:Tn("p-6 pt-0",a)},n))});Hn.displayName="CardContent";function Gn(e,t){return function(){return e.apply(t,arguments)}}s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,qn);return(0,Qt.jsx)("div",m({ref:t,className:Tn("flex items-center p-6 pt-0",a)},n))}).displayName="CardFooter";const{toString:$n}=Object.prototype,{getPrototypeOf:Kn}=Object,{iterator:Qn,toStringTag:Yn}=Symbol,Xn=(Jn=Object.create(null),e=>{const t=$n.call(e);return Jn[t]||(Jn[t]=t.slice(8,-1).toLowerCase())});var Jn;const Zn=e=>(e=e.toLowerCase(),t=>Xn(t)===e),es=e=>t=>typeof t===e,{isArray:ts}=Array,as=es("undefined");function ns(e){return null!==e&&!as(e)&&null!==e.constructor&&!as(e.constructor)&&os(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ss=Zn("ArrayBuffer");const rs=es("string"),os=es("function"),ls=es("number"),is=e=>null!==e&&"object"===typeof e,cs=e=>{if("object"!==Xn(e))return!1;const t=Kn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Yn in e)&&!(Qn in e)},ds=Zn("Date"),us=Zn("File"),ms=Zn("Blob"),ps=Zn("FileList"),hs=Zn("URLSearchParams"),[fs,xs,gs,vs]=["ReadableStream","Request","Response","Headers"].map(Zn);function bs(e,t){let a,n,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ts(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(ns(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let o;for(a=0;a<r;a++)o=n[a],t.call(null,e[o],o,e)}}function ys(e,t){if(ns(e))return null;t=t.toLowerCase();const a=Object.keys(e);let n,s=a.length;for(;s-- >0;)if(n=a[s],t===n.toLowerCase())return n;return null}const js="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ws=e=>!as(e)&&e!==js;const Ns=(ks="undefined"!==typeof Uint8Array&&Kn(Uint8Array),e=>ks&&e instanceof ks);var ks;const _s=Zn("HTMLFormElement"),Ss=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),Cs=Zn("RegExp"),Es=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};bs(a,(a,s)=>{let r;!1!==(r=t(a,s,e))&&(n[s]=r||a)}),Object.defineProperties(e,n)};const As=Zn("AsyncFunction"),Ts=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),n=[],js.addEventListener("message",e=>{let{source:t,data:s}=e;t===js&&s===a&&n.length&&n.shift()()},!1),e=>{n.push(e),js.postMessage(a,"*")}):e=>setTimeout(e);var a,n})("function"===typeof setImmediate,os(js.postMessage)),Rs="undefined"!==typeof queueMicrotask?queueMicrotask.bind(js):"undefined"!==typeof process&&process.nextTick||Ts,Ps={isArray:ts,isArrayBuffer:ss,isBuffer:ns,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||os(e.append)&&("formdata"===(t=Xn(e))||"object"===t&&os(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ss(e.buffer),t},isString:rs,isNumber:ls,isBoolean:e=>!0===e||!1===e,isObject:is,isPlainObject:cs,isEmptyObject:e=>{if(!is(e)||ns(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Dv){return!1}},isReadableStream:fs,isRequest:xs,isResponse:gs,isHeaders:vs,isUndefined:as,isDate:ds,isFile:us,isBlob:ms,isRegExp:Cs,isFunction:os,isStream:e=>is(e)&&os(e.pipe),isURLSearchParams:hs,isTypedArray:Ns,isFileList:ps,forEach:bs,merge:function e(){const{caseless:t,skipUndefined:a}=ws(this)&&this||{},n={},s=(s,r)=>{const o=t&&ys(n,r)||r;cs(n[o])&&cs(s)?n[o]=e(n[o],s):cs(s)?n[o]=e({},s):ts(s)?n[o]=s.slice():a&&as(s)||(n[o]=s)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&bs(arguments[r],s);return n},extend:function(e,t,a){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return bs(t,(t,n)=>{a&&os(t)?e[n]=Gn(t,a):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let s,r,o;const l={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)o=s[r],n&&!n(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==a&&Kn(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:Xn,kindOfTest:Zn,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(ts(e))return e;let t=e.length;if(!ls(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Qn]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:_s,hasOwnProperty:Ss,hasOwnProp:Ss,reduceDescriptors:Es,freezeMethods:e=>{Es(e,(t,a)=>{if(os(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];os(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))})},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach(e=>{a[e]=!0})};return ts(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,a){return t.toUpperCase()+a}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ys,global:js,isContextDefined:ws,isSpecCompliantForm:function(e){return!!(e&&os(e.append)&&"FormData"===e[Yn]&&e[Qn])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(is(e)){if(t.indexOf(e)>=0)return;if(ns(e))return e;if(!("toJSON"in e)){t[n]=e;const s=ts(e)?[]:{};return bs(e,(e,t)=>{const r=a(e,n+1);!as(r)&&(s[t]=r)}),t[n]=void 0,s}}return e};return a(e,0)},isAsyncFn:As,isThenable:e=>e&&(is(e)||os(e))&&os(e.then)&&os(e.catch),setImmediate:Ts,asap:Rs,isIterable:e=>null!=e&&os(e[Qn])};function zs(e,t,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ps.inherits(zs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ps.toJSONObject(this.config),code:this.code,status:this.status}}});const Is=zs.prototype,Os={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Os[e]={value:e}}),Object.defineProperties(zs,Os),Object.defineProperty(Is,"isAxiosError",{value:!0}),zs.from=(e,t,a,n,s,r)=>{const o=Object.create(Is);Ps.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const l=e&&e.message?e.message:"Error",i=null==t&&e?e.code:t;return zs.call(o,l,i,a,n,s),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",r&&Object.assign(o,r),o};const Ds=zs;function Ms(e){return Ps.isPlainObject(e)||Ps.isArray(e)}function Ls(e){return Ps.endsWith(e,"[]")?e.slice(0,-2):e}function Fs(e,t,a){return e?e.concat(t).map(function(e,t){return e=Ls(e),!a&&t?"["+e+"]":e}).join(a?".":""):t}const Bs=Ps.toFlatObject(Ps,{},null,function(e){return/^is[A-Z]/.test(e)});const qs=function(e,t,a){if(!Ps.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=Ps.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ps.isUndefined(t[e])})).metaTokens,s=a.visitor||c,r=a.dots,o=a.indexes,l=(a.Blob||"undefined"!==typeof Blob&&Blob)&&Ps.isSpecCompliantForm(t);if(!Ps.isFunction(s))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(Ps.isDate(e))return e.toISOString();if(Ps.isBoolean(e))return e.toString();if(!l&&Ps.isBlob(e))throw new Ds("Blob is not supported. Use a Buffer instead.");return Ps.isArrayBuffer(e)||Ps.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,s){let l=e;if(e&&!s&&"object"===typeof e)if(Ps.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(Ps.isArray(e)&&function(e){return Ps.isArray(e)&&!e.some(Ms)}(e)||(Ps.isFileList(e)||Ps.endsWith(a,"[]"))&&(l=Ps.toArray(e)))return a=Ls(a),l.forEach(function(e,n){!Ps.isUndefined(e)&&null!==e&&t.append(!0===o?Fs([a],n,r):null===o?a:a+"[]",i(e))}),!1;return!!Ms(e)||(t.append(Fs(s,a,r),i(e)),!1)}const d=[],u=Object.assign(Bs,{defaultVisitor:c,convertValue:i,isVisitable:Ms});if(!Ps.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!Ps.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+n.join("."));d.push(a),Ps.forEach(a,function(a,r){!0===(!(Ps.isUndefined(a)||null===a)&&s.call(t,a,Ps.isString(r)?r.trim():r,n,u))&&e(a,n?n.concat(r):[r])}),d.pop()}}(e),t};function Us(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Vs(e,t){this._pairs=[],e&&qs(e,this,t)}const Ws=Vs.prototype;Ws.append=function(e,t){this._pairs.push([e,t])},Ws.toString=function(e){const t=e?function(t){return e.call(this,t,Us)}:Us;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Hs=Vs;function Gs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $s(e,t,a){if(!t)return e;const n=a&&a.encode||Gs;Ps.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let r;if(r=s?s(t,a):Ps.isURLSearchParams(t)?t.toString():new Hs(t,a).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const Ks=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ps.forEach(this.handlers,function(t){null!==t&&e(t)})}},Qs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ys={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Hs,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Xs="undefined"!==typeof window&&"undefined"!==typeof document,Js="object"===typeof navigator&&navigator||void 0,Zs=Xs&&(!Js||["ReactNative","NativeScript","NS"].indexOf(Js.product)<0),er="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,tr=Xs&&window.location.href||"http://localhost",ar=m(m({},n),Ys);const nr=function(e){function t(e,a,n,s){let r=e[s++];if("__proto__"===r)return!0;const o=Number.isFinite(+r),l=s>=e.length;if(r=!r&&Ps.isArray(n)?n.length:r,l)return Ps.hasOwnProp(n,r)?n[r]=[n[r],a]:n[r]=a,!o;n[r]&&Ps.isObject(n[r])||(n[r]=[]);return t(e,a,n[r],s)&&Ps.isArray(n[r])&&(n[r]=function(e){const t={},a=Object.keys(e);let n;const s=a.length;let r;for(n=0;n<s;n++)r=a[n],t[r]=e[r];return t}(n[r])),!o}if(Ps.isFormData(e)&&Ps.isFunction(e.entries)){const a={};return Ps.forEachEntry(e,(e,n)=>{t(function(e){return Ps.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,a,0)}),a}return null};const sr={transitional:Qs,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,s=Ps.isObject(e);s&&Ps.isHTMLForm(e)&&(e=new FormData(e));if(Ps.isFormData(e))return n?JSON.stringify(nr(e)):e;if(Ps.isArrayBuffer(e)||Ps.isBuffer(e)||Ps.isStream(e)||Ps.isFile(e)||Ps.isBlob(e)||Ps.isReadableStream(e))return e;if(Ps.isArrayBufferView(e))return e.buffer;if(Ps.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return qs(e,new ar.classes.URLSearchParams,m({visitor:function(e,t,a,n){return ar.isNode&&Ps.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=Ps.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return qs(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,a){if(Ps.isString(e))try{return(t||JSON.parse)(e),Ps.trim(e)}catch(Dv){if("SyntaxError"!==Dv.name)throw Dv}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||sr.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Ps.isResponse(e)||Ps.isReadableStream(e))return e;if(e&&Ps.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(Dv){if(a){if("SyntaxError"===Dv.name)throw Ds.from(Dv,Ds.ERR_BAD_RESPONSE,this,null,this.response);throw Dv}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ar.classes.FormData,Blob:ar.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ps.forEach(["delete","get","head","post","put","patch"],e=>{sr.headers[e]={}});const rr=sr,or=Ps.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lr=Symbol("internals");function ir(e){return e&&String(e).trim().toLowerCase()}function cr(e){return!1===e||null==e?e:Ps.isArray(e)?e.map(cr):String(e)}function dr(e,t,a,n,s){return Ps.isFunction(n)?n.call(this,t,a):(s&&(t=a),Ps.isString(t)?Ps.isString(n)?-1!==t.indexOf(n):Ps.isRegExp(n)?n.test(t):void 0:void 0)}class ur{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function s(e,t,a){const s=ir(t);if(!s)throw new Error("header name must be a non-empty string");const r=Ps.findKey(n,s);(!r||void 0===n[r]||!0===a||void 0===a&&!1!==n[r])&&(n[r||t]=cr(e))}const r=(e,t)=>Ps.forEach(e,(e,a)=>s(e,a,t));if(Ps.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(Ps.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let a,n,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),a=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!a||t[a]&&or[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t})(e),t);else if(Ps.isObject(e)&&Ps.isIterable(e)){let a,n,s={};for(const t of e){if(!Ps.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[n=t[0]]=(a=s[n])?Ps.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}r(s,t)}else null!=e&&s(t,e,a);return this}get(e,t){if(e=ir(e)){const a=Ps.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(Ps.isFunction(t))return t.call(this,e,a);if(Ps.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ir(e)){const a=Ps.findKey(this,e);return!(!a||void 0===this[a]||t&&!dr(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function s(e){if(e=ir(e)){const s=Ps.findKey(a,e);!s||t&&!dr(0,a[s],s,t)||(delete a[s],n=!0)}}return Ps.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const s=t[a];e&&!dr(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,a={};return Ps.forEach(this,(n,s)=>{const r=Ps.findKey(a,s);if(r)return t[r]=cr(n),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}(s):String(s).trim();o!==s&&delete t[s],t[o]=cr(n),a[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ps.forEach(this,(a,n)=>{null!=a&&!1!==a&&(t[n]=e&&Ps.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,a]=e;return t+": "+a}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[lr]=this[lr]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=ir(e);t[n]||(!function(e,t){const a=Ps.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(e,a,s){return this[n].call(this,t,e,a,s)},configurable:!0})})}(a,e),t[n]=!0)}return Ps.isArray(e)?e.forEach(n):n(e),this}}ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ps.reduceDescriptors(ur.prototype,(e,t)=>{let{value:a}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[n]=e}}}),Ps.freezeMethods(ur);const mr=ur;function pr(e,t){const a=this||rr,n=t||a,s=mr.from(n.headers);let r=n.data;return Ps.forEach(e,function(e){r=e.call(a,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function hr(e){return!(!e||!e.__CANCEL__)}function fr(e,t,a){Ds.call(this,null==e?"canceled":e,Ds.ERR_CANCELED,t,a),this.name="CanceledError"}Ps.inherits(fr,Ds,{__CANCEL__:!0});const xr=fr;function gr(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new Ds("Request failed with status code "+a.status,[Ds.ERR_BAD_REQUEST,Ds.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const vr=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let s,r=0,o=0;return t=void 0!==t?t:1e3,function(l){const i=Date.now(),c=n[o];s||(s=i),a[r]=l,n[r]=i;let d=o,u=0;for(;d!==r;)u+=a[d++],d%=e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),i-s<t)return;const m=c&&i-c;return m?Math.round(1e3*u/m):void 0}};const br=function(e,t){let a,n,s=0,r=1e3/t;const o=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=r,a=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];t>=r?o(i,e):(a=i,n||(n=setTimeout(()=>{n=null,o(a)},r-t)))},()=>a&&o(a)]},yr=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const s=vr(50,250);return br(a=>{const r=a.loaded,o=a.lengthComputable?a.total:void 0,l=r-n,i=s(l);n=r;e({loaded:r,total:o,progress:o?r/o:void 0,bytes:l,rate:i||void 0,estimated:i&&o&&r<=o?(o-r)/i:void 0,event:a,lengthComputable:null!=o,[t?"download":"upload"]:!0})},a)},jr=(e,t)=>{const a=null!=e;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},wr=e=>function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Ps.asap(()=>e(...a))},Nr=ar.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,ar.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(ar.origin),ar.navigator&&/(msie|trident)/i.test(ar.navigator.userAgent)):()=>!0,kr=ar.hasStandardBrowserEnv?{write(e,t,a,n,s,r,o){if("undefined"===typeof document)return;const l=["".concat(e,"=").concat(encodeURIComponent(t))];Ps.isNumber(a)&&l.push("expires=".concat(new Date(a).toUTCString())),Ps.isString(n)&&l.push("path=".concat(n)),Ps.isString(s)&&l.push("domain=".concat(s)),!0===r&&l.push("secure"),Ps.isString(o)&&l.push("SameSite=".concat(o)),document.cookie=l.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function _r(e,t,a){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Sr=e=>e instanceof mr?m({},e):e;function Cr(e,t){t=t||{};const a={};function n(e,t,a,n){return Ps.isPlainObject(e)&&Ps.isPlainObject(t)?Ps.merge.call({caseless:n},e,t):Ps.isPlainObject(t)?Ps.merge({},t):Ps.isArray(t)?t.slice():t}function s(e,t,a,s){return Ps.isUndefined(t)?Ps.isUndefined(e)?void 0:n(void 0,e,0,s):n(e,t,0,s)}function r(e,t){if(!Ps.isUndefined(t))return n(void 0,t)}function o(e,t){return Ps.isUndefined(t)?Ps.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function l(a,s,r){return r in t?n(a,s):r in e?n(void 0,a):void 0}const i={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(e,t,a)=>s(Sr(e),Sr(t),0,!0)};return Ps.forEach(Object.keys(m(m({},e),t)),function(n){const r=i[n]||s,o=r(e[n],t[n],n);Ps.isUndefined(o)&&r!==l||(a[n]=o)}),a}const Er=e=>{const t=Cr({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:l}=t;if(t.headers=o=mr.from(o),t.url=$s(_r(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ps.isFormData(a))if(ar.hasStandardBrowserEnv||ar.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ps.isFunction(a.getHeaders)){const e=a.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[a,n]=e;t.includes(a.toLowerCase())&&o.set(a,n)})}if(ar.hasStandardBrowserEnv&&(n&&Ps.isFunction(n)&&(n=n(t)),n||!1!==n&&Nr(t.url))){const e=s&&r&&kr.read(r);e&&o.set(s,e)}return t},Ar="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,a){const n=Er(e);let s=n.data;const r=mr.from(n.headers).normalize();let o,l,i,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=n;function h(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function x(){if(!f)return;const n=mr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());gr(function(e){t(e),h()},function(e){a(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(a(new Ds("Request aborted",Ds.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const n=t&&t.message?t.message:"Network Error",s=new Ds(n,Ds.ERR_NETWORK,e,f);s.event=t||null,a(s),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||Qs;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),a(new Ds(t,s.clarifyTimeoutError?Ds.ETIMEDOUT:Ds.ECONNABORTED,e,f)),f=null},void 0===s&&r.setContentType(null),"setRequestHeader"in f&&Ps.forEach(r.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Ps.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),p&&([i,d]=yr(p,!0),f.addEventListener("progress",i)),m&&f.upload&&([l,c]=yr(m),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{f&&(a(!t||t.type?new xr(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===ar.protocols.indexOf(g)?a(new Ds("Unsupported protocol "+g+":",Ds.ERR_BAD_REQUEST,e)):f.send(s||null)})},Tr=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,n=new AbortController;const s=function(e){if(!a){a=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Ds?t:new xr(t instanceof Error?t.message:t))}};let r=t&&setTimeout(()=>{r=null,s(new Ds("timeout ".concat(t," of ms exceeded"),Ds.ETIMEDOUT))},t);const o=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>Ps.asap(o),l}};function Rr(e,t){this.v=e,this.k=t}function Pr(e){return function(){return new zr(e.apply(this,arguments))}}function zr(e){var t,a;function n(t,a){try{var r=e[t](a),o=r.value,l=o instanceof Rr;Promise.resolve(l?o.v:o).then(function(a){if(l){var i="return"===t?"return":"next";if(!o.k||a.done)return n(i,a);a=e[i](a).value}s(r.done?"return":"normal",a)},function(e){n("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?n(t.key,t.arg):a=null}this._invoke=function(e,s){return new Promise(function(r,o){var l={key:e,arg:s,resolve:r,reject:o,next:null};a?a=a.next=l:(t=a=l,n(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Ir(e){return new Rr(e,0)}function Or(e){var t={},a=!1;function n(t,n){return a=!0,n=new Promise(function(a){a(e[t](n))}),{done:!1,value:new Rr(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):n("return",e)}),t}function Dr(e){var t,a,n,s=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,n=Symbol.iterator);s--;){if(a&&null!=(t=e[a]))return t.call(e);if(n&&null!=(t=e[n]))return new Mr(t.call(e));a="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Mr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Mr=function(e){this.s=e,this.n=e.next},Mr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new Mr(e)}zr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},zr.prototype.next=function(e){return this._invoke("next",e)},zr.prototype.throw=function(e){return this._invoke("throw",e)},zr.prototype.return=function(e){return this._invoke("return",e)};const Lr=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let n,s=0;for(;s<a;)n=s+t,yield e.slice(s,n),s=n},Fr=function(){var e=Pr(function*(e,t){var a,n=!1,s=!1;try{for(var r,o=Dr(Br(e));n=!(r=yield Ir(o.next())).done;n=!1){const e=r.value;yield*Or(Dr(Lr(e,t)))}}catch(l){s=!0,a=l}finally{try{n&&null!=o.return&&(yield Ir(o.return()))}finally{if(s)throw a}}});return function(t,a){return e.apply(this,arguments)}}(),Br=function(){var e=Pr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Or(Dr(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield Ir(t.read());if(e)break;yield a}}finally{yield Ir(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),qr=(e,t,a,n)=>{const s=Fr(e,t);let r,o=0,l=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await s.next();if(t)return l(),void e.close();let r=n.byteLength;if(a){let e=o+=r;a(e)}e.enqueue(new Uint8Array(n))}catch(t){throw l(t),t}},cancel:e=>(l(e),s.return())},{highWaterMark:2})},{isFunction:Ur}=Ps,Vr=(e=>{let{Request:t,Response:a}=e;return{Request:t,Response:a}})(Ps.global),{ReadableStream:Wr,TextEncoder:Hr}=Ps.global,Gr=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!e(...a)}catch(Dv){return!1}},$r=e=>{e=Ps.merge.call({skipUndefined:!0},Vr,e);const{fetch:t,Request:a,Response:n}=e,s=t?Ur(t):"function"===typeof fetch,r=Ur(a),o=Ur(n);if(!s)return!1;const l=s&&Ur(Wr),i=s&&("function"===typeof Hr?(c=new Hr,e=>c.encode(e)):async e=>new Uint8Array(await new a(e).arrayBuffer()));var c;const d=r&&l&&Gr(()=>{let e=!1;const t=new a(ar.origin,{body:new Wr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=o&&l&&Gr(()=>Ps.isReadableStream(new n("").body)),p={stream:u&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,a)=>{let n=t&&t[e];if(n)return n.call(t);throw new Ds("Response type '".concat(e,"' is not supported"),Ds.ERR_NOT_SUPPORT,a)})});const h=async(e,t)=>{const n=Ps.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ps.isBlob(e))return e.size;if(Ps.isSpecCompliantForm(e)){const t=new a(ar.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ps.isArrayBufferView(e)||Ps.isArrayBuffer(e)?e.byteLength:(Ps.isURLSearchParams(e)&&(e+=""),Ps.isString(e)?(await i(e)).byteLength:void 0)})(t):n};return async e=>{let{url:s,method:o,data:l,signal:i,cancelToken:c,timeout:f,onDownloadProgress:x,onUploadProgress:g,responseType:v,headers:b,withCredentials:y="same-origin",fetchOptions:j}=Er(e),w=t||fetch;v=v?(v+"").toLowerCase():"text";let N=Tr([i,c&&c.toAbortSignal()],f),k=null;const _=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let S;try{if(g&&d&&"get"!==o&&"head"!==o&&0!==(S=await h(b,l))){let e,t=new a(s,{method:"POST",body:l,duplex:"half"});if(Ps.isFormData(l)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,a]=jr(S,yr(wr(g)));l=qr(t.body,65536,e,a)}}Ps.isString(y)||(y=y?"include":"omit");const t=r&&"credentials"in a.prototype,i=m(m({},j),{},{signal:N,method:o.toUpperCase(),headers:b.normalize().toJSON(),body:l,duplex:"half",credentials:t?y:void 0});k=r&&new a(s,i);let c=await(r?w(k,j):w(s,i));const f=u&&("stream"===v||"response"===v);if(u&&(x||f&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Ps.toFiniteNumber(c.headers.get("content-length")),[a,s]=x&&jr(t,yr(wr(x),!0))||[];c=new n(qr(c.body,65536,a,()=>{s&&s(),_&&_()}),e)}v=v||"text";let C=await p[Ps.findKey(p,v)||"text"](c,e);return!f&&_&&_(),await new Promise((t,a)=>{gr(t,a,{data:C,headers:mr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(C){if(_&&_(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Ds("Network Error",Ds.ERR_NETWORK,e,k),{cause:C.cause||C});throw Ds.from(C,C&&C.code,e,k)}}},Kr=new Map,Qr=e=>{let t=e&&e.env||{};const{fetch:a,Request:n,Response:s}=t,r=[n,s,a];let o,l,i=r.length,c=Kr;for(;i--;)o=r[i],l=c.get(o),void 0===l&&c.set(o,l=i?new Map:$r(t)),c=l;return l},Yr=(Qr(),{http:null,xhr:Ar,fetch:{get:Qr}});Ps.forEach(Yr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Dv){}Object.defineProperty(e,"adapterName",{value:t})}});const Xr=e=>"- ".concat(e),Jr=e=>Ps.isFunction(e)||null===e||!1===e;const Zr={getAdapter:function(e,t){e=Ps.isArray(e)?e:[e];const{length:a}=e;let n,s;const r={};for(let o=0;o<a;o++){let a;if(n=e[o],s=n,!Jr(n)&&(s=Yr[(a=String(n)).toLowerCase()],void 0===s))throw new Ds("Unknown adapter '".concat(a,"'"));if(s&&(Ps.isFunction(s)||(s=s.get(t))))break;r[a||"#"+o]=s}if(!s){const e=Object.entries(r).map(e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")});let t=a?e.length>1?"since :\n"+e.map(Xr).join("\n"):" "+Xr(e[0]):"as no adapter specified";throw new Ds("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s},adapters:Yr};function eo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xr(null,e)}function to(e){eo(e),e.headers=mr.from(e.headers),e.data=pr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Zr.getAdapter(e.adapter||rr.adapter,e)(e).then(function(t){return eo(e),t.data=pr.call(e,e.transformResponse,t),t.headers=mr.from(t.headers),t},function(t){return hr(t)||(eo(e),t&&t.response&&(t.response.data=pr.call(e,e.transformResponse,t.response),t.response.headers=mr.from(t.response.headers))),Promise.reject(t)})}const ao="1.13.0",no={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{no[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const so={};no.transitional=function(e,t,a){function n(e,t){return"[Axios v"+ao+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,s,r)=>{if(!1===e)throw new Ds(n(s," has been removed"+(t?" in "+t:"")),Ds.ERR_DEPRECATED);return t&&!so[s]&&(so[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,s,r)}},no.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const ro={assertOptions:function(e,t,a){if("object"!==typeof e)throw new Ds("options must be an object",Ds.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const r=n[s],o=t[r];if(o){const t=e[r],a=void 0===t||o(t,r,e);if(!0!==a)throw new Ds("option "+r+" must be "+a,Ds.ERR_BAD_OPTION_VALUE);continue}if(!0!==a)throw new Ds("Unknown option "+r,Ds.ERR_BAD_OPTION)}},validators:no},oo=ro.validators;class lo{constructor(e){this.defaults=e||{},this.interceptors={request:new Ks,response:new Ks}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(Dv){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Cr(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:s}=t;void 0!==a&&ro.assertOptions(a,{silentJSONParsing:oo.transitional(oo.boolean),forcedJSONParsing:oo.transitional(oo.boolean),clarifyTimeoutError:oo.transitional(oo.boolean)},!1),null!=n&&(Ps.isFunction(n)?t.paramsSerializer={serialize:n}:ro.assertOptions(n,{encode:oo.function,serialize:oo.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ro.assertOptions(t,{baseUrl:oo.spelling("baseURL"),withXsrfToken:oo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=s&&Ps.merge(s.common,s[t.method]);s&&Ps.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=mr.concat(r,s);const o=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const i=[];let c;this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[to.bind(this),void 0];for(e.unshift(...o),e.push(...i),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let m=t;for(;u<d;){const e=o[u++],t=o[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=to.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=i.length;u<d;)c=c.then(i[u++],i[u++]);return c}getUri(e){return $s(_r((e=Cr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ps.forEach(["delete","get","head","options"],function(e){lo.prototype[e]=function(t,a){return this.request(Cr(a||{},{method:e,url:t,data:(a||{}).data}))}}),Ps.forEach(["post","put","patch"],function(e){function t(t){return function(a,n,s){return this.request(Cr(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}lo.prototype[e]=t(),lo.prototype[e+"Form"]=t(!0)});const io=lo;class co{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const a=this;this.promise.then(e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{a.subscribe(e),t=e}).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e(function(e,n,s){a.reason||(a.reason=new xr(e,n,s),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new co(function(t){e=t}),cancel:e}}}const uo=co;const mo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mo).forEach(e=>{let[t,a]=e;mo[a]=t});const po=mo;const ho=function e(t){const a=new io(t),n=Gn(io.prototype.request,a);return Ps.extend(n,io.prototype,a,{allOwnKeys:!0}),Ps.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(Cr(t,a))},n}(rr);ho.Axios=io,ho.CanceledError=xr,ho.CancelToken=uo,ho.isCancel=hr,ho.VERSION=ao,ho.toFormData=qs,ho.AxiosError=Ds,ho.Cancel=ho.CanceledError,ho.all=function(e){return Promise.all(e)},ho.spread=function(e){return function(t){return e.apply(null,t)}},ho.isAxiosError=function(e){return Ps.isObject(e)&&!0===e.isAxiosError},ho.mergeConfig=Cr,ho.AxiosHeaders=mr,ho.formToJSON=e=>nr(Ps.isHTMLForm(e)?new FormData(e):e),ho.getAdapter=Zr.getAdapter,ho.HttpStatusCode=po,ho.default=ho;const fo=ho,xo=(()=>{const e="http://151.243.218.223";if(e&&""!==e.trim())return e.trim();const t=window.location.protocol,a=window.location.hostname;return"".concat(t,"//").concat(a)})(),go="".concat(xo,"/api");console.log("\ud83d\udd27 API CONFIG:",{ENV_VAR:"http://151.243.218.223",DETECTED_PROTOCOL:window.location.protocol,DETECTED_HOST:window.location.hostname,FINAL_BASE_URL:xo,FINAL_API_URL:go});const vo=xo,bo=go;console.log("\ud83d\udd27 API CONFIG (DYNAMIC):",{BACKEND_URL:vo,API_URL:bo});const yo=fo.create({baseURL:bo,headers:{"Content-Type":"application/json"},timeout:3e4});yo.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),yo.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&console.warn("\u26a0\ufe0f Erro 401 - Token pode estar inv\xe1lido, mas mantendo sess\xe3o"),Promise.reject(e)});const jo=yo,wo=e=>{const t=bo.replace(/^https?/,e=>"https"===e?"wss":"ws");let a=localStorage.getItem("session_id");return a||(a=Date.now().toString()+Math.random().toString(36),localStorage.setItem("session_id",a)),console.log("\ud83d\udd0c Conectando WebSocket:","".concat(t,"/ws/").concat(e,"/").concat(a)),new WebSocket("".concat(t,"/ws/").concat(e,"/").concat(a))},No=(e,t,a)=>{localStorage.setItem("token",e),localStorage.setItem("user_type",t),localStorage.setItem("user_data",JSON.stringify(a))},ko=()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user_type");let a={};try{const e=localStorage.getItem("user_data");a=e?JSON.parse(e):{}}catch(Dv){console.warn("Error parsing user_data from localStorage:",Dv),a={}}return{token:e,userType:t,userData:a}},_o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user_type"),localStorage.removeItem("user_data")},So=()=>{const e=ge(),[t,a]=(0,s.useState)(""),[n,r]=(0,s.useState)(!1);return(0,Qt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-indigo-50 flex items-center justify-center p-4",children:(0,Qt.jsxs)(Un,{className:"w-full max-w-md p-8 space-y-6 bg-white shadow-2xl",children:[(0,Qt.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 bg-purple-600 rounded-2xl flex items-center justify-center",children:(0,Qt.jsx)(sa,{className:"w-8 h-8 text-white"})}),(0,Qt.jsx)("h2",{className:"text-3xl font-bold text-slate-900",style:{fontFamily:"Space Grotesk, sans-serif"},children:"Admin Login"}),(0,Qt.jsx)("p",{className:"text-slate-600 text-center",children:"Acesso exclusivo para administradores"})]}),(0,Qt.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),r(!0);try{var n;const a=await jo.post("/auth/admin/login",{password:t});console.log("\u2705 Admin login response:",a.data);const s=a.data.user_data||{id:"admin",name:"Admin Master",email:"admin@admin.com"};No(a.data.token,"admin",s),console.log("\u2705 Auth saved:",{token:(null===(n=localStorage.getItem("token"))||void 0===n?void 0:n.substring(0,20))+"...",user_type:localStorage.getItem("user_type"),user_data:localStorage.getItem("user_data")}),Bt.success("\u2705 Login admin realizado!"),e("/admin")}catch(l){var s,o;console.error("\u274c Admin login error:",l),Bt.error((null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.detail)||"Senha incorreta")}finally{r(!1)}},className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"space-y-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Senha Admin"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Qt.jsx)(On,{"data-testid":"admin-password-input",type:"password",placeholder:"Digite a senha admin",value:t,onChange:e=>a(e.target.value),className:"pl-10",required:!0})]})]}),(0,Qt.jsx)(zn,{"data-testid":"admin-submit-btn",type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:n,children:n?"Entrando...":"Entrar"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{"data-testid":"back-home-btn",variant:"outline",onClick:()=>e("/"),className:"flex-1",children:"Voltar"}),(0,Qt.jsx)(zn,{"data-testid":"clear-cache-btn",variant:"outline",onClick:()=>window.location.href="/clear-cache.html",className:"flex-1 text-orange-600 border-orange-300 hover:bg-orange-50",children:"\ud83d\udd27 Limpar Cache"})]})]})})},Co=na("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Eo=na("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ao=()=>{const e=ge(),[t,a]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1);return(0,Qt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-cyan-50 flex items-center justify-center p-4",children:(0,Qt.jsxs)(Un,{className:"w-full max-w-md p-8 space-y-6 bg-white shadow-2xl",children:[(0,Qt.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center",children:(0,Qt.jsx)(Co,{className:"w-8 h-8 text-white"})}),(0,Qt.jsx)("h2",{className:"text-3xl font-bold text-slate-900",style:{fontFamily:"Space Grotesk, sans-serif"},children:"Atendente Login"}),(0,Qt.jsx)("p",{className:"text-slate-600 text-center",children:"Entre para gerenciar tickets e conversas"})]}),(0,Qt.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),l(!0);try{const a=(await jo.post("/auth/agent/login",{login:t,password:n})).data;No(a.token,a.user_type,a.user_data),Bt.success("Bem-vindo, ".concat(a.user_data.name,"!")),e("/atendente")}catch(o){var s,r;console.error("Erro no login:",o),Bt.error((null===(s=o.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"Login ou senha inv\xe1lidos")}finally{l(!1)}},className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"space-y-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Login"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(Eo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Qt.jsx)(On,{"data-testid":"agent-login-input",type:"text",placeholder:"Seu login",value:t,onChange:e=>a(e.target.value),className:"pl-10",required:!0})]})]}),(0,Qt.jsxs)("div",{className:"space-y-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Qt.jsx)(On,{"data-testid":"agent-password-input",type:"password",placeholder:"Sua senha",value:n,onChange:e=>r(e.target.value),className:"pl-10",required:!0})]})]}),(0,Qt.jsx)(zn,{"data-testid":"agent-submit-btn",type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:o,children:o?"Entrando...":"Entrar"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{"data-testid":"back-home-btn",variant:"outline",onClick:()=>e("/"),className:"flex-1",children:"Voltar"}),(0,Qt.jsx)(zn,{"data-testid":"clear-cache-btn",variant:"outline",onClick:()=>window.location.href="/clear-cache.html",className:"flex-1 text-orange-600 border-orange-300 hover:bg-orange-50",children:"\ud83d\udd27 Limpar Cache"})]})]})})},To=na("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ro=na("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Po=()=>{const e=ge(),[t,a]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{console.log("\ud83d\udd0d [AUTO-LOGIN] Iniciando verifica\xe7\xe3o..."),console.log("\ud83d\udd0d [AUTO-LOGIN] URL atual:",window.location.href),await new Promise(e=>setTimeout(e,500));const t=localStorage.getItem("iaze_from_vendas"),a=localStorage.getItem("iaze_whatsapp"),n=localStorage.getItem("iaze_pin");let s,r;if(console.log("\ud83d\udce6 [AUTO-LOGIN] localStorage completo:"),console.log("  - iaze_from_vendas:",t),console.log("  - iaze_whatsapp:",a),console.log("  - iaze_pin:",n),"true"===t&&a&&n){console.log("\ud83c\udfaf [AUTO-LOGIN] Detectado vindo do /vendas!"),s=a,r=n,localStorage.removeItem("iaze_from_vendas");const e={whatsapp:s,pin:r};localStorage.setItem("client_credentials",JSON.stringify(e)),console.log("\ud83d\udcbe [AUTO-LOGIN] Credenciais salvas no formato padr\xe3o")}else{const e=localStorage.getItem("client_credentials");if(console.log("\ud83d\udce6 [AUTO-LOGIN] Credenciais no localStorage:",e),!e)return console.log("\u26a0\ufe0f [AUTO-LOGIN] Nenhuma credencial salva encontrada"),void c(!1);const t=JSON.parse(e);s=t.whatsapp,r=t.pin}if(!s||!r)return console.log("\u26a0\ufe0f [AUTO-LOGIN] Dados incompletos"),void c(!1);console.log("\ud83d\udd04 [AUTO-LOGIN] Tentando login autom\xe1tico com:",{whatsapp:s,pin:r});const{data:o}=await jo.post("/auth/client/login",{whatsapp:s,pin:r});console.log("\u2705 [AUTO-LOGIN] Login bem-sucedido! Dados:",o),No(o.token,o.user_type,o.user_data),console.log("\u2705 [AUTO-LOGIN] Token salvo, navegando para /chat..."),await new Promise(e=>setTimeout(e,500)),e("/chat",{replace:!0}),console.log("\u2705 [AUTO-LOGIN] Navega\xe7\xe3o completa!")}catch(s){var t,a,n;console.error("\u274c [AUTO-LOGIN] Falhou:",s),console.error("\u274c [AUTO-LOGIN] Detalhes:",null===(t=s.response)||void 0===t?void 0:t.data),localStorage.removeItem("client_credentials"),localStorage.removeItem("iaze_from_vendas"),c(!1),404!==(null===(a=s.response)||void 0===a?void 0:a.status)&&401!==(null===(n=s.response)||void 0===n?void 0:n.status)&&Bt.error("Erro ao fazer login autom\xe1tico. Por favor, tente novamente.")}})()},[e]);return i?(0,Qt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50 flex items-center justify-center p-4",children:(0,Qt.jsx)(Un,{className:"w-full max-w-md p-8 space-y-6 bg-white shadow-2xl",children:(0,Qt.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Qt.jsx)("img",{src:"/cybertv.png",alt:"CYBERTV",className:"w-64 h-64 object-contain animate-pulse"}),(0,Qt.jsx)("h2",{className:"text-xl font-medium text-slate-600",children:"Entrando automaticamente..."})]})})}):(0,Qt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50 flex items-center justify-center p-4",children:(0,Qt.jsxs)(Un,{className:"w-full max-w-md p-8 space-y-6 bg-white shadow-2xl",children:[(0,Qt.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Qt.jsx)("img",{src:"/cybertv.png",alt:"CYBERTV",className:"w-64 h-64 object-contain"}),(0,Qt.jsx)("h2",{className:"text-3xl font-bold text-slate-900",style:{fontFamily:"Space Grotesk, sans-serif"},children:"\xc1rea do Cliente"}),(0,Qt.jsx)("p",{className:"text-slate-600 text-center",children:"Entre com seu WhatsApp e PIN para acessar o chat"})]}),(0,Qt.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),l(!0);try{console.log("\ud83d\udcdd Fazendo login com:",{whatsapp:t,pin:n});const{data:a}=await jo.post("/auth/client/login",{whatsapp:t,pin:n}),s={whatsapp:t,pin:n};localStorage.setItem("client_credentials",JSON.stringify(s)),No(a.token,a.user_type,a.user_data),console.log("\ud83d\udcbe Credenciais salvas:",s),console.log("\ud83d\udd0d Verificando localStorage:"),console.log("  - client_credentials:",localStorage.getItem("client_credentials")),console.log("  - token:",localStorage.getItem("token")),console.log("  - user_type:",localStorage.getItem("user_type")),await new Promise(e=>setTimeout(e,100)),Bt.success("Bem-vindo ao chat!"),e("/chat")}catch(o){var s,r;console.error("\u274c Erro no login:",o),Bt.error((null===(s=o.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"Erro ao fazer login")}finally{l(!1)}},className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"space-y-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"WhatsApp"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Qt.jsx)(On,{"data-testid":"client-whatsapp-input",type:"text",placeholder:"55 11 99999-9999",value:t,onChange:e=>a(e.target.value),className:"pl-10",required:!0})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Formato: c\xf3digo do pa\xeds + DDD + n\xfamero"})]}),(0,Qt.jsxs)("div",{className:"space-y-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"PIN (2 d\xedgitos)"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(Ro,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Qt.jsx)(On,{"data-testid":"client-pin-input",type:"password",placeholder:"00",value:n,onChange:e=>r(e.target.value.replace(/\D/g,"").slice(0,2)),className:"pl-10",maxLength:2,required:!0})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Primeiro acesso? Crie seu PIN de 2 d\xedgitos"})]}),(0,Qt.jsx)(zn,{"data-testid":"client-submit-btn",type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:o?"Entrando...":"Avan\xe7ar"})]}),(0,Qt.jsx)(zn,{"data-testid":"back-home-btn",variant:"outline",onClick:()=>e("/"),className:"w-full",children:"Voltar"})]})})},zo=na("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),Io=na("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Oo=()=>{const e=ge(),[t,a]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1);return(0,Qt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 flex items-center justify-center p-4",children:(0,Qt.jsxs)(Un,{className:"w-full max-w-md p-8 space-y-6 bg-white shadow-2xl",children:[i&&(0,Qt.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:(0,Qt.jsxs)("div",{className:"flex items-start",children:[(0,Qt.jsx)("div",{className:"flex-shrink-0",children:(0,Qt.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Qt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Qt.jsxs)("div",{className:"ml-3",children:[(0,Qt.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Assinatura Expirada"}),(0,Qt.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,Qt.jsx)("p",{children:"Sua assinatura expirou. Entre em contato com o administrador para renovar e voltar a acessar o sistema."})})]})]})}),(0,Qt.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 bg-emerald-600 rounded-2xl flex items-center justify-center",children:(0,Qt.jsx)(zo,{className:"w-8 h-8 text-white"})}),(0,Qt.jsx)("h2",{className:"text-3xl font-bold text-slate-900",style:{fontFamily:"Space Grotesk, sans-serif"},children:"Painel de Revenda"}),(0,Qt.jsx)("p",{className:"text-slate-600 text-center",children:"Fa\xe7a login para gerenciar sua revenda"})]}),(0,Qt.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),l(!0);try{const{data:a}=await jo.post("/resellers/login",{email:t,password:n});No(a.token,a.user_type,a.user_data),Bt.success("Bem-vindo, ".concat(a.user_data.name,"!")),e("/revenda/dashboard")}catch(d){var s,r,o,i;const e=(null===(s=d.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"Email ou senha inv\xe1lidos";"expired"===(null===(o=d.response)||void 0===o||null===(i=o.headers)||void 0===i?void 0:i["x-subscription-status"])||e.toLowerCase().includes("assinatura expirada")?(c(!0),Bt.error("\u26a0\ufe0f "+e,{duration:5e3,action:{label:"Ver Planos",onClick:()=>{Bt.info("Por favor, contate o administrador para renovar sua assinatura.")}}})):Bt.error(e)}finally{l(!1)}},className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"space-y-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(Io,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Qt.jsx)(On,{"data-testid":"reseller-email-input",type:"email",placeholder:"seu-email@exemplo.com",value:t,onChange:e=>a(e.target.value),className:"pl-10",required:!0})]})]}),(0,Qt.jsxs)("div",{className:"space-y-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Senha"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(ra,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,Qt.jsx)(On,{"data-testid":"reseller-password-input",type:"password",placeholder:"Sua senha",value:n,onChange:e=>r(e.target.value),className:"pl-10",required:!0})]})]}),(0,Qt.jsx)(zn,{"data-testid":"reseller-submit-btn",type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700",disabled:o,children:o?"Entrando...":"Entrar"})]}),(0,Qt.jsxs)("div",{className:"text-center text-sm text-slate-600",children:["N\xe3o tem uma conta?"," ",(0,Qt.jsx)("button",{onClick:()=>e("/reseller-register"),className:"text-emerald-600 hover:text-emerald-700 font-semibold",children:"Criar Conta Gr\xe1tis"})]})]})})},Do=()=>{const e=ge(),[t,a]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:"",custom_domain:""}),[n,r]=(0,s.useState)(!1);return(0,Qt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 flex items-center justify-center p-4",children:(0,Qt.jsxs)(Un,{className:"w-full max-w-md p-8 space-y-6 bg-white shadow-2xl",children:[(0,Qt.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center",children:(0,Qt.jsx)("span",{className:"text-3xl font-bold text-white",children:"I"})}),(0,Qt.jsx)("h2",{className:"text-3xl font-bold text-slate-900",style:{fontFamily:"Space Grotesk, sans-serif"},children:"IAZE - Crie sua Conta"}),(0,Qt.jsx)("p",{className:"text-slate-600 text-center text-sm",children:"Teste gr\xe1tis por 5 dias, sem compromisso!"})]}),(0,Qt.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),t.name&&t.email&&t.password)if(t.password===t.confirmPassword)if(t.password.length<6)Bt.error("A senha deve ter pelo menos 6 caracteres");else{r(!0);try{await jo.post("/resellers/register-trial",{name:t.name,email:t.email,password:t.password,custom_domain:t.custom_domain||""});Bt.success("\ud83c\udf89 Teste gr\xe1tis ativado! Voc\xea tem 5 dias para explorar."),setTimeout(()=>{e("/reseller-login")},2e3)}catch(o){var n,s;Bt.error((null===(n=o.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.detail)||"Erro ao criar conta")}finally{r(!1)}}else Bt.error("As senhas n\xe3o coincidem");else Bt.error("Preencha todos os campos")},className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nome da Empresa"}),(0,Qt.jsx)(On,{type:"text",placeholder:"Ex: Minha Empresa",value:t.name,onChange:e=>a(m(m({},t),{},{name:e.target.value})),className:"w-full",required:!0})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,Qt.jsx)(On,{type:"email",placeholder:"seu-email@exemplo.com",value:t.email,onChange:e=>a(m(m({},t),{},{email:e.target.value})),className:"w-full",required:!0})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Senha"}),(0,Qt.jsx)(On,{type:"password",placeholder:"M\xednimo 6 caracteres",value:t.password,onChange:e=>a(m(m({},t),{},{password:e.target.value})),className:"w-full",required:!0})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirmar Senha"}),(0,Qt.jsx)(On,{type:"password",placeholder:"Digite a senha novamente",value:t.confirmPassword,onChange:e=>a(m(m({},t),{},{confirmPassword:e.target.value})),className:"w-full",required:!0})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dom\xednio Customizado (Opcional)"}),(0,Qt.jsx)(On,{type:"text",placeholder:"Ex: ajuda.vip ou suporte.empresa.com",value:t.custom_domain,onChange:e=>a(m(m({},t),{},{custom_domain:e.target.value})),className:"w-full"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"\ud83d\udca1 Deixe vazio para usar o dom\xednio autom\xe1tico (revenda.suporte.help)"})]}),(0,Qt.jsx)(zn,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold py-3 text-lg",children:n?"\u23f3 Criando...":"\ud83c\udf81 INICIAR TESTE GR\xc1TIS POR 5 DIAS"})]}),(0,Qt.jsxs)("div",{className:"text-center text-sm text-slate-600",children:["J\xe1 tem uma conta?"," ",(0,Qt.jsx)("button",{onClick:()=>e("/reseller-login"),className:"text-emerald-600 hover:text-emerald-700 font-semibold",children:"Fazer Login"})]}),(0,Qt.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 text-xs text-slate-600",children:[(0,Qt.jsx)("p",{className:"font-semibold text-emerald-800 mb-2",children:"\u2728 O que voc\xea ganha no teste:"}),(0,Qt.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,Qt.jsx)("li",{children:"5 dias de acesso completo"}),(0,Qt.jsx)("li",{children:"Todos os recursos dispon\xedveis"}),(0,Qt.jsx)("li",{children:"Sem cart\xe3o de cr\xe9dito necess\xe1rio"}),(0,Qt.jsx)("li",{children:"Cancele a qualquer momento"})]})]})]})})},Mo=na("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Lo=na("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Fo=na("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Bo=na("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),qo=na("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Uo=na("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Vo=na("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Wo=na("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Ho=na("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Go=na("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),$o=na("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Ko=na("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Qo=na("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Yo=na("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Xo=na("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Jo=na("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zo=na("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),el=na("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),tl=na("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),al=na("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),nl=na("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),sl=na("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),rl=na("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ol=["className"],ll=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,ol);return(0,Qt.jsx)("textarea",m({className:Tn("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},n))});ll.displayName="Textarea";"undefined"===typeof window||!window.document||window.document.createElement;function il(e,t){let{checkForDefaultPrevented:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null===e||void 0===e||e(n),!1===a||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}const cl=["children"],dl=["scope","children"];function ul(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];const n=()=>{const t=a.map(e=>s.createContext(e));return function(a){const n=(null===a||void 0===a?void 0:a[e])||t;return s.useMemo(()=>({["__scope".concat(e)]:m(m({},a),{},{[e]:n})}),[a,n])}};return n.scopeName=e,[function(t,n){const r=s.createContext(n),o=a.length;a=[...a,n];const i=t=>{var a;const{scope:n,children:i}=t,c=l(t,dl),d=(null===n||void 0===n||null===(a=n[e])||void 0===a?void 0:a[o])||r,u=s.useMemo(()=>c,Object.values(c));return(0,Qt.jsx)(d.Provider,{value:u,children:i})};return i.displayName=t+"Provider",[i,function(a,l){var i;const c=(null===l||void 0===l||null===(i=l[e])||void 0===i?void 0:i[o])||r,d=s.useContext(c);if(d)return d;if(void 0!==n)return n;throw new Error("`".concat(a,"` must be used within `").concat(t,"`"))}]},ml(n,...t)]}function ml(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const n=t[0];if(1===t.length)return n;const r=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const a=e.reduce((e,a)=>{let{useScope:n,scopeName:s}=a;const r=n(t)["__scope".concat(s)];return m(m({},e),r)},{});return s.useMemo(()=>({["__scope".concat(n.scopeName)]:a}),[a])}};return r.scopeName=n.scopeName,r}function pl(e,t,a){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,a)}function hl(e,t,a){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:a;throw new TypeError("Private element is not present on this object")}function fl(e,t){return e.get(hl(e,t))}function xl(e,t,a){return e.set(hl(e,t),a),a}var gl;const vl=["scope","children"];function bl(e){const t=e+"CollectionProvider",[a,n]=ul(t),[r,o]=a(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{const{scope:t,children:a}=e,n=s.useRef(null),o=s.useRef(new Map).current;return(0,Qt.jsx)(r,{scope:t,itemMap:o,collectionRef:n,children:a})};i.displayName=t;const c=e+"CollectionSlot",d=ua(c),u=s.forwardRef((e,t)=>{const{scope:a,children:n}=e,s=ia(t,o(c,a).collectionRef);return(0,Qt.jsx)(d,{ref:s,children:n})});u.displayName=c;const p=e+"CollectionItemSlot",h="data-radix-collection-item",f=ua(p),x=s.forwardRef((e,t)=>{const{scope:a,children:n}=e,r=l(e,vl),i=s.useRef(null),c=ia(t,i),d=o(p,a);return s.useEffect(()=>(d.itemMap.set(i,m({ref:i},r)),()=>{d.itemMap.delete(i)})),(0,Qt.jsx)(f,m(m({},{[h]:""}),{},{ref:c,children:n}))});return x.displayName=p,[{Provider:i,Slot:u,ItemSlot:x},function(t){const a=o(e+"CollectionConsumer",t),n=s.useCallback(()=>{const e=a.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(h,"]"))),n=Array.from(a.itemMap.values()).sort((e,a)=>t.indexOf(e.ref.current)-t.indexOf(a.ref.current));return n},[a.collectionRef,a.itemMap]);return n},n]}var yl=new WeakMap;gl=new WeakMap,Map;function jl(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const a=function(e,t){const a=e.length,n=wl(t),s=n>=0?n:a+n;return s<0||s>=a?-1:s}(e,t);return-1===a?void 0:e[a]}function wl(e){return e!==e||0===e?0:Math.trunc(e)}var Nl=null!==globalThis&&void 0!==globalThis&&globalThis.document?s.useLayoutEffect:()=>{},kl=r[" useId ".trim().toString()]||(()=>{}),_l=0;function Sl(e){const[t,a]=s.useState(kl());return Nl(()=>{e||a(e=>null!==e&&void 0!==e?e:String(_l++))},[e]),e||(t?"radix-".concat(t):"")}const Cl=["asChild"];var El=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const a=ua("Primitive.".concat(t)),n=s.forwardRef((e,n)=>{const{asChild:s}=e,r=l(e,Cl),o=s?a:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Qt.jsx)(o,m(m({},r),{},{ref:n}))});return n.displayName="Primitive.".concat(t),m(m({},e),{},{[t]:n})},{});function Al(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>function(){for(var e,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return null===(e=t.current)||void 0===e?void 0:e.call(t,...n)},[])}var Tl=r[" useInsertionEffect ".trim().toString()]||Nl;function Rl(e){let{prop:t,defaultProp:a,onChange:n=()=>{},caller:r}=e;const[o,l,i]=function(e){let{defaultProp:t,onChange:a}=e;const[n,r]=s.useState(t),o=s.useRef(n),l=s.useRef(a);return Tl(()=>{l.current=a},[a]),s.useEffect(()=>{var e;o.current!==n&&(null===(e=l.current)||void 0===e||e.call(l,n),o.current=n)},[n,o]),[n,r,l]}({defaultProp:a,onChange:n}),c=void 0!==t,d=c?t:o;{const e=s.useRef(void 0!==t);s.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",a=c?"controlled":"uncontrolled";console.warn("".concat(r," is changing from ").concat(e," to ").concat(a,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,r])}const u=s.useCallback(e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(t):e;var a;if(n!==t)null===(a=i.current)||void 0===a||a.call(i,n)}else l(e)},[c,t,l,i]);return[d,u]}Symbol("RADIX:SYNC_STATE");var Pl=s.createContext(void 0);function zl(e){const t=s.useContext(Pl);return e||t||"ltr"}const Il=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],Ol=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var Dl="rovingFocusGroup.onEntryFocus",Ml={bubbles:!1,cancelable:!0},Ll="RovingFocusGroup",[Fl,Bl,ql]=bl(Ll),[Ul,Vl]=ul(Ll,[ql]),[Wl,Hl]=Ul(Ll),Gl=s.forwardRef((e,t)=>(0,Qt.jsx)(Fl.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,Qt.jsx)(Fl.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,Qt.jsx)($l,m(m({},e),{},{ref:t}))})}));Gl.displayName=Ll;var $l=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:r=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:p=!1}=e,h=l(e,Il),f=s.useRef(null),x=ia(t,f),g=zl(o),[v,b]=Rl({prop:i,defaultProp:null!==c&&void 0!==c?c:null,onChange:d,caller:Ll}),[y,j]=s.useState(!1),w=Al(u),N=Bl(a),k=s.useRef(!1),[_,S]=s.useState(0);return s.useEffect(()=>{const e=f.current;if(e)return e.addEventListener(Dl,w),()=>e.removeEventListener(Dl,w)},[w]),(0,Qt.jsx)(Wl,{scope:a,orientation:n,dir:g,loop:r,currentTabStopId:v,onItemFocus:s.useCallback(e=>b(e),[b]),onItemShiftTab:s.useCallback(()=>j(!0),[]),onFocusableItemAdd:s.useCallback(()=>S(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>S(e=>e-1),[]),children:(0,Qt.jsx)(El.div,m(m({tabIndex:y||0===_?-1:0,"data-orientation":n},h),{},{ref:x,style:m({outline:"none"},e.style),onMouseDown:il(e.onMouseDown,()=>{k.current=!0}),onFocus:il(e.onFocus,e=>{const t=!k.current;if(e.target===e.currentTarget&&t&&!y){const t=new CustomEvent(Dl,Ml);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=N().filter(e=>e.focusable);Xl([e.find(e=>e.active),e.find(e=>e.id===v),...e].filter(Boolean).map(e=>e.ref.current),p)}}k.current=!1}),onBlur:il(e.onBlur,()=>j(!1))}))})}),Kl="RovingFocusGroupItem",Ql=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:r=!1,tabStopId:o,children:i}=e,c=l(e,Ol),d=Sl(),u=o||d,p=Hl(Kl,a),h=p.currentTabStopId===u,f=Bl(a),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:v}=p;return s.useEffect(()=>{if(n)return x(),()=>g()},[n,x,g]),(0,Qt.jsx)(Fl.ItemSlot,{scope:a,id:u,focusable:n,active:r,children:(0,Qt.jsx)(El.span,m(m({tabIndex:h?0:-1,"data-orientation":p.orientation},c),{},{ref:t,onMouseDown:il(e.onMouseDown,e=>{n?p.onItemFocus(u):e.preventDefault()}),onFocus:il(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:il(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,a){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,a);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:Yl[n]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const r=s.indexOf(e.currentTarget);s=p.loop?(n=r+1,(a=s).map((e,t)=>a[(n+t)%a.length])):s.slice(r+1)}setTimeout(()=>Xl(s))}var a,n}),children:"function"===typeof i?i({isCurrentTabStop:h,hasTabStop:null!=v}):i}))})});Ql.displayName=Kl;var Yl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=document.activeElement;for(const n of e){if(n===a)return;if(n.focus({preventScroll:t}),document.activeElement!==a)return}}var Jl=Gl,Zl=Ql;var ei=e=>{const{present:t,children:a}=e,n=function(e){const[t,a]=s.useState(),n=s.useRef(null),r=s.useRef(e),o=s.useRef("none"),l=e?"mounted":"unmounted",[i,c]=function(e,t){return s.useReducer((e,a)=>{const n=t[e][a];return null!==n&&void 0!==n?n:e},e)}(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const e=ti(n.current);o.current="mounted"===i?e:"none"},[i]),Nl(()=>{const t=n.current,a=r.current;if(a!==e){const n=o.current,s=ti(t);if(e)c("MOUNT");else if("none"===s||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(a&&n!==s?"ANIMATION_OUT":"UNMOUNT")}r.current=e}},[e,c]),Nl(()=>{if(t){var e;let a;const s=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,l=e=>{const o=ti(n.current).includes(CSS.escape(e.animationName));if(e.target===t&&o&&(c("ANIMATION_END"),!r.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",a=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},i=e=>{e.target===t&&(o.current=ti(n.current))};return t.addEventListener("animationstart",i),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{s.clearTimeout(a),t.removeEventListener("animationstart",i),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:s.useCallback(e=>{n.current=e?getComputedStyle(e):null,a(e)},[])}}(t),r="function"===typeof a?a({present:n.isPresent}):s.Children.only(a),o=ia(n.ref,function(e){var t,a;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,s=n&&"isReactWarning"in n&&n.isReactWarning;if(s)return e.ref;if(n=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(r));return"function"===typeof a||n.isPresent?s.cloneElement(r,{ref:o}):null};function ti(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}ei.displayName="Presence";const ai=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],ni=["__scopeTabs","loop"],si=["__scopeTabs","value","disabled"],ri=["__scopeTabs","value","forceMount","children"];var oi="Tabs",[li,ii]=ul(oi,[Vl]),ci=Vl(),[di,ui]=li(oi),mi=s.forwardRef((e,t)=>{const{__scopeTabs:a,value:n,onValueChange:s,defaultValue:r,orientation:o="horizontal",dir:i,activationMode:c="automatic"}=e,d=l(e,ai),u=zl(i),[p,h]=Rl({prop:n,onChange:s,defaultProp:null!==r&&void 0!==r?r:"",caller:oi});return(0,Qt.jsx)(di,{scope:a,baseId:Sl(),value:p,onValueChange:h,orientation:o,dir:u,activationMode:c,children:(0,Qt.jsx)(El.div,m(m({dir:u,"data-orientation":o},d),{},{ref:t}))})});mi.displayName=oi;var pi="TabsList",hi=s.forwardRef((e,t)=>{const{__scopeTabs:a,loop:n=!0}=e,s=l(e,ni),r=ui(pi,a),o=ci(a);return(0,Qt.jsx)(Jl,m(m({asChild:!0},o),{},{orientation:r.orientation,dir:r.dir,loop:n,children:(0,Qt.jsx)(El.div,m(m({role:"tablist","aria-orientation":r.orientation},s),{},{ref:t}))}))});hi.displayName=pi;var fi="TabsTrigger",xi=s.forwardRef((e,t)=>{const{__scopeTabs:a,value:n,disabled:s=!1}=e,r=l(e,si),o=ui(fi,a),i=ci(a),c=bi(o.baseId,n),d=yi(o.baseId,n),u=n===o.value;return(0,Qt.jsx)(Zl,m(m({asChild:!0},i),{},{focusable:!s,active:u,children:(0,Qt.jsx)(El.button,m(m({type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c},r),{},{ref:t,onMouseDown:il(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:il(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:il(e.onFocus,()=>{const e="manual"!==o.activationMode;u||s||!e||o.onValueChange(n)})}))}))});xi.displayName=fi;var gi="TabsContent",vi=s.forwardRef((e,t)=>{const{__scopeTabs:a,value:n,forceMount:r,children:o}=e,i=l(e,ri),c=ui(gi,a),d=bi(c.baseId,n),u=yi(c.baseId,n),p=n===c.value,h=s.useRef(p);return s.useEffect(()=>{const e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,Qt.jsx)(ei,{present:r||p,children:a=>{let{present:n}=a;return(0,Qt.jsx)(El.div,m(m({"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!n,id:u,tabIndex:0},i),{},{ref:t,style:m(m({},e.style),{},{animationDuration:h.current?"0s":void 0}),children:n&&o}))}})});function bi(e,t){return"".concat(e,"-trigger-").concat(t)}function yi(e,t){return"".concat(e,"-content-").concat(t)}vi.displayName=gi;var ji=hi,wi=xi,Ni=vi;const ki=["className"],_i=["className"],Si=["className"],Ci=mi,Ei=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,ki);return(0,Qt.jsx)(ji,m({ref:t,className:Tn("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a)},n))});Ei.displayName=ji.displayName;const Ai=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,_i);return(0,Qt.jsx)(wi,m({ref:t,className:Tn("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a)},n))});Ai.displayName=wi.displayName;const Ti=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Si);return(0,Qt.jsx)(Ni,m({ref:t,className:Tn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a)},n))});Ti.displayName=Ni.displayName;const Ri=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Pi,zi="dismissableLayer.update",Ii="dismissableLayer.pointerDownOutside",Oi="dismissableLayer.focusOutside",Di=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mi=s.forwardRef((e,t)=>{var a;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:c,onDismiss:d}=e,u=l(e,Ri),p=s.useContext(Di),[h,f]=s.useState(null),x=null!==(a=null===h||void 0===h?void 0:h.ownerDocument)&&void 0!==a?a:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,g]=s.useState({}),v=ia(t,e=>f(e)),b=Array.from(p.layers),[y]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(y),w=h?b.indexOf(h):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,k=w>=j,_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const a=Al(e),n=s.useRef(!1),r=s.useRef(()=>{});return s.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let n=function(){Bi(Ii,a,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=n,t.addEventListener("click",r.current,{once:!0})):n()}else t.removeEventListener("click",r.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}},[t,a]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,a=[...p.branches].some(e=>e.contains(t));k&&!a&&(null===o||void 0===o||o(e),null===c||void 0===c||c(e),e.defaultPrevented||null===d||void 0===d||d())},x),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const a=Al(e),n=s.useRef(!1);return s.useEffect(()=>{const e=e=>{if(e.target&&!n.current){Bi(Oi,a,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...p.branches].some(e=>e.contains(t))||(null===i||void 0===i||i(e),null===c||void 0===c||c(e),e.defaultPrevented||null===d||void 0===d||d())},x);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const a=Al(e);s.useEffect(()=>{const e=e=>{"Escape"===e.key&&a(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[a,t])}(e=>{w===p.layers.size-1&&(null===r||void 0===r||r(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},x),s.useEffect(()=>{if(h)return n&&(0===p.layersWithOutsidePointerEventsDisabled.size&&(Pi=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(h)),p.layers.add(h),Fi(),()=>{n&&1===p.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=Pi)}},[h,x,n,p]),s.useEffect(()=>()=>{h&&(p.layers.delete(h),p.layersWithOutsidePointerEventsDisabled.delete(h),Fi())},[h,p]),s.useEffect(()=>{const e=()=>g({});return document.addEventListener(zi,e),()=>document.removeEventListener(zi,e)},[]),(0,Qt.jsx)(El.div,m(m({},u),{},{ref:v,style:m({pointerEvents:N?k?"auto":"none":void 0},e.style),onFocusCapture:il(e.onFocusCapture,S.onFocusCapture),onBlurCapture:il(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:il(e.onPointerDownCapture,_.onPointerDownCapture)}))});Mi.displayName="DismissableLayer";var Li=s.forwardRef((e,t)=>{const a=s.useContext(Di),n=s.useRef(null),r=ia(t,n);return s.useEffect(()=>{const e=n.current;if(e)return a.branches.add(e),()=>{a.branches.delete(e)}},[a.branches]),(0,Qt.jsx)(El.div,m(m({},e),{},{ref:r}))});function Fi(){const e=new CustomEvent(zi);document.dispatchEvent(e)}function Bi(e,t,a,n){let{discrete:s}=n;const r=a.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});t&&r.addEventListener(e,t,{once:!0}),s?function(e,t){e&&Ct.flushSync(()=>e.dispatchEvent(t))}(r,o):r.dispatchEvent(o)}Li.displayName="DismissableLayerBranch";const qi=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var Ui="focusScope.autoFocusOnMount",Vi="focusScope.autoFocusOnUnmount",Wi={bubbles:!1,cancelable:!0},Hi=s.forwardRef((e,t)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:o}=e,i=l(e,qi),[c,d]=s.useState(null),u=Al(r),p=Al(o),h=s.useRef(null),f=ia(t,e=>d(e)),x=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(n){let e=function(e){if(x.paused||!c)return;const t=e.target;c.contains(t)?h.current=t:Qi(h.current,{select:!0})},t=function(e){if(x.paused||!c)return;const t=e.relatedTarget;null!==t&&(c.contains(t)||Qi(h.current,{select:!0}))},a=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Qi(c)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(a);return c&&n.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[n,c,x.paused]),s.useEffect(()=>{if(c){Yi.add(x);const t=document.activeElement;if(!c.contains(t)){const a=new CustomEvent(Ui,Wi);c.addEventListener(Ui,u),c.dispatchEvent(a),a.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=document.activeElement;for(const n of e)if(Qi(n,{select:t}),document.activeElement!==a)return}((e=Gi(c),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Qi(c))}return()=>{c.removeEventListener(Ui,u),setTimeout(()=>{const e=new CustomEvent(Vi,Wi);c.addEventListener(Vi,p),c.dispatchEvent(e),e.defaultPrevented||Qi(null!==t&&void 0!==t?t:document.body,{select:!0}),c.removeEventListener(Vi,p),Yi.remove(x)},0)}}var e},[c,u,p,x]);const g=s.useCallback(e=>{if(!a&&!n)return;if(x.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[n,r]=function(e){const t=Gi(e),a=$i(t,e),n=$i(t.reverse(),e);return[a,n]}(t);n&&r?e.shiftKey||s!==r?e.shiftKey&&s===n&&(e.preventDefault(),a&&Qi(r,{select:!0})):(e.preventDefault(),a&&Qi(n,{select:!0})):s===t&&e.preventDefault()}},[a,n,x.paused]);return(0,Qt.jsx)(El.div,m(m({tabIndex:-1},i),{},{ref:f,onKeyDown:g}))});function Gi(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function $i(e,t){for(const a of e)if(!Ki(a,{upTo:t}))return a}function Ki(e,t){let{upTo:a}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==a&&e===a)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Qi(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Hi.displayName="FocusScope";var Yi=function(){let e=[];return{add(t){const a=e[0];t!==a&&(null===a||void 0===a||a.pause()),e=Xi(e,t),e.unshift(t)},remove(t){var a;e=Xi(e,t),null===(a=e[0])||void 0===a||a.resume()}}}();function Xi(e,t){const a=[...e],n=a.indexOf(t);return-1!==n&&a.splice(n,1),a}const Ji=["container"];var Zi=s.forwardRef((e,t)=>{var a;const{container:n}=e,r=l(e,Ji),[o,i]=s.useState(!1);Nl(()=>i(!0),[]);const c=n||o&&(null===globalThis||void 0===globalThis||null===(a=globalThis.document)||void 0===a?void 0:a.body);return c?Ct.createPortal((0,Qt.jsx)(El.div,m(m({},r),{},{ref:t})),c):null});Zi.displayName="Portal";var ec=0;function tc(){s.useEffect(()=>{var e,t;const a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=a[0])&&void 0!==e?e:ac()),document.body.insertAdjacentElement("beforeend",null!==(t=a[1])&&void 0!==t?t:ac()),ec++,()=>{1===ec&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ec--}},[])}function ac(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nc=function(){return nc=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},nc.apply(this,arguments)};function sc(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a}Object.create;function rc(e,t,a){if(a||2===arguments.length)for(var n,s=0,r=t.length;s<r;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var oc="right-scroll-bar-position",lc="width-before-scroll-bar";function ic(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var cc="undefined"!==typeof window?s.useLayoutEffect:s.useEffect,dc=new WeakMap;function uc(e,t){var a=function(e,t){var a=(0,s.useState)(function(){return{value:e,callback:t,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0];return a.callback=t,a.facade}(t||null,function(t){return e.forEach(function(e){return ic(e,t)})});return cc(function(){var t=dc.get(a);if(t){var n=new Set(t),s=new Set(e),r=a.current;n.forEach(function(e){s.has(e)||ic(e,null)}),s.forEach(function(e){n.has(e)||ic(e,r)})}dc.set(a,e)},[e]),a}function mc(e){return e}function pc(e,t){void 0===t&&(t=mc);var a=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(e){var s=t(e,n);return a.push(s),function(){a=a.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(n=!0;a.length;){var t=a;a=[],t.forEach(e)}a={push:function(t){return e(t)},filter:function(){return a}}},assignMedium:function(e){n=!0;var t=[];if(a.length){var s=a;a=[],s.forEach(e),t=a}var r=function(){var a=t;t=[],a.forEach(e)},o=function(){return Promise.resolve().then(r)};o(),a={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),a}}}};return s}var hc=function(e){void 0===e&&(e={});var t=pc(null);return t.options=nc({async:!0,ssr:!1},e),t}(),fc=function(){},xc=s.forwardRef(function(e,t){var a=s.useRef(null),n=s.useState({onScrollCapture:fc,onWheelCapture:fc,onTouchMoveCapture:fc}),r=n[0],o=n[1],l=e.forwardProps,i=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,p=e.sideCar,h=e.noRelative,f=e.noIsolation,x=e.inert,g=e.allowPinchZoom,v=e.as,b=void 0===v?"div":v,y=e.gapMode,j=sc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,N=uc([a,t]),k=nc(nc({},j),r);return s.createElement(s.Fragment,null,u&&s.createElement(w,{sideCar:hc,removeScrollBar:d,shards:m,noRelative:h,noIsolation:f,inert:x,setCallbacks:o,allowPinchZoom:!!g,lockRef:a,gapMode:y}),l?s.cloneElement(s.Children.only(i),nc(nc({},k),{ref:N})):s.createElement(b,nc({},k,{className:c,ref:N}),i))});xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},xc.classNames={fullWidth:lc,zeroRight:oc};var gc,vc=function(e){var t=e.sideCar,a=sc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return s.createElement(n,nc({},a))};vc.isSideCarExport=!0;function bc(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gc||a.nc;return t&&e.setAttribute("nonce",t),e}var yc=function(){var e=0,t=null;return{add:function(a){var n,s;0==e&&(t=bc())&&(s=a,(n=t).styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jc=function(){var e=function(){var e=yc();return function(t,a){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&a])}}();return function(t){var a=t.styles,n=t.dynamic;return e(a,n),null}},wc={left:0,top:0,right:0,gap:0},Nc=function(e){return parseInt(e||"",10)||0},kc=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return wc;var t=function(e){var t=window.getComputedStyle(document.body),a=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[Nc(a),Nc(n),Nc(s)]}(e),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-a+t[2]-t[0])}},_c=jc(),Sc="data-scroll-locked",Cc=function(e,t,a,n){var s=e.left,r=e.top,o=e.right,l=e.gap;return void 0===a&&(a="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body[").concat(Sc,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===a&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(r,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),"padding"===a&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(oc," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(lc," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(oc," .").concat(oc," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(lc," .").concat(lc," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Sc,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},Ec=function(){var e=parseInt(document.body.getAttribute(Sc)||"0",10);return isFinite(e)?e:0},Ac=function(e){var t=e.noRelative,a=e.noImportant,n=e.gapMode,r=void 0===n?"margin":n;s.useEffect(function(){return document.body.setAttribute(Sc,(Ec()+1).toString()),function(){var e=Ec()-1;e<=0?document.body.removeAttribute(Sc):document.body.setAttribute(Sc,e.toString())}},[]);var o=s.useMemo(function(){return kc(r)},[r]);return s.createElement(_c,{styles:Cc(o,!t,r,a?"":"!important")})},Tc=!1;if("undefined"!==typeof window)try{var Rc=Object.defineProperty({},"passive",{get:function(){return Tc=!0,!0}});window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch(Mv){Tc=!1}var Pc=!!Tc&&{passive:!1},zc=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return"hidden"!==a[t]&&!(a.overflowY===a.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===a[t])},Ic=function(e,t){var a=t.ownerDocument,n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),Oc(e,n)){var s=Dc(e,n);if(s[1]>s[2])return!0}n=n.parentNode}while(n&&n!==a.body);return!1},Oc=function(e,t){return"v"===e?function(e){return zc(e,"overflowY")}(t):function(e){return zc(e,"overflowX")}(t)},Dc=function(e,t){return"v"===e?[(a=t).scrollTop,a.scrollHeight,a.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var a},Mc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lc=function(e){return[e.deltaX,e.deltaY]},Fc=function(e){return e&&"current"in e?e.current:e},Bc=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},qc=0,Uc=[];function Vc(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Wc=(Hc=function(e){var t=s.useRef([]),a=s.useRef([0,0]),n=s.useRef(),r=s.useState(qc++)[0],o=s.useState(jc)[0],l=s.useRef(e);s.useEffect(function(){l.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=rc([e.lockRef.current],(e.shards||[]).map(Fc),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var i=s.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var s,r=Mc(e),o=a.current,i="deltaX"in e?e.deltaX:o[0]-r[0],c="deltaY"in e?e.deltaY:o[1]-r[1],d=e.target,u=Math.abs(i)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=Ic(u,d);if(!m)return!0;if(m?s=u:(s="v"===u?"h":"v",m=Ic(u,d)),!m)return!1;if(!n.current&&"changedTouches"in e&&(i||c)&&(n.current=s),!s)return!0;var p=n.current||s;return function(e,t,a,n,s){var r=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=r*n,l=a.target,i=t.contains(l),c=!1,d=o>0,u=0,m=0;do{if(!l)break;var p=Dc(e,l),h=p[0],f=p[1]-p[2]-r*h;(h||f)&&Oc(e,l)&&(u+=f,m+=h);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!i&&l!==document.body||i&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(u)<1||!s&&o>u)||!d&&(s&&Math.abs(m)<1||!s&&-o>m))&&(c=!0),c}(p,t,e,"h"===p?i:c,!0)},[]),c=s.useCallback(function(e){var a=e;if(Uc.length&&Uc[Uc.length-1]===o){var n="deltaY"in a?Lc(a):Mc(a),s=t.current.filter(function(e){return e.name===a.type&&(e.target===a.target||a.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,n)})[0];if(s&&s.should)a.cancelable&&a.preventDefault();else if(!s){var r=(l.current.shards||[]).map(Fc).filter(Boolean).filter(function(e){return e.contains(a.target)});(r.length>0?i(a,r[0]):!l.current.noIsolation)&&a.cancelable&&a.preventDefault()}}},[]),d=s.useCallback(function(e,a,n,s){var r={name:e,delta:a,target:n,should:s,shadowParent:Vc(n)};t.current.push(r),setTimeout(function(){t.current=t.current.filter(function(e){return e!==r})},1)},[]),u=s.useCallback(function(e){a.current=Mc(e),n.current=void 0},[]),m=s.useCallback(function(t){d(t.type,Lc(t),t.target,i(t,e.lockRef.current))},[]),p=s.useCallback(function(t){d(t.type,Mc(t),t.target,i(t,e.lockRef.current))},[]);s.useEffect(function(){return Uc.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Pc),document.addEventListener("touchmove",c,Pc),document.addEventListener("touchstart",u,Pc),function(){Uc=Uc.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,Pc),document.removeEventListener("touchmove",c,Pc),document.removeEventListener("touchstart",u,Pc)}},[]);var h=e.removeScrollBar,f=e.inert;return s.createElement(s.Fragment,null,f?s.createElement(o,{styles:Bc(r)}):null,h?s.createElement(Ac,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},hc.useMedium(Hc),vc);var Hc,Gc=s.forwardRef(function(e,t){return s.createElement(xc,nc({},e,{ref:t,sideCar:Wc}))});Gc.classNames=xc.classNames;const $c=Gc;var Kc=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Qc=new WeakMap,Yc=new WeakMap,Xc={},Jc=0,Zc=function(e){return e&&(e.host||Zc(e.parentNode))},ed=function(e,t,a,n){var s=function(e,t){return t.map(function(t){if(e.contains(t))return t;var a=Zc(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Xc[a]||(Xc[a]=new WeakMap);var r=Xc[a],o=[],l=new Set,i=new Set(s),c=function(e){e&&!l.has(e)&&(l.add(e),c(e.parentNode))};s.forEach(c);var d=function(e){e&&!i.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(n),s=null!==t&&"false"!==t,i=(Qc.get(e)||0)+1,c=(r.get(e)||0)+1;Qc.set(e,i),r.set(e,c),o.push(e),1===i&&s&&Yc.set(e,!0),1===c&&e.setAttribute(a,"true"),s||e.setAttribute(n,"true")}catch(Dv){console.error("aria-hidden: cannot operate on ",e,Dv)}})};return d(t),l.clear(),Jc++,function(){o.forEach(function(e){var t=Qc.get(e)-1,s=r.get(e)-1;Qc.set(e,t),r.set(e,s),t||(Yc.has(e)||e.removeAttribute(n),Yc.delete(e)),s||e.removeAttribute(a)}),--Jc||(Qc=new WeakMap,Qc=new WeakMap,Yc=new WeakMap,Xc={})}},td=function(e,t,a){void 0===a&&(a="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=t||Kc(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),ed(n,s,a,"aria-hidden")):function(){return null}};const ad=["__scopeDialog"],nd=["forceMount"],sd=["__scopeDialog"],rd=["forceMount"],od=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],ld=["__scopeDialog"],id=["__scopeDialog"],cd=["__scopeDialog"];var dd="Dialog",[ud,md]=ul(dd),[pd,hd]=ud(dd),fd=e=>{const{__scopeDialog:t,children:a,open:n,defaultOpen:r,onOpenChange:o,modal:l=!0}=e,i=s.useRef(null),c=s.useRef(null),[d,u]=Rl({prop:n,defaultProp:null!==r&&void 0!==r&&r,onChange:o,caller:dd});return(0,Qt.jsx)(pd,{scope:t,triggerRef:i,contentRef:c,contentId:Sl(),titleId:Sl(),descriptionId:Sl(),open:d,onOpenChange:u,onOpenToggle:s.useCallback(()=>u(e=>!e),[u]),modal:l,children:a})};fd.displayName=dd;var xd="DialogTrigger",gd=s.forwardRef((e,t)=>{const{__scopeDialog:a}=e,n=l(e,ad),s=hd(xd,a),r=ia(t,s.triggerRef);return(0,Qt.jsx)(El.button,m(m({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Md(s.open)},n),{},{ref:r,onClick:il(e.onClick,s.onOpenToggle)}))});gd.displayName=xd;var vd="DialogPortal",[bd,yd]=ud(vd,{forceMount:void 0}),jd=e=>{const{__scopeDialog:t,forceMount:a,children:n,container:r}=e,o=hd(vd,t);return(0,Qt.jsx)(bd,{scope:t,forceMount:a,children:s.Children.map(n,e=>(0,Qt.jsx)(ei,{present:a||o.open,children:(0,Qt.jsx)(Zi,{asChild:!0,container:r,children:e})}))})};jd.displayName=vd;var wd="DialogOverlay",Nd=s.forwardRef((e,t)=>{const a=yd(wd,e.__scopeDialog),{forceMount:n=a.forceMount}=e,s=l(e,nd),r=hd(wd,e.__scopeDialog);return r.modal?(0,Qt.jsx)(ei,{present:n||r.open,children:(0,Qt.jsx)(_d,m(m({},s),{},{ref:t}))}):null});Nd.displayName=wd;var kd=ua("DialogOverlay.RemoveScroll"),_d=s.forwardRef((e,t)=>{const{__scopeDialog:a}=e,n=l(e,sd),s=hd(wd,a);return(0,Qt.jsx)($c,{as:kd,allowPinchZoom:!0,shards:[s.contentRef],children:(0,Qt.jsx)(El.div,m(m({"data-state":Md(s.open)},n),{},{ref:t,style:m({pointerEvents:"auto"},n.style)}))})}),Sd="DialogContent",Cd=s.forwardRef((e,t)=>{const a=yd(Sd,e.__scopeDialog),{forceMount:n=a.forceMount}=e,s=l(e,rd),r=hd(Sd,e.__scopeDialog);return(0,Qt.jsx)(ei,{present:n||r.open,children:r.modal?(0,Qt.jsx)(Ed,m(m({},s),{},{ref:t})):(0,Qt.jsx)(Ad,m(m({},s),{},{ref:t}))})});Cd.displayName=Sd;var Ed=s.forwardRef((e,t)=>{const a=hd(Sd,e.__scopeDialog),n=s.useRef(null),r=ia(t,a.contentRef,n);return s.useEffect(()=>{const e=n.current;if(e)return td(e)},[]),(0,Qt.jsx)(Td,m(m({},e),{},{ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:il(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:il(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:il(e.onFocusOutside,e=>e.preventDefault())}))}),Ad=s.forwardRef((e,t)=>{const a=hd(Sd,e.__scopeDialog),n=s.useRef(!1),r=s.useRef(!1);return(0,Qt.jsx)(Td,m(m({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,o;(null===(s=e.onCloseAutoFocus)||void 0===s||s.call(e,t),t.defaultPrevented)||(n.current||null===(o=a.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());n.current=!1,r.current=!1},onInteractOutside:t=>{var s,o;null===(s=e.onInteractOutside)||void 0===s||s.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));const l=t.target;(null===(o=a.triggerRef.current)||void 0===o?void 0:o.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}}))}),Td=s.forwardRef((e,t)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:o}=e,i=l(e,od),c=hd(Sd,a),d=s.useRef(null),u=ia(t,d);return tc(),(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Hi,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:o,children:(0,Qt.jsx)(Mi,m(m({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Md(c.open)},i),{},{ref:u,onDismiss:()=>c.onOpenChange(!1)}))}),(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(qd,{titleId:c.titleId}),(0,Qt.jsx)(Ud,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Rd="DialogTitle",Pd=s.forwardRef((e,t)=>{const{__scopeDialog:a}=e,n=l(e,ld),s=hd(Rd,a);return(0,Qt.jsx)(El.h2,m(m({id:s.titleId},n),{},{ref:t}))});Pd.displayName=Rd;var zd="DialogDescription",Id=s.forwardRef((e,t)=>{const{__scopeDialog:a}=e,n=l(e,id),s=hd(zd,a);return(0,Qt.jsx)(El.p,m(m({id:s.descriptionId},n),{},{ref:t}))});Id.displayName=zd;var Od="DialogClose",Dd=s.forwardRef((e,t)=>{const{__scopeDialog:a}=e,n=l(e,cd),s=hd(Od,a);return(0,Qt.jsx)(El.button,m(m({type:"button"},n),{},{ref:t,onClick:il(e.onClick,()=>s.onOpenChange(!1))}))});function Md(e){return e?"open":"closed"}Dd.displayName=Od;var Ld="DialogTitleWarning",[Fd,Bd]=function(e,t){const a=s.createContext(t),n=e=>{const{children:t}=e,n=l(e,cl),r=s.useMemo(()=>n,Object.values(n));return(0,Qt.jsx)(a.Provider,{value:r,children:t})};return n.displayName=e+"Provider",[n,function(n){const r=s.useContext(a);if(r)return r;if(void 0!==t)return t;throw new Error("`".concat(n,"` must be used within `").concat(e,"`"))}]}(Ld,{contentName:Sd,titleName:Rd,docsSlug:"dialog"}),qd=e=>{let{titleId:t}=e;const a=Bd(Ld),n="`".concat(a.contentName,"` requires a `").concat(a.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(a.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(a.docsSlug);return s.useEffect(()=>{if(t){document.getElementById(t)||console.error(n)}},[n,t]),null},Ud=e=>{let{contentRef:t,descriptionId:a}=e;const n=Bd("DialogDescriptionWarning"),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return s.useEffect(()=>{var e;const n=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(a&&n){document.getElementById(a)||console.warn(r)}},[r,t,a]),null},Vd=fd,Wd=gd,Hd=jd,Gd=Nd,$d=Cd,Kd=Pd,Qd=Id,Yd=Dd;const Xd=na("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jd=["className"],Zd=["className","children"],eu=["className"],tu=["className"],au=["className"],nu=Vd,su=Wd,ru=Hd,ou=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Jd);return(0,Qt.jsx)(Gd,m({ref:t,className:Tn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},n))});ou.displayName=Gd.displayName;const lu=s.forwardRef((e,t)=>{let{className:a,children:n}=e,s=l(e,Zd);return(0,Qt.jsxs)(ru,{children:[(0,Qt.jsx)(ou,{}),(0,Qt.jsxs)($d,m(m({ref:t,className:Tn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},s),{},{children:[n,(0,Qt.jsxs)(Yd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Qt.jsx)(Xd,{className:"h-4 w-4"}),(0,Qt.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});lu.displayName=$d.displayName;const iu=e=>{let{className:t}=e,a=l(e,eu);return(0,Qt.jsx)("div",m({className:Tn("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};iu.displayName="DialogHeader";const cu=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,tu);return(0,Qt.jsx)(Kd,m({ref:t,className:Tn("text-lg font-semibold leading-none tracking-tight",a)},n))});cu.displayName=Kd.displayName;function du(e,t){let[a,n]=t;return Math.min(n,Math.max(a,e))}s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,au);return(0,Qt.jsx)(Qd,m({ref:t,className:Tn("text-sm text-muted-foreground",a)},n))}).displayName=Qd.displayName;const uu=["top","right","bottom","left"],mu=Math.min,pu=Math.max,hu=Math.round,fu=Math.floor,xu=e=>({x:e,y:e}),gu={left:"right",right:"left",bottom:"top",top:"bottom"},vu={start:"end",end:"start"};function bu(e,t,a){return pu(e,mu(t,a))}function yu(e,t){return"function"===typeof e?e(t):e}function ju(e){return e.split("-")[0]}function wu(e){return e.split("-")[1]}function Nu(e){return"x"===e?"y":"x"}function ku(e){return"y"===e?"height":"width"}const _u=new Set(["top","bottom"]);function Su(e){return _u.has(ju(e))?"y":"x"}function Cu(e){return Nu(Su(e))}function Eu(e){return e.replace(/start|end/g,e=>vu[e])}const Au=["left","right"],Tu=["right","left"],Ru=["top","bottom"],Pu=["bottom","top"];function zu(e,t,a,n){const s=wu(e);let r=function(e,t,a){switch(e){case"top":case"bottom":return a?t?Tu:Au:t?Au:Tu;case"left":case"right":return t?Ru:Pu;default:return[]}}(ju(e),"start"===a,n);return s&&(r=r.map(e=>e+"-"+s),t&&(r=r.concat(r.map(Eu)))),r}function Iu(e){return e.replace(/left|right|bottom|top/g,e=>gu[e])}function Ou(e){return"number"!==typeof e?function(e){return m({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Du(e){const{x:t,y:a,width:n,height:s}=e;return{width:n,height:s,top:a,left:t,right:t+n,bottom:a+s,x:t,y:a}}const Mu=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Lu=["strategy"],Fu=["mainAxis","crossAxis","limiter"],Bu=["apply"];function qu(e,t,a){let{reference:n,floating:s}=e;const r=Su(t),o=Cu(t),l=ku(o),i=ju(t),c="y"===r,d=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(i){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-s.width,y:u};break;default:p={x:n.x,y:n.y}}switch(wu(t)){case"start":p[o]-=m*(a&&c?-1:1);break;case"end":p[o]+=m*(a&&c?-1:1)}return p}async function Uu(e,t){var a;void 0===t&&(t={});const{x:n,y:s,platform:r,rects:o,elements:l,strategy:i}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=yu(t,e),h=Ou(p),f=l[m?"floating"===u?"reference":"floating":u],x=Du(await r.getClippingRect({element:null==(a=await(null==r.isElement?void 0:r.isElement(f)))||a?f:f.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:i})),g="floating"===u?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(null==r.getOffsetParent?void 0:r.getOffsetParent(l.floating)),b=await(null==r.isElement?void 0:r.isElement(v))&&await(null==r.getScale?void 0:r.getScale(v))||{x:1,y:1},y=Du(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:i}):g);return{top:(x.top-y.top+h.top)/b.y,bottom:(y.bottom-x.bottom+h.bottom)/b.y,left:(x.left-y.left+h.left)/b.x,right:(y.right-x.right+h.right)/b.x}}function Vu(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wu(e){return uu.some(t=>e[t]>=0)}const Hu=new Set(["left","top"]);function Gu(){return"undefined"!==typeof window}function $u(e){return Yu(e)?(e.nodeName||"").toLowerCase():"#document"}function Ku(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Qu(e){var t;return null==(t=(Yu(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Yu(e){return!!Gu()&&(e instanceof Node||e instanceof Ku(e).Node)}function Xu(e){return!!Gu()&&(e instanceof Element||e instanceof Ku(e).Element)}function Ju(e){return!!Gu()&&(e instanceof HTMLElement||e instanceof Ku(e).HTMLElement)}function Zu(e){return!(!Gu()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ku(e).ShadowRoot)}const em=new Set(["inline","contents"]);function tm(e){const{overflow:t,overflowX:a,overflowY:n,display:s}=pm(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+a)&&!em.has(s)}const am=new Set(["table","td","th"]);function nm(e){return am.has($u(e))}const sm=[":popover-open",":modal"];function rm(e){return sm.some(t=>{try{return e.matches(t)}catch(a){return!1}})}const om=["transform","translate","scale","rotate","perspective"],lm=["transform","translate","scale","rotate","perspective","filter"],im=["paint","layout","strict","content"];function cm(e){const t=dm(),a=Xu(e)?pm(e):e;return om.some(e=>!!a[e]&&"none"!==a[e])||!!a.containerType&&"normal"!==a.containerType||!t&&!!a.backdropFilter&&"none"!==a.backdropFilter||!t&&!!a.filter&&"none"!==a.filter||lm.some(e=>(a.willChange||"").includes(e))||im.some(e=>(a.contain||"").includes(e))}function dm(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const um=new Set(["html","body","#document"]);function mm(e){return um.has($u(e))}function pm(e){return Ku(e).getComputedStyle(e)}function hm(e){return Xu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fm(e){if("html"===$u(e))return e;const t=e.assignedSlot||e.parentNode||Zu(e)&&e.host||Qu(e);return Zu(t)?t.host:t}function xm(e){const t=fm(e);return mm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ju(t)&&tm(t)?t:xm(t)}function gm(e,t,a){var n;void 0===t&&(t=[]),void 0===a&&(a=!0);const s=xm(e),r=s===(null==(n=e.ownerDocument)?void 0:n.body),o=Ku(s);if(r){const e=vm(o);return t.concat(o,o.visualViewport||[],tm(s)?s:[],e&&a?gm(e):[])}return t.concat(s,gm(s,[],a))}function vm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bm(e){const t=pm(e);let a=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ju(e),r=s?e.offsetWidth:a,o=s?e.offsetHeight:n,l=hu(a)!==r||hu(n)!==o;return l&&(a=r,n=o),{width:a,height:n,$:l}}function ym(e){return Xu(e)?e:e.contextElement}function jm(e){const t=ym(e);if(!Ju(t))return xu(1);const a=t.getBoundingClientRect(),{width:n,height:s,$:r}=bm(t);let o=(r?hu(a.width):a.width)/n,l=(r?hu(a.height):a.height)/s;return o&&Number.isFinite(o)||(o=1),l&&Number.isFinite(l)||(l=1),{x:o,y:l}}const wm=xu(0);function Nm(e){const t=Ku(e);return dm()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:wm}function km(e,t,a,n){void 0===t&&(t=!1),void 0===a&&(a=!1);const s=e.getBoundingClientRect(),r=ym(e);let o=xu(1);t&&(n?Xu(n)&&(o=jm(n)):o=jm(e));const l=function(e,t,a){return void 0===t&&(t=!1),!(!a||t&&a!==Ku(e))&&t}(r,a,n)?Nm(r):xu(0);let i=(s.left+l.x)/o.x,c=(s.top+l.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(r){const e=Ku(r),t=n&&Xu(n)?Ku(n):n;let a=e,s=vm(a);for(;s&&n&&t!==a;){const e=jm(s),t=s.getBoundingClientRect(),n=pm(s),r=t.left+(s.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(s.clientTop+parseFloat(n.paddingTop))*e.y;i*=e.x,c*=e.y,d*=e.x,u*=e.y,i+=r,c+=o,a=Ku(s),s=vm(a)}}return Du({width:d,height:u,x:i,y:c})}function _m(e,t){const a=hm(e).scrollLeft;return t?t.left+a:km(Qu(e)).left+a}function Sm(e,t){const a=e.getBoundingClientRect();return{x:a.left+t.scrollLeft-_m(e,a),y:a.top+t.scrollTop}}const Cm=new Set(["absolute","fixed"]);function Em(e,t,a){let n;if("viewport"===t)n=function(e,t){const a=Ku(e),n=Qu(e),s=a.visualViewport;let r=n.clientWidth,o=n.clientHeight,l=0,i=0;if(s){r=s.width,o=s.height;const e=dm();(!e||e&&"fixed"===t)&&(l=s.offsetLeft,i=s.offsetTop)}const c=_m(n);if(c<=0){const e=n.ownerDocument,t=e.body,a=getComputedStyle(t),s="CSS1Compat"===e.compatMode&&parseFloat(a.marginLeft)+parseFloat(a.marginRight)||0,o=Math.abs(n.clientWidth-t.clientWidth-s);o<=25&&(r-=o)}else c<=25&&(r+=c);return{width:r,height:o,x:l,y:i}}(e,a);else if("document"===t)n=function(e){const t=Qu(e),a=hm(e),n=e.ownerDocument.body,s=pu(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),r=pu(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-a.scrollLeft+_m(e);const l=-a.scrollTop;return"rtl"===pm(n).direction&&(o+=pu(t.clientWidth,n.clientWidth)-s),{width:s,height:r,x:o,y:l}}(Qu(e));else if(Xu(t))n=function(e,t){const a=km(e,!0,"fixed"===t),n=a.top+e.clientTop,s=a.left+e.clientLeft,r=Ju(e)?jm(e):xu(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:s*r.x,y:n*r.y}}(t,a);else{const a=Nm(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Du(n)}function Am(e,t){const a=fm(e);return!(a===t||!Xu(a)||mm(a))&&("fixed"===pm(a).position||Am(a,t))}function Tm(e,t,a){const n=Ju(t),s=Qu(t),r="fixed"===a,o=km(e,!0,r,t);let l={scrollLeft:0,scrollTop:0};const i=xu(0);function c(){i.x=_m(s)}if(n||!n&&!r)if(("body"!==$u(t)||tm(s))&&(l=hm(t)),n){const e=km(t,!0,r,t);i.x=e.x+t.clientLeft,i.y=e.y+t.clientTop}else s&&c();r&&!n&&s&&c();const d=!s||n||r?xu(0):Sm(s,l);return{x:o.left+l.scrollLeft-i.x-d.x,y:o.top+l.scrollTop-i.y-d.y,width:o.width,height:o.height}}function Rm(e){return"static"===pm(e).position}function Pm(e,t){if(!Ju(e)||"fixed"===pm(e).position)return null;if(t)return t(e);let a=e.offsetParent;return Qu(e)===a&&(a=a.ownerDocument.body),a}function zm(e,t){const a=Ku(e);if(rm(e))return a;if(!Ju(e)){let t=fm(e);for(;t&&!mm(t);){if(Xu(t)&&!Rm(t))return t;t=fm(t)}return a}let n=Pm(e,t);for(;n&&nm(n)&&Rm(n);)n=Pm(n,t);return n&&mm(n)&&Rm(n)&&!cm(n)?a:n||function(e){let t=fm(e);for(;Ju(t)&&!mm(t);){if(cm(t))return t;if(rm(t))return null;t=fm(t)}return null}(e)||a}const Im={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:a,offsetParent:n,strategy:s}=e;const r="fixed"===s,o=Qu(n),l=!!t&&rm(t.floating);if(n===o||l&&r)return a;let i={scrollLeft:0,scrollTop:0},c=xu(1);const d=xu(0),u=Ju(n);if((u||!u&&!r)&&(("body"!==$u(n)||tm(o))&&(i=hm(n)),Ju(n))){const e=km(n);c=jm(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const m=!o||u||r?xu(0):Sm(o,i);return{width:a.width*c.x,height:a.height*c.y,x:a.x*c.x-i.scrollLeft*c.x+d.x+m.x,y:a.y*c.y-i.scrollTop*c.y+d.y+m.y}},getDocumentElement:Qu,getClippingRect:function(e){let{element:t,boundary:a,rootBoundary:n,strategy:s}=e;const r="clippingAncestors"===a?rm(t)?[]:function(e,t){const a=t.get(e);if(a)return a;let n=gm(e,[],!1).filter(e=>Xu(e)&&"body"!==$u(e)),s=null;const r="fixed"===pm(e).position;let o=r?fm(e):e;for(;Xu(o)&&!mm(o);){const t=pm(o),a=cm(o);a||"fixed"!==t.position||(s=null),(r?!a&&!s:!a&&"static"===t.position&&s&&Cm.has(s.position)||tm(o)&&!a&&Am(e,o))?n=n.filter(e=>e!==o):s=t,o=fm(o)}return t.set(e,n),n}(t,this._c):[].concat(a),o=[...r,n],l=o[0],i=o.reduce((e,a)=>{const n=Em(t,a,s);return e.top=pu(n.top,e.top),e.right=mu(n.right,e.right),e.bottom=mu(n.bottom,e.bottom),e.left=pu(n.left,e.left),e},Em(t,l,s));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:zm,getElementRects:async function(e){const t=this.getOffsetParent||zm,a=this.getDimensions,n=await a(e.floating);return{reference:Tm(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:a}=bm(e);return{width:t,height:a}},getScale:jm,isElement:Xu,isRTL:function(e){return"rtl"===pm(e).direction}};function Om(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Dm(e,t,a,n){void 0===n&&(n={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:i=!1}=n,c=ym(e),d=s||r?[...c?gm(c):[],...gm(t)]:[];d.forEach(e=>{s&&e.addEventListener("scroll",a,{passive:!0}),r&&e.addEventListener("resize",a)});const u=c&&l?function(e,t){let a,n=null;const s=Qu(e);function r(){var e;clearTimeout(a),null==(e=n)||e.disconnect(),n=null}return function o(l,i){void 0===l&&(l=!1),void 0===i&&(i=1),r();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:h}=c;if(l||t(),!p||!h)return;const f={rootMargin:-fu(u)+"px "+-fu(s.clientWidth-(d+p))+"px "+-fu(s.clientHeight-(u+h))+"px "+-fu(d)+"px",threshold:pu(0,mu(1,i))||1};let x=!0;function g(t){const n=t[0].intersectionRatio;if(n!==i){if(!x)return o();n?o(!1,n):a=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==n||Om(c,e.getBoundingClientRect())||o(),x=!1}try{n=new IntersectionObserver(g,m(m({},f),{},{root:s.ownerDocument}))}catch(v){n=new IntersectionObserver(g,f)}n.observe(e)}(!0),r}(c,a):null;let p,h=-1,f=null;o&&(f=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),a()}),c&&!i&&f.observe(c),f.observe(t));let x=i?km(e):null;return i&&function t(){const n=km(e);x&&!Om(x,n)&&a();x=n,p=requestAnimationFrame(t)}(),a(),()=>{var e;d.forEach(e=>{s&&e.removeEventListener("scroll",a),r&&e.removeEventListener("resize",a)}),null==u||u(),null==(e=f)||e.disconnect(),f=null,i&&cancelAnimationFrame(p)}}const Mm=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var a,n;const{x:s,y:r,placement:o,middlewareData:l}=t,i=await async function(e,t){const{placement:a,platform:n,elements:s}=e,r=await(null==n.isRTL?void 0:n.isRTL(s.floating)),o=ju(a),l=wu(a),i="y"===Su(a),c=Hu.has(o)?-1:1,d=r&&i?-1:1,u=yu(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:h}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"===typeof h&&(p="end"===l?-1*h:h),i?{x:p*d,y:m*c}:{x:m*c,y:p*d}}(t,e);return o===(null==(a=l.offset)?void 0:a.placement)&&null!=(n=l.arrow)&&n.alignmentOffset?{}:{x:s+i.x,y:r+i.y,data:m(m({},i),{},{placement:o})}}}},Lm=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:n,placement:s}=t,r=yu(e,t),{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:e=>{let{x:t,y:a}=e;return{x:t,y:a}}}}=r,d=l(r,Fu),u={x:a,y:n},p=await Uu(t,d),h=Su(ju(s)),f=Nu(h);let x=u[f],g=u[h];if(o){const e="y"===f?"bottom":"right";x=bu(x+p["y"===f?"top":"left"],x,x-p[e])}if(i){const e="y"===h?"bottom":"right";g=bu(g+p["y"===h?"top":"left"],g,g-p[e])}const v=c.fn(m(m({},t),{},{[f]:x,[h]:g}));return m(m({},v),{},{data:{x:v.x-a,y:v.y-n,enabled:{[f]:o,[h]:i}}})}}},Fm=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var a,n;const{placement:s,middlewareData:r,rects:o,initialPlacement:i,platform:c,elements:d}=t,u=yu(e,t),{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0}=u,v=l(u,Mu);if(null!=(a=r.arrow)&&a.alignmentOffset)return{};const b=ju(s),y=Su(i),j=ju(i)===i,w=await(null==c.isRTL?void 0:c.isRTL(d.floating)),N=h||(j||!g?[Iu(i)]:function(e){const t=Iu(e);return[Eu(e),t,Eu(t)]}(i)),k="none"!==x;!h&&k&&N.push(...zu(i,g,x,w));const _=[i,...N],S=await Uu(t,v),C=[];let E=(null==(n=r.flip)?void 0:n.overflows)||[];if(m&&C.push(S[b]),p){const e=function(e,t,a){void 0===a&&(a=!1);const n=wu(e),s=Cu(e),r=ku(s);let o="x"===s?n===(a?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=Iu(o)),[o,Iu(o)]}(s,o,w);C.push(S[e[0]],S[e[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(e=>e<=0)){var A,T;const e=((null==(A=r.flip)?void 0:A.index)||0)+1,t=_[e];if(t){if(!("alignment"===p&&y!==Su(t))||E.every(e=>Su(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:E},reset:{placement:t}}}let a=null==(T=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!a)switch(f){case"bestFit":{var R;const e=null==(R=E.filter(e=>{if(k){const t=Su(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:R[0];e&&(a=e);break}case"initialPlacement":a=i}if(s!==a)return{reset:{placement:a}}}return{}}}},Bm=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var a,n;const{placement:s,rects:r,platform:o,elements:i}=t,c=yu(e,t),{apply:d=()=>{}}=c,u=l(c,Bu),p=await Uu(t,u),h=ju(s),f=wu(s),x="y"===Su(s),{width:g,height:v}=r.floating;let b,y;"top"===h||"bottom"===h?(b=h,y=f===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(y=h,b="end"===f?"top":"bottom");const j=v-p.top-p.bottom,w=g-p.left-p.right,N=mu(v-p[b],j),k=mu(g-p[y],w),_=!t.middlewareData.shift;let S=N,C=k;if(null!=(a=t.middlewareData.shift)&&a.enabled.x&&(C=w),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(S=j),_&&!f){const e=pu(p.left,0),t=pu(p.right,0),a=pu(p.top,0),n=pu(p.bottom,0);x?C=g-2*(0!==e||0!==t?e+t:pu(p.left,p.right)):S=v-2*(0!==a||0!==n?a+n:pu(p.top,p.bottom))}await d(m(m({},t),{},{availableWidth:C,availableHeight:S}));const E=await o.getDimensions(i.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}},qm=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a}=t,n=yu(e,t),{strategy:s="referenceHidden"}=n,r=l(n,Lu);switch(s){case"referenceHidden":{const e=Vu(await Uu(t,m(m({},r),{},{elementContext:"reference"})),a.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Wu(e)}}}case"escaped":{const e=Vu(await Uu(t,m(m({},r),{},{altBoundary:!0})),a.floating);return{data:{escapedOffsets:e,escaped:Wu(e)}}}default:return{}}}}},Um=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:n,placement:s,rects:r,platform:o,elements:l,middlewareData:i}=t,{element:c,padding:d=0}=yu(e,t)||{};if(null==c)return{};const u=Ou(d),p={x:a,y:n},h=Cu(s),f=ku(h),x=await o.getDimensions(c),g="y"===h,v=g?"top":"left",b=g?"bottom":"right",y=g?"clientHeight":"clientWidth",j=r.reference[f]+r.reference[h]-p[h]-r.floating[f],w=p[h]-r.reference[h],N=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let k=N?N[y]:0;k&&await(null==o.isElement?void 0:o.isElement(N))||(k=l.floating[y]||r.floating[f]);const _=j/2-w/2,S=k/2-x[f]/2-1,C=mu(u[v],S),E=mu(u[b],S),A=C,T=k-x[f]-E,R=k/2-x[f]/2+_,P=bu(A,R,T),z=!i.arrow&&null!=wu(s)&&R!==P&&r.reference[f]/2-(R<A?C:E)-x[f]/2<0,I=z?R<A?R-A:R-T:0;return{[h]:p[h]+I,data:m({[h]:P,centerOffset:R-P-I},z&&{alignmentOffset:I}),reset:z}}}),Vm=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:a,y:n,placement:s,rects:r,middlewareData:o}=t,{offset:l=0,mainAxis:i=!0,crossAxis:c=!0}=yu(e,t),d={x:a,y:n},u=Su(s),p=Nu(u);let h=d[p],f=d[u];const x=yu(l,t),g="number"===typeof x?{mainAxis:x,crossAxis:0}:m({mainAxis:0,crossAxis:0},x);if(i){const e="y"===p?"height":"width",t=r.reference[p]-r.floating[e]+g.mainAxis,a=r.reference[p]+r.reference[e]-g.mainAxis;h<t?h=t:h>a&&(h=a)}if(c){var v,b;const e="y"===p?"width":"height",t=Hu.has(ju(s)),a=r.reference[u]-r.floating[e]+(t&&(null==(v=o.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),n=r.reference[u]+r.reference[e]+(t?0:(null==(b=o.offset)?void 0:b[u])||0)-(t?g.crossAxis:0);f<a?f=a:f>n&&(f=n)}return{[p]:h,[u]:f}}}},Wm=(e,t,a)=>{const n=new Map,s=m({platform:Im},a),r=m(m({},s.platform),{},{_c:n});return(async(e,t,a)=>{const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:o}=a,l=r.filter(Boolean),i=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=qu(c,n,i),p=n,h={},f=0;for(let x=0;x<l.length;x++){const{name:a,fn:r}=l[x],{x:g,y:v,data:b,reset:y}=await r({x:d,y:u,initialPlacement:n,placement:p,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=v?v:u,h=m(m({},h),{},{[a]:m(m({},h[a]),b)}),y&&f<=50&&(f++,"object"===typeof y&&(y.placement&&(p=y.placement),y.rects&&(c=!0===y.rects?await o.getElementRects({reference:e,floating:t,strategy:s}):y.rects),({x:d,y:u}=qu(c,p,i))),x=-1)}return{x:d,y:u,placement:p,strategy:s,middlewareData:h}})(e,t,m(m({},s),{},{platform:r}))};var Hm="undefined"!==typeof document?s.useLayoutEffect:function(){};function Gm(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let a,n,s;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(a=e.length,a!==t.length)return!1;for(n=a;0!==n--;)if(!Gm(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),a=s.length,a!==Object.keys(t).length)return!1;for(n=a;0!==n--;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=a;0!==n--;){const a=s[n];if(("_owner"!==a||!e.$$typeof)&&!Gm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function $m(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Km(e,t){const a=$m(e);return Math.round(t*a)/a}function Qm(e){const t=s.useRef(e);return Hm(()=>{t.current=e}),t}const Ym=(e,t)=>m(m({},Mm(e)),{},{options:[e,t]}),Xm=(e,t)=>m(m({},Lm(e)),{},{options:[e,t]}),Jm=(e,t)=>m(m({},Vm(e)),{},{options:[e,t]}),Zm=(e,t)=>m(m({},Fm(e)),{},{options:[e,t]}),ep=(e,t)=>m(m({},Bm(e)),{},{options:[e,t]}),tp=(e,t)=>m(m({},qm(e)),{},{options:[e,t]}),ap=(e,t)=>m(m({},(e=>({name:"arrow",options:e,fn(t){const{element:a,padding:n}="function"===typeof e?e(t):e;return a&&(s=a,{}.hasOwnProperty.call(s,"current"))?null!=a.current?Um({element:a.current,padding:n}).fn(t):{}:a?Um({element:a,padding:n}).fn(t):{};var s}}))(e)),{},{options:[e,t]}),np=["children","width","height"];var sp=s.forwardRef((e,t)=>{const{children:a,width:n=10,height:s=5}=e,r=l(e,np);return(0,Qt.jsx)(El.svg,m(m({},r),{},{ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:(0,Qt.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});sp.displayName="Arrow";var rp=sp;const op=["__scopePopper","virtualRef"],lp=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],ip=["__scopePopper"];var cp="Popper",[dp,up]=ul(cp),[mp,pp]=dp(cp),hp=e=>{const{__scopePopper:t,children:a}=e,[n,r]=s.useState(null);return(0,Qt.jsx)(mp,{scope:t,anchor:n,onAnchorChange:r,children:a})};hp.displayName=cp;var fp="PopperAnchor",xp=s.forwardRef((e,t)=>{const{__scopePopper:a,virtualRef:n}=e,r=l(e,op),o=pp(fp,a),i=s.useRef(null),c=ia(t,i),d=s.useRef(null);return s.useEffect(()=>{const e=d.current;d.current=(null===n||void 0===n?void 0:n.current)||i.current,e!==d.current&&o.onAnchorChange(d.current)}),n?null:(0,Qt.jsx)(El.div,m(m({},r),{},{ref:c}))});xp.displayName=fp;var gp="PopperContent",[vp,bp]=dp(gp),yp=s.forwardRef((e,t)=>{var a,n,r,o,i,c,d,u;const{__scopePopper:p,side:h="bottom",sideOffset:f=0,align:x="center",alignOffset:g=0,arrowPadding:v=0,avoidCollisions:b=!0,collisionBoundary:y=[],collisionPadding:j=0,sticky:w="partial",hideWhenDetached:N=!1,updatePositionStrategy:k="optimized",onPlaced:_}=e,S=l(e,lp),C=pp(gp,p),[E,A]=s.useState(null),T=ia(t,e=>A(e)),[R,P]=s.useState(null),z=function(e){const[t,a]=s.useState(void 0);return Nl(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let s,r;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,r=t.blockSize}else s=e.offsetWidth,r=e.offsetHeight;a({width:s,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),t}(R),I=null!==(a=null===z||void 0===z?void 0:z.width)&&void 0!==a?a:0,O=null!==(n=null===z||void 0===z?void 0:z.height)&&void 0!==n?n:0,D=h+("center"!==x?"-"+x:""),M="number"===typeof j?j:m({top:0,right:0,bottom:0,left:0},j),L=Array.isArray(y)?y:[y],F=L.length>0,B={padding:M,boundary:L.filter(kp),altBoundary:F},{refs:q,floatingStyles:U,placement:V,isPositioned:W,middlewareData:H}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:a="absolute",middleware:n=[],platform:r,elements:{reference:o,floating:l}={},transform:i=!0,whileElementsMounted:c,open:d}=e,[u,p]=s.useState({x:0,y:0,strategy:a,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=s.useState(n);Gm(h,n)||f(n);const[x,g]=s.useState(null),[v,b]=s.useState(null),y=s.useCallback(e=>{e!==k.current&&(k.current=e,g(e))},[]),j=s.useCallback(e=>{e!==_.current&&(_.current=e,b(e))},[]),w=o||x,N=l||v,k=s.useRef(null),_=s.useRef(null),S=s.useRef(u),C=null!=c,E=Qm(c),A=Qm(r),T=Qm(d),R=s.useCallback(()=>{if(!k.current||!_.current)return;const e={placement:t,strategy:a,middleware:h};A.current&&(e.platform=A.current),Wm(k.current,_.current,e).then(e=>{const t=m(m({},e),{},{isPositioned:!1!==T.current});P.current&&!Gm(S.current,t)&&(S.current=t,Ct.flushSync(()=>{p(t)}))})},[h,t,a,A,T]);Hm(()=>{!1===d&&S.current.isPositioned&&(S.current.isPositioned=!1,p(e=>m(m({},e),{},{isPositioned:!1})))},[d]);const P=s.useRef(!1);Hm(()=>(P.current=!0,()=>{P.current=!1}),[]),Hm(()=>{if(w&&(k.current=w),N&&(_.current=N),w&&N){if(E.current)return E.current(w,N,R);R()}},[w,N,R,E,C]);const z=s.useMemo(()=>({reference:k,floating:_,setReference:y,setFloating:j}),[y,j]),I=s.useMemo(()=>({reference:w,floating:N}),[w,N]),O=s.useMemo(()=>{const e={position:a,left:0,top:0};if(!I.floating)return e;const t=Km(I.floating,u.x),n=Km(I.floating,u.y);return i?m(m({},e),{},{transform:"translate("+t+"px, "+n+"px)"},$m(I.floating)>=1.5&&{willChange:"transform"}):{position:a,left:t,top:n}},[a,i,I.floating,u.x,u.y]);return s.useMemo(()=>m(m({},u),{},{update:R,refs:z,elements:I,floatingStyles:O}),[u,R,z,I,O])}({strategy:"fixed",placement:D,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Dm(...t,{animationFrame:"always"===k})},elements:{reference:C.anchor},middleware:[Ym({mainAxis:f+O,alignmentAxis:g}),b&&Xm(m({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?Jm():void 0},B)),b&&Zm(m({},B)),ep(m(m({},B),{},{apply:e=>{let{elements:t,rects:a,availableWidth:n,availableHeight:s}=e;const{width:r,height:o}=a.reference,l=t.floating.style;l.setProperty("--radix-popper-available-width","".concat(n,"px")),l.setProperty("--radix-popper-available-height","".concat(s,"px")),l.setProperty("--radix-popper-anchor-width","".concat(r,"px")),l.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}})),R&&ap({element:R,padding:v}),_p({arrowWidth:I,arrowHeight:O}),N&&tp(m({strategy:"referenceHidden"},B))]}),[G,$]=Sp(V),K=Al(_);Nl(()=>{W&&(null===K||void 0===K||K())},[W,K]);const Q=null===(r=H.arrow)||void 0===r?void 0:r.x,Y=null===(o=H.arrow)||void 0===o?void 0:o.y,X=0!==(null===(i=H.arrow)||void 0===i?void 0:i.centerOffset),[J,Z]=s.useState();return Nl(()=>{E&&Z(window.getComputedStyle(E).zIndex)},[E]),(0,Qt.jsx)("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:m(m({},U),{},{transform:W?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[null===(c=H.transformOrigin)||void 0===c?void 0:c.x,null===(d=H.transformOrigin)||void 0===d?void 0:d.y].join(" ")},(null===(u=H.hide)||void 0===u?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,Qt.jsx)(vp,{scope:p,placedSide:G,onArrowChange:P,arrowX:Q,arrowY:Y,shouldHideArrow:X,children:(0,Qt.jsx)(El.div,m(m({"data-side":G,"data-align":$},S),{},{ref:T,style:m(m({},S.style),{},{animation:W?void 0:"none"})}))})})});yp.displayName=gp;var jp="PopperArrow",wp={top:"bottom",right:"left",bottom:"top",left:"right"},Np=s.forwardRef(function(e,t){const{__scopePopper:a}=e,n=l(e,ip),s=bp(jp,a),r=wp[s.placedSide];return(0,Qt.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,Qt.jsx)(rp,m(m({},n),{},{ref:t,style:m(m({},n.style),{},{display:"block"})}))})});function kp(e){return null!==e}Np.displayName=jp;var _p=e=>({name:"transformOrigin",options:e,fn(t){var a,n,s,r,o;const{placement:l,rects:i,middlewareData:c}=t,d=0!==(null===(a=c.arrow)||void 0===a?void 0:a.centerOffset),u=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[p,h]=Sp(l),f={start:"0%",center:"50%",end:"100%"}[h],x=(null!==(n=null===(s=c.arrow)||void 0===s?void 0:s.x)&&void 0!==n?n:0)+u/2,g=(null!==(r=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==r?r:0)+m/2;let v="",b="";return"bottom"===p?(v=d?f:"".concat(x,"px"),b="".concat(-m,"px")):"top"===p?(v=d?f:"".concat(x,"px"),b="".concat(i.floating.height+m,"px")):"right"===p?(v="".concat(-m,"px"),b=d?f:"".concat(g,"px")):"left"===p&&(v="".concat(i.floating.width+m,"px"),b=d?f:"".concat(g,"px")),{data:{x:v,y:b}}}});function Sp(e){const[t,a="center"]=e.split("-");return[t,a]}var Cp=hp,Ep=xp,Ap=yp,Tp=Np;var Rp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Pp=s.forwardRef((e,t)=>(0,Qt.jsx)(El.span,m(m({},e),{},{ref:t,style:m(m({},Rp),e.style)})));Pp.displayName="VisuallyHidden";const zp=["__scopeSelect","disabled"],Ip=["__scopeSelect","className","style","children","placeholder"],Op=["__scopeSelect","children"],Dp=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],Mp=["__scopeSelect","onPlaced"],Lp=["__scopeSelect","align","collisionPadding"],Fp=["__scopeSelect","nonce"],Bp=["__scopeSelect"],qp=["__scopeSelect"],Up=["__scopeSelect","value","disabled","textValue"],Vp=["__scopeSelect","className","style"],Wp=["__scopeSelect"],Hp=["__scopeSelect","onAutoScroll"],Gp=["__scopeSelect"],$p=["__scopeSelect"],Kp=["__scopeSelect","value"];var Qp=[" ","Enter","ArrowUp","ArrowDown"],Yp=[" ","Enter"],Xp="Select",[Jp,Zp,eh]=bl(Xp),[th,ah]=ul(Xp,[eh,up]),nh=up(),[sh,rh]=th(Xp),[oh,lh]=th(Xp),ih=e=>{const{__scopeSelect:t,children:a,open:n,defaultOpen:r,onOpenChange:o,value:l,defaultValue:i,onValueChange:c,dir:d,name:u,autoComplete:p,disabled:h,required:f,form:x}=e,g=nh(t),[v,b]=s.useState(null),[y,j]=s.useState(null),[w,N]=s.useState(!1),k=zl(d),[_,S]=Rl({prop:n,defaultProp:null!==r&&void 0!==r&&r,onChange:o,caller:Xp}),[C,E]=Rl({prop:l,defaultProp:i,onChange:c,caller:Xp}),A=s.useRef(null),T=!v||(x||!!v.closest("form")),[R,P]=s.useState(new Set),z=Array.from(R).map(e=>e.props.value).join(";");return(0,Qt.jsx)(Cp,m(m({},g),{},{children:(0,Qt.jsxs)(sh,{required:f,scope:t,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Sl(),value:C,onValueChange:E,open:_,onOpenChange:S,dir:k,triggerPointerDownPosRef:A,disabled:h,children:[(0,Qt.jsx)(Jp.Provider,{scope:t,children:(0,Qt.jsx)(oh,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{P(t=>{const a=new Set(t);return a.delete(e),a})},[]),children:a})}),T?(0,Qt.jsxs)(Yh,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:p,value:C,onChange:e=>E(e.target.value),disabled:h,form:x,children:[void 0===C?(0,Qt.jsx)("option",{value:""}):null,Array.from(R)]},z):null]})}))};ih.displayName=Xp;var ch="SelectTrigger",dh=s.forwardRef((e,t)=>{const{__scopeSelect:a,disabled:n=!1}=e,r=l(e,zp),o=nh(a),i=rh(ch,a),c=i.disabled||n,d=ia(t,i.onTriggerChange),u=Zp(a),p=s.useRef("touch"),[h,f,x]=Jh(e=>{const t=u().filter(e=>!e.disabled),a=t.find(e=>e.value===i.value),n=Zh(t,e,a);void 0!==n&&i.onValueChange(n.value)}),g=e=>{c||(i.onOpenChange(!0),x()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,Qt.jsx)(Ep,m(m({asChild:!0},o),{},{children:(0,Qt.jsx)(El.button,m(m({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Xh(i.value)?"":void 0},r),{},{ref:d,onClick:il(r.onClick,e=>{e.currentTarget.focus(),"mouse"!==p.current&&g(e)}),onPointerDown:il(r.onPointerDown,e=>{p.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:il(r.onKeyDown,e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||Qp.includes(e.key)&&(g(),e.preventDefault())})}))}))});dh.displayName=ch;var uh="SelectValue",mh=s.forwardRef((e,t)=>{const{__scopeSelect:a,className:n,style:s,children:r,placeholder:o=""}=e,i=l(e,Ip),c=rh(uh,a),{onValueNodeHasChildrenChange:d}=c,u=void 0!==r,p=ia(t,c.onValueNodeChange);return Nl(()=>{d(u)},[d,u]),(0,Qt.jsx)(El.span,m(m({},i),{},{ref:p,style:{pointerEvents:"none"},children:Xh(c.value)?(0,Qt.jsx)(Qt.Fragment,{children:o}):r}))});mh.displayName=uh;var ph=s.forwardRef((e,t)=>{const{__scopeSelect:a,children:n}=e,s=l(e,Op);return(0,Qt.jsx)(El.span,m(m({"aria-hidden":!0},s),{},{ref:t,children:n||"\u25bc"}))});ph.displayName="SelectIcon";var hh=e=>(0,Qt.jsx)(Zi,m({asChild:!0},e));hh.displayName="SelectPortal";var fh="SelectContent",xh=s.forwardRef((e,t)=>{const a=rh(fh,e.__scopeSelect),[n,r]=s.useState();if(Nl(()=>{r(new DocumentFragment)},[]),!a.open){const t=n;return t?Ct.createPortal((0,Qt.jsx)(vh,{scope:e.__scopeSelect,children:(0,Qt.jsx)(Jp.Slot,{scope:e.__scopeSelect,children:(0,Qt.jsx)("div",{children:e.children})})}),t):null}return(0,Qt.jsx)(jh,m(m({},e),{},{ref:t}))});xh.displayName=fh;var gh=10,[vh,bh]=th(fh),yh=ua("SelectContent.RemoveScroll"),jh=s.forwardRef((e,t)=>{const{__scopeSelect:a,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:b}=e,y=l(e,Dp),j=rh(fh,a),[w,N]=s.useState(null),[k,_]=s.useState(null),S=ia(t,e=>N(e)),[C,E]=s.useState(null),[A,T]=s.useState(null),R=Zp(a),[P,z]=s.useState(!1),I=s.useRef(!1);s.useEffect(()=>{if(w)return td(w)},[w]),tc();const O=s.useCallback(e=>{const[t,...a]=R().map(e=>e.ref.current),[n]=a.slice(-1),s=document.activeElement;for(const r of e){if(r===s)return;if(null===r||void 0===r||r.scrollIntoView({block:"nearest"}),r===t&&k&&(k.scrollTop=0),r===n&&k&&(k.scrollTop=k.scrollHeight),null===r||void 0===r||r.focus(),document.activeElement!==s)return}},[R,k]),D=s.useCallback(()=>O([C,w]),[O,C,w]);s.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:M,triggerPointerDownPosRef:L}=j;s.useEffect(()=>{if(w){let e={x:0,y:0};const t=t=>{var a,n,s,r;e={x:Math.abs(Math.round(t.pageX)-(null!==(a=null===(n=L.current)||void 0===n?void 0:n.x)&&void 0!==a?a:0)),y:Math.abs(Math.round(t.pageY)-(null!==(s=null===(r=L.current)||void 0===r?void 0:r.y)&&void 0!==s?s:0))}},a=a=>{e.x<=10&&e.y<=10?a.preventDefault():w.contains(a.target)||M(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",a,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",a,{capture:!0})}}},[w,M,L]),s.useEffect(()=>{const e=()=>M(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[M]);const[F,B]=Jh(e=>{const t=R().filter(e=>!e.disabled),a=t.find(e=>e.ref.current===document.activeElement),n=Zh(t,e,a);n&&setTimeout(()=>n.ref.current.focus())}),q=s.useCallback((e,t,a)=>{const n=!I.current&&!a;(void 0!==j.value&&j.value===t||n)&&(E(e),n&&(I.current=!0))},[j.value]),U=s.useCallback(()=>null===w||void 0===w?void 0:w.focus(),[w]),V=s.useCallback((e,t,a)=>{const n=!I.current&&!a;(void 0!==j.value&&j.value===t||n)&&T(e)},[j.value]),W="popper"===n?Nh:wh,H=W===Nh?{side:c,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:b}:{};return(0,Qt.jsx)(vh,{scope:a,content:w,viewport:k,onViewportChange:_,itemRefCallback:q,selectedItem:C,onItemLeave:U,itemTextRefCallback:V,focusSelectedItem:D,selectedItemText:A,position:n,isPositioned:P,searchRef:F,children:(0,Qt.jsx)($c,{as:yh,allowPinchZoom:!0,children:(0,Qt.jsx)(Hi,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:il(r,e=>{var t;null===(t=j.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,Qt.jsx)(Mi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:(0,Qt.jsx)(W,m(m(m({role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault()},y),H),{},{onPlaced:()=>z(!0),ref:S,style:m({display:"flex",flexDirection:"column",outline:"none"},y.style),onKeyDown:il(y.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||B(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=R().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const a=e.target,n=t.indexOf(a);t=t.slice(n+1)}setTimeout(()=>O(t)),e.preventDefault()}})}))})})})})});jh.displayName="SelectContentImpl";var wh=s.forwardRef((e,t)=>{const{__scopeSelect:a,onPlaced:n}=e,r=l(e,Mp),o=rh(fh,a),i=bh(fh,a),[c,d]=s.useState(null),[u,p]=s.useState(null),h=ia(t,e=>p(e)),f=Zp(a),x=s.useRef(!1),g=s.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:y,focusSelectedItem:j}=i,w=s.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&u&&v&&b&&y){const e=o.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),a=o.valueNode.getBoundingClientRect(),s=y.getBoundingClientRect();if("rtl"!==o.dir){const n=s.left-t.left,r=a.left-n,o=e.left-r,l=e.width+o,i=Math.max(l,t.width),d=window.innerWidth-gh,u=du(r,[gh,Math.max(gh,d-i)]);c.style.minWidth=l+"px",c.style.left=u+"px"}else{const n=t.right-s.right,r=window.innerWidth-a.right-n,o=window.innerWidth-e.right-r,l=e.width+o,i=Math.max(l,t.width),d=window.innerWidth-gh,u=du(r,[gh,Math.max(gh,d-i)]);c.style.minWidth=l+"px",c.style.right=u+"px"}const r=f(),l=window.innerHeight-2*gh,i=v.scrollHeight,d=window.getComputedStyle(u),m=parseInt(d.borderTopWidth,10),p=parseInt(d.paddingTop,10),h=parseInt(d.borderBottomWidth,10),g=m+p+i+parseInt(d.paddingBottom,10)+h,j=Math.min(5*b.offsetHeight,g),w=window.getComputedStyle(v),N=parseInt(w.paddingTop,10),k=parseInt(w.paddingBottom,10),_=e.top+e.height/2-gh,S=l-_,C=b.offsetHeight/2,E=m+p+(b.offsetTop+C),A=g-E;if(E<=_){const e=r.length>0&&b===r[r.length-1].ref.current;c.style.bottom="0px";const t=u.clientHeight-v.offsetTop-v.offsetHeight,a=E+Math.max(S,C+(e?k:0)+t+h);c.style.height=a+"px"}else{const e=r.length>0&&b===r[0].ref.current;c.style.top="0px";const t=Math.max(_,m+v.offsetTop+(e?N:0)+C)+A;c.style.height=t+"px",v.scrollTop=E-_+v.offsetTop}c.style.margin="".concat(gh,"px 0"),c.style.minHeight=j+"px",c.style.maxHeight=l+"px",null===n||void 0===n||n(),requestAnimationFrame(()=>x.current=!0)}},[f,o.trigger,o.valueNode,c,u,v,b,y,o.dir,n]);Nl(()=>w(),[w]);const[N,k]=s.useState();Nl(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const _=s.useCallback(e=>{e&&!0===g.current&&(w(),null===j||void 0===j||j(),g.current=!1)},[w,j]);return(0,Qt.jsx)(kh,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:_,children:(0,Qt.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,Qt.jsx)(El.div,m(m({},r),{},{ref:h,style:m({boxSizing:"border-box",maxHeight:"100%"},r.style)}))})})});wh.displayName="SelectItemAlignedPosition";var Nh=s.forwardRef((e,t)=>{const{__scopeSelect:a,align:n="start",collisionPadding:s=gh}=e,r=l(e,Lp),o=nh(a);return(0,Qt.jsx)(Ap,m(m(m({},o),r),{},{ref:t,align:n,collisionPadding:s,style:m(m({boxSizing:"border-box"},r.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});Nh.displayName="SelectPopperPosition";var[kh,_h]=th(fh,{}),Sh="SelectViewport",Ch=s.forwardRef((e,t)=>{const{__scopeSelect:a,nonce:n}=e,r=l(e,Fp),o=bh(Sh,a),i=_h(Sh,a),c=ia(t,o.onViewportChange),d=s.useRef(0);return(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,Qt.jsx)(Jp.Slot,{scope:a,children:(0,Qt.jsx)(El.div,m(m({"data-radix-select-viewport":"",role:"presentation"},r),{},{ref:c,style:m({position:"relative",flex:1,overflow:"hidden auto"},r.style),onScroll:il(r.onScroll,e=>{const t=e.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:n}=i;if(null!==n&&void 0!==n&&n.current&&a){const e=Math.abs(d.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*gh,s=parseFloat(a.style.minHeight),r=parseFloat(a.style.height),o=Math.max(s,r);if(o<n){const s=o+e,r=Math.min(n,s),l=s-r;a.style.height=r+"px","0px"===a.style.bottom&&(t.scrollTop=l>0?l:0,a.style.justifyContent="flex-end")}}}d.current=t.scrollTop})}))})]})});Ch.displayName=Sh;var Eh="SelectGroup",[Ah,Th]=th(Eh),Rh=s.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,Bp),s=Sl();return(0,Qt.jsx)(Ah,{scope:a,id:s,children:(0,Qt.jsx)(El.div,m(m({role:"group","aria-labelledby":s},n),{},{ref:t}))})});Rh.displayName=Eh;var Ph="SelectLabel",zh=s.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,qp),s=Th(Ph,a);return(0,Qt.jsx)(El.div,m(m({id:s.id},n),{},{ref:t}))});zh.displayName=Ph;var Ih="SelectItem",[Oh,Dh]=th(Ih),Mh=s.forwardRef((e,t)=>{const{__scopeSelect:a,value:n,disabled:r=!1,textValue:o}=e,i=l(e,Up),c=rh(Ih,a),d=bh(Ih,a),u=c.value===n,[p,h]=s.useState(null!==o&&void 0!==o?o:""),[f,x]=s.useState(!1),g=ia(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,n,r)}),v=Sl(),b=s.useRef("touch"),y=()=>{r||(c.onValueChange(n),c.onOpenChange(!1))};if(""===n)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Qt.jsx)(Oh,{scope:a,value:n,disabled:r,textId:v,isSelected:u,onItemTextChange:s.useCallback(e=>{h(t=>{var a;return t||(null!==(a=null===e||void 0===e?void 0:e.textContent)&&void 0!==a?a:"").trim()})},[]),children:(0,Qt.jsx)(Jp.ItemSlot,{scope:a,value:n,disabled:r,textValue:p,children:(0,Qt.jsx)(El.div,m(m({role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1},i),{},{ref:g,onFocus:il(i.onFocus,()=>x(!0)),onBlur:il(i.onBlur,()=>x(!1)),onClick:il(i.onClick,()=>{"mouse"!==b.current&&y()}),onPointerUp:il(i.onPointerUp,()=>{"mouse"===b.current&&y()}),onPointerDown:il(i.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:il(i.onPointerMove,e=>{var t;(b.current=e.pointerType,r)?null===(t=d.onItemLeave)||void 0===t||t.call(d):"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:il(i.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=d.onItemLeave)||void 0===t||t.call(d))}),onKeyDown:il(i.onKeyDown,e=>{var t;""!==(null===(t=d.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(Yp.includes(e.key)&&y()," "===e.key&&e.preventDefault())})}))})})});Mh.displayName=Ih;var Lh="SelectItemText",Fh=s.forwardRef((e,t)=>{const{__scopeSelect:a,className:n,style:r}=e,o=l(e,Vp),i=rh(Lh,a),c=bh(Lh,a),d=Dh(Lh,a),u=lh(Lh,a),[p,h]=s.useState(null),f=ia(t,e=>h(e),d.onItemTextChange,e=>{var t;return null===(t=c.itemTextRefCallback)||void 0===t?void 0:t.call(c,e,d.value,d.disabled)}),x=null===p||void 0===p?void 0:p.textContent,g=s.useMemo(()=>(0,Qt.jsx)("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return Nl(()=>(v(g),()=>b(g)),[v,b,g]),(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(El.span,m(m({id:d.textId},o),{},{ref:f})),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ct.createPortal(o.children,i.valueNode):null]})});Fh.displayName=Lh;var Bh="SelectItemIndicator",qh=s.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,Wp);return Dh(Bh,a).isSelected?(0,Qt.jsx)(El.span,m(m({"aria-hidden":!0},n),{},{ref:t})):null});qh.displayName=Bh;var Uh="SelectScrollUpButton",Vh=s.forwardRef((e,t)=>{const a=bh(Uh,e.__scopeSelect),n=_h(Uh,e.__scopeSelect),[r,o]=s.useState(!1),l=ia(t,n.onScrollButtonChange);return Nl(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),r?(0,Qt.jsx)(Gh,m(m({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Vh.displayName=Uh;var Wh="SelectScrollDownButton",Hh=s.forwardRef((e,t)=>{const a=bh(Wh,e.__scopeSelect),n=_h(Wh,e.__scopeSelect),[r,o]=s.useState(!1),l=ia(t,n.onScrollButtonChange);return Nl(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,a=Math.ceil(t.scrollTop)<e;o(a)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),r?(0,Qt.jsx)(Gh,m(m({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Hh.displayName=Wh;var Gh=s.forwardRef((e,t)=>{const{__scopeSelect:a,onAutoScroll:n}=e,r=l(e,Hp),o=bh("SelectScrollButton",a),i=s.useRef(null),c=Zp(a),d=s.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return s.useEffect(()=>()=>d(),[d]),Nl(()=>{var e;const t=c().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[c]),(0,Qt.jsx)(El.div,m(m({"aria-hidden":!0},r),{},{ref:t,style:m({flexShrink:0},r.style),onPointerDown:il(r.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(n,50))}),onPointerMove:il(r.onPointerMove,()=>{var e;null===(e=o.onItemLeave)||void 0===e||e.call(o),null===i.current&&(i.current=window.setInterval(n,50))}),onPointerLeave:il(r.onPointerLeave,()=>{d()})}))}),$h=s.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,Gp);return(0,Qt.jsx)(El.div,m(m({"aria-hidden":!0},n),{},{ref:t}))});$h.displayName="SelectSeparator";var Kh="SelectArrow",Qh=s.forwardRef((e,t)=>{const{__scopeSelect:a}=e,n=l(e,$p),s=nh(a),r=rh(Kh,a),o=bh(Kh,a);return r.open&&"popper"===o.position?(0,Qt.jsx)(Tp,m(m(m({},s),n),{},{ref:t})):null});Qh.displayName=Kh;var Yh=s.forwardRef((e,t)=>{let{__scopeSelect:a,value:n}=e,r=l(e,Kp);const o=s.useRef(null),i=ia(t,o),c=function(e){const t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n);return s.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==n&&a){const t=new Event("change",{bubbles:!0});a.call(e,n),e.dispatchEvent(t)}},[c,n]),(0,Qt.jsx)(El.select,m(m({},r),{},{style:m(m({},Rp),r.style),ref:i,defaultValue:n}))});function Xh(e){return""===e||void 0===e}function Jh(e){const t=Al(e),a=s.useRef(""),n=s.useRef(0),r=s.useCallback(e=>{const s=a.current+e;t(s),function e(t){a.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),o=s.useCallback(()=>{a.current="",window.clearTimeout(n.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),[a,r,o]}function Zh(e,t,a){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=a?e.indexOf(a):-1;let r=(o=e,l=Math.max(s,0),o.map((e,t)=>o[(l+t)%o.length]));var o,l;1===n.length&&(r=r.filter(e=>e!==a));const i=r.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==a?i:void 0}Yh.displayName="SelectBubbleInput";var ef=ih,tf=dh,af=mh,nf=ph,sf=hh,rf=xh,of=Ch,lf=zh,cf=Mh,df=Fh,uf=qh,mf=Vh,pf=Hh,hf=$h;const ff=na("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xf=na("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),gf=["className","children"],vf=["className"],bf=["className"],yf=["className","children","position"],jf=["className"],wf=["className","children"],Nf=["className"],kf=ef,_f=af,Sf=s.forwardRef((e,t)=>{let{className:a,children:n}=e,s=l(e,gf);return(0,Qt.jsxs)(tf,m(m({ref:t,className:Tn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},s),{},{children:[n,(0,Qt.jsx)(nf,{asChild:!0,children:(0,Qt.jsx)(sl,{className:"h-4 w-4 opacity-50"})})]}))});Sf.displayName=tf.displayName;const Cf=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,vf);return(0,Qt.jsx)(mf,m(m({ref:t,className:Tn("flex cursor-default items-center justify-center py-1",a)},n),{},{children:(0,Qt.jsx)(ff,{className:"h-4 w-4"})}))});Cf.displayName=mf.displayName;const Ef=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,bf);return(0,Qt.jsx)(pf,m(m({ref:t,className:Tn("flex cursor-default items-center justify-center py-1",a)},n),{},{children:(0,Qt.jsx)(sl,{className:"h-4 w-4"})}))});Ef.displayName=pf.displayName;const Af=s.forwardRef((e,t)=>{let{className:a,children:n,position:s="popper"}=e,r=l(e,yf);return(0,Qt.jsx)(sf,{children:(0,Qt.jsxs)(rf,m(m({ref:t,className:Tn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s},r),{},{children:[(0,Qt.jsx)(Cf,{}),(0,Qt.jsx)(of,{className:Tn("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,Qt.jsx)(Ef,{})]}))})});Af.displayName=rf.displayName;s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,jf);return(0,Qt.jsx)(lf,m({ref:t,className:Tn("px-2 py-1.5 text-sm font-semibold",a)},n))}).displayName=lf.displayName;const Tf=s.forwardRef((e,t)=>{let{className:a,children:n}=e,s=l(e,wf);return(0,Qt.jsxs)(cf,m(m({ref:t,className:Tn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},s),{},{children:[(0,Qt.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Qt.jsx)(uf,{children:(0,Qt.jsx)(xf,{className:"h-4 w-4"})})}),(0,Qt.jsx)(df,{children:n})]}))});Tf.displayName=cf.displayName;s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,Nf);return(0,Qt.jsx)(hf,m({ref:t,className:Tn("-mx-1 my-1 h-px bg-muted",a)},n))}).displayName=hf.displayName;const Rf=na("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Pf=na("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),zf=na("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),If=na("mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Of=na("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Df=na("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Mf="http://151.243.218.223";const Lf=function(e){let{agentId:t}=e;const[a,n]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(0);(0,s.useEffect)(()=>{t&&p()},[t]);const p=async()=>{try{o(!0);const e=await fetch("".concat(Mf,"/api/media/training-knowledge?agent_id=").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok)throw new Error("Erro ao carregar conhecimentos");const a=await e.json();n(a.data.items||[])}catch(e){console.error("Erro ao carregar conhecimentos:",e)}finally{o(!1)}};return(0,Qt.jsxs)("div",{style:{padding:"20px"},children:[(0,Qt.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,Qt.jsx)("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"\ud83c\udfa4 Treinamento da IA por \xc1udio"}),(0,Qt.jsx)("p",{style:{color:"#666",fontSize:"14px"},children:"Grave \xe1udios explicando processos, informa\xe7\xf5es do servidor ou qualquer conhecimento que a IA deve ter. O sistema transcreve automaticamente e salva na base de conhecimento."})]}),(0,Qt.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",padding:"24px",marginBottom:"30px",color:"white"},children:[(0,Qt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Qt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Adicionar Novo Conhecimento"}),(0,Qt.jsx)("p",{style:{fontSize:"14px",opacity:.9},children:"Envie um \xe1udio com informa\xe7\xf5es importantes que a IA deve aprender"})]}),c?(0,Qt.jsxs)("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:[(0,Qt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,Qt.jsx)(If,{size:24}),(0,Qt.jsxs)("div",{style:{flex:1},children:[(0,Qt.jsx)("p",{style:{fontWeight:"600",marginBottom:"4px"},children:c.name}),(0,Qt.jsxs)("p",{style:{fontSize:"12px",opacity:.8},children:[(c.size/1024/1024).toFixed(2)," MB"]})]}),(0,Qt.jsx)("button",{onClick:()=>d(null),style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:(0,Qt.jsx)(nl,{size:16})})]}),(0,Qt.jsx)("button",{onClick:async()=>{if(c)try{i(!0),m(0);const e=new FormData;e.append("file",c),e.append("language","pt"),e.append("save_as_training","true"),e.append("agent_id",t);const a=await fetch("".concat(Mf,"/api/media/transcribe-audio"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:e});if(!a.ok)throw new Error("Erro ao fazer upload");await a.json();alert("\xc1udio transcrito e salvo com sucesso! A IA agora tem esse conhecimento."),d(null),p()}catch(e){console.error("Erro ao fazer upload:",e),alert("Erro ao processar \xe1udio. Tente novamente.")}finally{i(!1),m(0)}},disabled:l,style:{background:"white",color:"#667eea",border:"none",borderRadius:"8px",padding:"12px 24px",fontWeight:"600",cursor:l?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",width:"100%",justifyContent:"center",opacity:l?.7:1},children:l?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Of,{size:20,style:{animation:"spin 1s linear infinite"}}),"Processando \xe1udio..."]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Df,{size:20}),"Transcrever e Salvar"]})})]}):(0,Qt.jsxs)("label",{style:{background:"rgba(255,255,255,0.2)",border:"2px dashed rgba(255,255,255,0.5)",borderRadius:"8px",padding:"32px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255,255,255,0.3)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.2)",children:[(0,Qt.jsx)(If,{size:48}),(0,Qt.jsxs)("div",{style:{textAlign:"center"},children:[(0,Qt.jsx)("p",{style:{fontWeight:"600",marginBottom:"4px"},children:"Clique para selecionar \xe1udio"}),(0,Qt.jsx)("p",{style:{fontSize:"12px",opacity:.8},children:"MP3, WAV, M4A, OGG, WEBM (m\xe1x. 25MB)"})]}),(0,Qt.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>{const t=e.target.files[0];if(!t)return;["audio/mpeg","audio/wav","audio/m4a","audio/ogg","audio/webm"].includes(t.type)||t.name.match(/\.(mp3|wav|m4a|ogg|webm)$/i)?t.size>26214400?alert("Arquivo muito grande. M\xe1ximo: 25MB"):d(t):alert("Formato n\xe3o suportado. Use: MP3, WAV, M4A, OGG, WEBM")},style:{display:"none"}})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:["Conhecimentos Salvos (",a.length,")"]}),r?(0,Qt.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Qt.jsx)(Of,{size:32,style:{animation:"spin 1s linear infinite"}})}):0===a.length?(0,Qt.jsxs)("div",{style:{textAlign:"center",padding:"40px",background:"#f5f5f5",borderRadius:"8px",color:"#666"},children:[(0,Qt.jsx)(If,{size:48,style:{margin:"0 auto 16px",opacity:.5}}),(0,Qt.jsx)("p",{children:"Nenhum conhecimento adicionado ainda"}),(0,Qt.jsx)("p",{style:{fontSize:"14px",marginTop:"8px"},children:"Fa\xe7a upload de \xe1udios para treinar a IA"})]}):(0,Qt.jsx)("div",{style:{display:"grid",gap:"12px"},children:a.map((e,t)=>(0,Qt.jsxs)("div",{style:{background:"white",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"16px",display:"flex",gap:"16px",alignItems:"start"},children:[(0,Qt.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"8px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0},children:(0,Qt.jsx)(If,{size:20})}),(0,Qt.jsxs)("div",{style:{flex:1},children:[(0,Qt.jsxs)("p",{style:{fontSize:"12px",color:"#999",marginBottom:"8px"},children:["Adicionado em: ",new Date(e.created_at).toLocaleDateString("pt-BR")]}),(0,Qt.jsx)("p",{style:{fontSize:"14px",lineHeight:"1.6",color:"#333"},children:e.content.length>200?e.content.substring(0,200)+"...":e.content})]}),(0,Qt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Deseja remover este conhecimento?"))try{if(!(await fetch("".concat(Mf,"/api/media/training-knowledge/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok)throw new Error("Erro ao deletar");alert("Conhecimento removido com sucesso!"),p()}catch(t){console.error("Erro ao deletar:",t),alert("Erro ao remover conhecimento.")}})(e._id),style:{background:"#fee",border:"1px solid #fcc",borderRadius:"6px",padding:"8px",cursor:"pointer",color:"#c00",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#fdd",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.background="#fee",e.currentTarget.style.transform="scale(1)"},title:"Remover conhecimento",children:(0,Qt.jsx)(nl,{size:18})})]},e._id))})]}),(0,Qt.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})},Ff=e=>{let{agent:t,open:a,onClose:n}=e;const[r,o]=(0,s.useState)(t),[l,i]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a&&t&&o(t)},[a,t]);const c=[r.who_is||"",r.what_does||"",r.objective||"",r.how_respond||"",r.instructions||"",r.avoid_topics||"",r.avoid_words||"",r.allowed_links||"",r.custom_rules||"",r.knowledge_base||""].reduce((e,t)=>e+t.length,0);return(0,Qt.jsx)(nu,{open:a,onOpenChange:n,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"text-xl",children:["\u2699\ufe0f Configurar: ",t.name]})}),c>0&&(0,Qt.jsx)("div",{className:"p-3 rounded-lg border ".concat(c>1e5?"bg-red-50 border-red-200":c>5e4?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"),children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm font-semibold ".concat(c>1e5?"text-red-800":c>5e4?"text-yellow-800":"text-blue-800"),children:c>1e5?"\u26a0\ufe0f Prompt MUITO GRANDE":c>5e4?"\ud83d\udca1 Prompt Grande":"\u2705 Tamanho do Prompt"}),(0,Qt.jsxs)("p",{className:"text-xs ".concat(c>1e5?"text-red-700":c>5e4?"text-yellow-700":"text-blue-700"),children:["Total: ",c.toLocaleString()," caracteres",c>1e5&&" - Recomendamos reduzir para evitar erros!"]})]}),(0,Qt.jsx)("div",{className:"text-2xl ".concat(c>1e5?"text-red-600":c>5e4?"text-yellow-600":"text-blue-600"),children:c>1e5?"\ud83d\udd34":c>5e4?"\ud83d\udfe1":"\ud83d\udfe2"})]})}),(0,Qt.jsxs)(Ci,{defaultValue:"prompt",className:"w-full",children:[(0,Qt.jsxs)(Ei,{className:"grid grid-cols-4 mb-4",children:[(0,Qt.jsx)(Ai,{value:"prompt",children:"Instru\xe7\xf5es"}),(0,Qt.jsx)(Ai,{value:"knowledge",children:"Base de Conhecimento"}),(0,Qt.jsx)(Ai,{value:"model",children:"Tecnologia"}),(0,Qt.jsx)(Ai,{value:"behavior",children:"Comportamento"})]}),(0,Qt.jsxs)(Ti,{value:"prompt",className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg mb-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-indigo-900 mb-2",children:"\ud83d\udcdd Configura\xe7\xf5es do Prompt"}),(0,Qt.jsx)("p",{className:"text-sm text-indigo-700",children:"Personalize o prompt do seu Agente"})]}),(0,Qt.jsxs)("div",{className:"bg-white border rounded-lg p-4 space-y-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Informa\xe7\xf5es Essenciais"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Quem \xe9 o seu Agente?"}),(0,Qt.jsx)(On,{placeholder:"Ex: Sou um assistente especializado em suporte t\xe9cnico",value:r.who_is||"",onChange:e=>o(m(m({},r),{},{who_is:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"O que seu Agente faz?"}),(0,Qt.jsx)(On,{placeholder:"Ex: Ajudo clientes com problemas t\xe9cnicos e d\xfavidas",value:r.what_does||"",onChange:e=>o(m(m({},r),{},{what_does:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Qual o objetivo do seu Agente?"}),(0,Qt.jsx)(On,{placeholder:"Ex: Resolver problemas rapidamente e com clareza",value:r.objective||"",onChange:e=>o(m(m({},r),{},{objective:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Como seu Agente deve responder?"}),(0,Qt.jsx)(ll,{placeholder:"Ex: De forma clara, objetiva e amig\xe1vel",value:r.how_respond||"",onChange:e=>o(m(m({},r),{},{how_respond:e.target.value})),rows:3})]})]}),(0,Qt.jsxs)("div",{className:"bg-white border rounded-lg p-4 space-y-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Regras Gerais"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block",children:"Instru\xe7\xf5es para o Agente"}),(0,Qt.jsxs)("span",{className:"text-xs ".concat((r.instructions||"").length>5e4?"text-red-600 font-bold":"text-slate-500"),children:[(r.instructions||"").length.toLocaleString()," caracteres"]})]}),(0,Qt.jsx)(ll,{placeholder:"Instru\xe7\xf5es espec\xedficas de como agir Voc\xea pode usar quebras de linha (Enter) normalmente. Exemplo:\n- Sempre seja educado\n- Responda com clareza\n- N\xe3o use termos t\xe9cnicos",value:r.instructions||"",onChange:e=>o(m(m({},r),{},{instructions:e.target.value})),rows:10,className:"font-mono text-sm resize-y min-h-[200px]",style:{whiteSpace:"pre-wrap"}}),(r.instructions||"").length>5e4&&(0,Qt.jsx)("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Qt.jsxs)("p",{className:"text-sm text-red-800",children:["\u26a0\ufe0f ",(0,Qt.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Prompt muito grande (",(r.instructions||"").length.toLocaleString()," caracteres). Recomendamos manter abaixo de 50.000 caracteres para evitar erros."]})}),(r.instructions||"").length>2e4&&(r.instructions||"").length<=5e4&&(0,Qt.jsx)("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Qt.jsxs)("p",{className:"text-sm text-yellow-800",children:["\ud83d\udca1 ",(0,Qt.jsx)("strong",{children:"Dica:"})," Seu prompt est\xe1 grande (",(r.instructions||"").length.toLocaleString()," caracteres). Considere otimizar removendo repeti\xe7\xf5es."]})})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Quais temas ele deve evitar?"}),(0,Qt.jsx)(On,{placeholder:"Ex: Pol\xedtica, religi\xe3o, assuntos pessoais",value:r.avoid_topics||"",onChange:e=>o(m(m({},r),{},{avoid_topics:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Quais palavras ele deve evitar?"}),(0,Qt.jsx)(On,{placeholder:"Ex: palavr\xf5es, termos ofensivos",value:r.avoid_words||"",onChange:e=>o(m(m({},r),{},{avoid_words:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Links permitidos:"}),(0,Qt.jsx)(ll,{placeholder:"Cole os links que o agente pode compartilhar (um por linha)",value:r.allowed_links||"",onChange:e=>o(m(m({},r),{},{allowed_links:e.target.value})),rows:3,className:"font-mono text-sm"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block",children:"Regras personalizadas:"}),(0,Qt.jsxs)("span",{className:"text-xs ".concat((r.custom_rules||"").length>3e4?"text-orange-600 font-bold":"text-slate-500"),children:[(r.custom_rules||"").length.toLocaleString()," caracteres"]})]}),(0,Qt.jsx)(ll,{placeholder:"Adicione regras customizadas espec\xedficas Use quebras de linha normalmente para organizar melhor.",value:r.custom_rules||"",onChange:e=>o(m(m({},r),{},{custom_rules:e.target.value})),rows:8,className:"font-mono text-sm resize-y min-h-[150px]",style:{whiteSpace:"pre-wrap"}})]})]})]}),(0,Qt.jsxs)(Ti,{value:"knowledge",className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg mb-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\ud83d\udcda Base de Conhecimento"}),(0,Qt.jsx)("p",{className:"text-sm text-blue-700",children:"Adicione informa\xe7\xf5es que o agente deve conhecer"})]}),(0,Qt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Cole aqui textos, documentos, FAQs ou qualquer informa\xe7\xe3o relevante"}),(0,Qt.jsxs)("span",{className:"text-xs font-semibold ".concat((r.knowledge_base||"").length>1e5?"text-red-600":(r.knowledge_base||"").length>5e4?"text-orange-600":"text-slate-500"),children:[(r.knowledge_base||"").length.toLocaleString()," caracteres"]})]}),(0,Qt.jsx)(ll,{placeholder:"Base de conhecimento do agente... Voc\xea pode colar textos grandes aqui.\nUse quebras de linha (Enter) normalmente para organizar o conte\xfado. Exemplo:\n## Produtos\n- Produto A: descri\xe7\xe3o\n- Produto B: descri\xe7\xe3o ## FAQ\nQ: Como fazer X?\nA: Para fazer X, siga estes passos...",value:r.knowledge_base||"",onChange:e=>o(m(m({},r),{},{knowledge_base:e.target.value})),rows:20,className:"font-mono text-sm resize-y min-h-[400px]",style:{whiteSpace:"pre-wrap"}}),(r.knowledge_base||"").length>1e5&&(0,Qt.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,Qt.jsx)("p",{className:"text-sm text-red-800 font-semibold",children:"\u26a0\ufe0f Aten\xe7\xe3o: Base de conhecimento muito grande!"}),(0,Qt.jsxs)("p",{className:"text-sm text-red-700 mt-2",children:["Seu conte\xfado tem ",(r.knowledge_base||"").length.toLocaleString()," caracteres. Para melhor performance, recomendamos manter abaixo de 100.000 caracteres."]})]}),(r.knowledge_base||"").length>5e4&&(r.knowledge_base||"").length<=1e5&&(0,Qt.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Qt.jsxs)("p",{className:"text-sm text-yellow-800",children:["\ud83d\udca1 ",(0,Qt.jsx)("strong",{children:"Dica:"})," Base de conhecimento grande (",(r.knowledge_base||"").length.toLocaleString()," caracteres). Considere otimizar removendo informa\xe7\xf5es duplicadas."]})}),(0,Qt.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Qt.jsx)("p",{className:"text-sm text-blue-800",children:(0,Qt.jsx)("strong",{children:"\ud83d\udca1 Dicas para organizar:"})}),(0,Qt.jsxs)("ul",{className:"text-sm text-blue-700 mt-2 space-y-1 ml-4 list-disc",children:[(0,Qt.jsx)("li",{children:"Use t\xedtulos com ## para separar se\xe7\xf5es"}),(0,Qt.jsx)("li",{children:"Use quebras de linha para melhorar legibilidade"}),(0,Qt.jsx)("li",{children:"Organize por t\xf3picos (FAQ, Produtos, Regras, etc)"}),(0,Qt.jsx)("li",{children:"Evite informa\xe7\xf5es redundantes"})]})]})]}),(0,Qt.jsxs)(Ti,{value:"model",className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg mb-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-purple-900 mb-2",children:"\ud83d\udd27 Configura\xe7\xf5es do Modelo"}),(0,Qt.jsx)("p",{className:"text-sm text-purple-700",children:"Configure o modelo de IA que seu Agente vai utilizar"})]}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Provedor LLM"}),(0,Qt.jsxs)("select",{value:r.llm_provider,onChange:e=>o(m(m({},r),{},{llm_provider:e.target.value})),className:"w-full border rounded-lg p-2",children:[(0,Qt.jsx)("option",{value:"openai",children:"OpenAI"}),(0,Qt.jsx)("option",{value:"claude",children:"Claude (Anthropic)"}),(0,Qt.jsx)("option",{value:"gemini",children:"Gemini (Google)"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Modelo"}),(0,Qt.jsxs)("select",{value:r.llm_model,onChange:e=>o(m(m({},r),{},{llm_model:e.target.value})),className:"w-full border rounded-lg p-2",children:[(0,Qt.jsx)("option",{value:"gpt-4o-mini",children:"GPT-4o Mini (Recomendado)"}),(0,Qt.jsx)("option",{value:"gpt-4o",children:"GPT-4o"}),(0,Qt.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),(0,Qt.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),(0,Qt.jsx)("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"}),(0,Qt.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"O modelo GPT-4o oferece respostas mais precisas e segue as instru\xe7\xf5es com mais efic\xe1cia."})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"\ud83d\udd11 API Key"}),(0,Qt.jsx)(On,{type:"password",placeholder:"sk-... ou sua Emergent LLM Key",value:r.api_key||"",onChange:e=>o(m(m({},r),{},{api_key:e.target.value}))}),(0,Qt.jsx)("div",{className:"mt-3 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:(0,Qt.jsx)("span",{className:"text-white font-bold text-lg",children:"E"})}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"\ud83c\udf81 N\xe3o tem uma Emergent LLM Key?"}),(0,Qt.jsx)("p",{className:"text-sm text-purple-700 mb-3",children:"A Emergent LLM Key \xe9 uma chave universal que funciona com OpenAI, Anthropic e Google."}),(0,Qt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Qt.jsxs)("a",{href:"https://app.emergent.sh/register?ref=noit391017",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-5 py-2.5 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg",children:[(0,Qt.jsx)("span",{children:"\ud83d\ude80"}),(0,Qt.jsx)("span",{children:"Gerar sua Chave API Key"})]}),(0,Qt.jsx)("span",{className:"text-sm text-purple-700 font-medium",children:"\ud83d\udca1 Ap\xf3s criar sua conta, voc\xea receber\xe1 cr\xe9ditos gr\xe1tis para testar!"})]}),(0,Qt.jsx)("button",{onClick:()=>i(!0),className:"mt-3 text-sm text-purple-600 hover:text-purple-800 font-medium underline",children:"\ud83d\udcd6 Ver tutorial passo a passo"})]})]})}),l&&(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>i(!1),children:(0,Qt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,Qt.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6",children:(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Qt.jsx)("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center",children:(0,Qt.jsx)("span",{className:"text-purple-600 font-bold text-2xl",children:"E"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:"Como Obter sua Emergent LLM Key"}),(0,Qt.jsx)("p",{className:"text-purple-100 text-sm",children:"Tutorial passo a passo"})]})]})}),(0,Qt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Qt.jsxs)("div",{className:"flex gap-4",children:[(0,Qt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:"1"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Criar Conta na Emergent"}),(0,Qt.jsx)("p",{className:"text-gray-600 mb-3",children:"Acesse o site da Emergent e crie sua conta gratuitamente. \xc9 r\xe1pido e sem necessidade de cart\xe3o de cr\xe9dito."}),(0,Qt.jsxs)("a",{href:"https://app.emergent.sh/register?ref=noit391017",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:[(0,Qt.jsx)("span",{children:"\ud83d\udd17"}),(0,Qt.jsx)("span",{children:"Ir para Registro"})]})]})]}),(0,Qt.jsx)("div",{className:"border-t border-gray-200"}),(0,Qt.jsxs)("div",{className:"flex gap-4",children:[(0,Qt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:"2"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Acessar Dashboard"}),(0,Qt.jsx)("p",{className:"text-gray-600 mb-3",children:"Ap\xf3s criar sua conta e fazer login, voc\xea ser\xe1 direcionado ao dashboard da Emergent."}),(0,Qt.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-sm mb-3",children:(0,Qt.jsx)("p",{className:"font-mono",children:"https://emergentagent.com/dashboard"})}),(0,Qt.jsxs)("a",{href:"https://app.emergent.sh/register?ref=noit391017",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:[(0,Qt.jsx)("span",{children:"\ud83c\udf10"}),(0,Qt.jsx)("span",{children:"ABRIR SITE"})]})]})]}),(0,Qt.jsx)("div",{className:"border-t border-gray-200"}),(0,Qt.jsxs)("div",{className:"flex gap-4",children:[(0,Qt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:"3"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Obter Universal Key"}),(0,Qt.jsxs)("p",{className:"text-gray-600 mb-3",children:["No menu lateral, clique em ",(0,Qt.jsx)("strong",{children:'"Profile"'})," e depois em ",(0,Qt.jsx)("strong",{children:'"Universal Key"'}),"."]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 p-4 rounded-lg",children:[(0,Qt.jsx)("p",{className:"font-semibold text-blue-900 mb-2",children:"\ud83d\udccd Caminho:"}),(0,Qt.jsx)("p",{className:"text-blue-700",children:"Profile \u2192 Universal Key \u2192 Copiar Key"})]})]})]}),(0,Qt.jsx)("div",{className:"border-t border-gray-200"}),(0,Qt.jsxs)("div",{className:"flex gap-4",children:[(0,Qt.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:"4"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Colar a Key Aqui"}),(0,Qt.jsxs)("p",{className:"text-gray-600 mb-3",children:["Copie a chave que come\xe7a com ",(0,Qt.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"sk-emergent-..."}),' e cole no campo "API Key" acima.']}),(0,Qt.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 p-4 rounded-lg",children:[(0,Qt.jsx)("p",{className:"font-semibold text-green-900 mb-2",children:"\u2705 Pronto!"}),(0,Qt.jsx)("p",{className:"text-green-700",children:"Seu agente agora pode usar OpenAI, Anthropic e Google com uma \xfanica chave!"})]})]})]}),(0,Qt.jsx)("div",{className:"border-t border-gray-200"}),(0,Qt.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-lg p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("span",{className:"text-3xl",children:"\ud83c\udf81"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-bold text-yellow-900 mb-1",children:"Cr\xe9ditos Gr\xe1tis!"}),(0,Qt.jsx)("p",{className:"text-yellow-800 text-sm",children:"Ao criar sua conta, voc\xea recebe cr\xe9ditos gr\xe1tis para testar todos os modelos de IA. Voc\xea tamb\xe9m pode configurar auto-recarga para nunca ficar sem cr\xe9ditos."})]})]})})]}),(0,Qt.jsxs)("div",{className:"bg-gray-50 p-4 flex justify-end gap-2",children:[(0,Qt.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-medium transition-all",children:"Fechar"}),(0,Qt.jsxs)("a",{href:"https://app.emergent.sh/register?ref=noit391017",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:[(0,Qt.jsx)("span",{children:"\ud83d\ude80"}),(0,Qt.jsx)("span",{children:"Criar Minha Conta"})]})]})]})})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Aleatoriedade da resposta (Temperatura): ",r.temperature]}),(0,Qt.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.temperature,onChange:e=>o(m(m({},r),{},{temperature:parseFloat(e.target.value)})),className:"w-full"}),(0,Qt.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[(0,Qt.jsx)("span",{children:"0 (Consistente)"}),(0,Qt.jsx)("span",{children:"0.5 (Balanceado)"}),(0,Qt.jsx)("span",{children:"1 (Criativo)"})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Mantenha em 0.5 para uma resposta mais consistente"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"M\xe1ximo de Tokens"}),(0,Qt.jsx)(On,{type:"number",value:r.max_tokens,onChange:e=>o(m(m({},r),{},{max_tokens:parseInt(e.target.value)}))})]}),(0,Qt.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block text-yellow-900",children:"\u23f1\ufe0f Tempo de Resposta (Humaniza\xe7\xe3o)"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)(On,{type:"number",min:"0",max:"60",value:r.response_delay_seconds||3,onChange:e=>{const t=Math.min(60,Math.max(0,parseInt(e.target.value)||0));o(m(m({},r),{},{response_delay_seconds:t}))},className:"w-24"}),(0,Qt.jsx)("span",{className:"text-sm text-yellow-800",children:"segundos"})]}),(0,Qt.jsx)("p",{className:"text-xs text-yellow-700 mt-2",children:"\ud83e\udd16 Simula um atendimento humanizado. A IA aguarda esse tempo antes de responder (0-60 segundos). Recomendado: 3-5 segundos."})]})]})]}),(0,Qt.jsxs)(Ti,{value:"behavior",className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg mb-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"\u2699\ufe0f Comportamento"}),(0,Qt.jsx)("p",{className:"text-sm text-green-700",children:"Configure como o agente se comporta"})]}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 p-4 border rounded-lg",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:r.knowledge_restriction,onChange:e=>o(m(m({},r),{},{knowledge_restriction:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"font-medium text-sm",children:"Restri\xe7\xe3o de conhecimento"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Quando ativado, algumas instru\xe7\xf5es extras ser\xe3o adicionadas ao prompt do sistema"})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-3 p-4 border rounded-lg",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:r.auto_detect_language,onChange:e=>o(m(m({},r),{},{auto_detect_language:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"font-medium text-sm",children:"Detector de Idioma autom\xe1tico"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Quando ativado, algumas instru\xe7\xf5es extras s\xe3o adicionadas ao prompt do sistema"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Fuso hor\xe1rio"}),(0,Qt.jsxs)("select",{value:r.timezone,onChange:e=>o(m(m({},r),{},{timezone:e.target.value})),className:"w-full border rounded-lg p-2",children:[(0,Qt.jsx)("option",{value:"America/Sao_Paulo",children:"America/Sao_Paulo (GMT-3)"}),(0,Qt.jsx)("option",{value:"America/New_York",children:"America/New_York (GMT-5)"}),(0,Qt.jsx)("option",{value:"Europe/London",children:"Europe/London (GMT+0)"}),(0,Qt.jsx)("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})]})]})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:n,className:"flex-1",children:"Cancelar"}),(0,Qt.jsx)(zn,{onClick:async()=>{try{await jo.put("/ai/agents/".concat(t.id),r),Bt.success("Configura\xe7\xf5es salvas!"),n(),window.location.reload()}catch(e){Bt.error("Erro ao salvar configura\xe7\xf5es"),console.error("Erro ao salvar:",e)}},className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:"\ud83d\udcbe Salvar Configura\xe7\xf5es"})]})]})})},Bf=e=>{let{open:t,onClose:a,agent:n}=e;return n?(0,Qt.jsx)(nu,{open:t,onOpenChange:a,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"text-xl font-bold flex items-center gap-2",children:[(0,Qt.jsx)(If,{className:"w-5 h-5 text-blue-600"}),"Treinamento por \xc1udio - ",n.name]})}),(0,Qt.jsx)(Lf,{agentId:n.agent_id}),(0,Qt.jsx)("div",{className:"flex justify-end mt-4",children:(0,Qt.jsx)(zn,{onClick:a,variant:"outline",children:"Fechar"})})]})}):null},qf=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[f,x]=(0,s.useState)(null),[g,v]=(0,s.useState)([]),[b,y]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[N,k]=(0,s.useState)({}),[_,S]=(0,s.useState)(!1),[C,E]=(0,s.useState)(null),[A,T]=(0,s.useState)([]),[R,P]=(0,s.useState)(null),[z,I]=(0,s.useState)(!1),[O,D]=(0,s.useState)(null);(0,s.useEffect)(()=>{F(),L(),M()},[]);const M=async()=>{try{const{data:e}=await jo.get("/ai/agents/templates/list");k(e||{})}catch(e){console.error("Error loading templates:",e),k({})}},L=async()=>{try{const{data:e}=await jo.get("/agents");n(Array.isArray(e)?e:[])}catch(e){console.error("Error loading agents users:",e),n([])}},F=async()=>{try{const{data:e}=await jo.get("/ai/agents");t(Array.isArray(e)?e:[])}catch(e){console.error("Error loading agents:",e),t([]),Bt.error("Erro ao carregar agentes")}},B=async e=>{try{const{data:t}=await jo.get("/ai-learning/feedback",{params:{agent_id:e,limit:50}});T(t.feedbacks||[]);const{data:a}=await jo.get("/ai-learning/stats/".concat(e));P(a)}catch(t){console.error("Error loading learning data:",t),Bt.error("Erro ao carregar dados de aprendizado")}},q=async(e,t)=>{try{await jo.put("/ai-learning/feedback/".concat(e),{aprovado_admin:t}),Bt.success(t?"Feedback aprovado!":"Feedback reprovado!"),await B(C.id)}catch(a){Bt.error("Erro ao atualizar feedback")}};return(0,Qt.jsx)(Qt.Fragment,{children:(0,Qt.jsxs)("div",{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"\ud83e\udd16 Explore os Super Agentes"}),(0,Qt.jsx)("p",{className:"text-slate-600 mb-4",children:"Crie os seus Super Agentes"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"Gerencie seus agentes para automatizar tarefas de forma inteligente."}),(0,Qt.jsxs)(zn,{onClick:()=>d(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Novo agente +"]})]}),(0,Qt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(e||[]).map(e=>(0,Qt.jsxs)(Un,{className:"p-4 hover:shadow-lg transition-shadow cursor-pointer",children:[(0,Qt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.is_active?"bg-indigo-100":"bg-slate-100"),children:(0,Qt.jsx)(Zo,{className:"w-5 h-5 ".concat(e.is_active?"text-indigo-600":"text-slate-400")})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:e.llm_model})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-1",children:[(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),(async e=>{try{await jo.put("/ai/agents/".concat(e.id),{enabled:!e.enabled}),Bt.success(e.enabled?"Agente desativado!":"Agente ativado!"),F()}catch(t){Bt.error("Erro ao alterar status do agente"),console.error("Erro:",t)}})(e)},title:e.enabled?"Desativar":"Ativar",children:e.enabled?(0,Qt.jsx)(Rf,{className:"w-4 h-4 text-green-600"}):(0,Qt.jsx)(Pf,{className:"w-4 h-4 text-slate-400"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),(async e=>{E(e),S(!0),await B(e.agent_id)})(e)},title:"Sistema de Aprendizado",className:"text-purple-600 hover:text-purple-700",children:(0,Qt.jsx)(zf,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),(e=>{D(e),I(!0)})(e)},title:"Treinamento (\xc1udio)",className:"text-blue-600 hover:text-blue-700",children:(0,Qt.jsx)(If,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),o(e),m(!0)},children:(0,Qt.jsx)(al,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),(async e=>{if(confirm("Tem certeza que deseja deletar este agente?"))try{await jo.delete("/ai/agents/".concat(e)),Bt.success("Agente deletado!"),F()}catch(t){Bt.error("Erro ao deletar agente")}})(e.id)},children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-500"})})]})]}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:e.description||"Sem descri\xe7\xe3o"}),(0,Qt.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,Qt.jsx)("span",{children:e.llm_provider}),(0,Qt.jsx)("span",{className:"px-2 py-1 rounded ".concat(e.enabled?"bg-green-100 text-green-700":"bg-slate-100 text-slate-500"),children:e.enabled?"Ativo":"Inativo"})]})]},e.id))}),(0,Qt.jsx)(nu,{open:c,onOpenChange:d,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsxs)(iu,{children:[(0,Qt.jsx)(cu,{className:"text-2xl",children:"\ud83e\udd16 Criar Novo Agente IA"}),(0,Qt.jsx)("p",{className:"text-slate-600 text-sm mt-2",children:"Escolha um template pr\xe9-configurado ou crie um agente do zero"})]}),(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg border-2 border-indigo-200 hover:border-indigo-400 transition-colors cursor-pointer",onClick:()=>{d(!1),i(!0)},children:(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 bg-indigo-600 rounded-lg flex items-center justify-center",children:(0,Qt.jsx)(tl,{className:"w-8 h-8 text-white"})}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"\u2728 Criar do Zero"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Configure todas as op\xe7\xf5es manualmente"})]})]})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"\ud83d\udccb Templates Prontos"}),(0,Qt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(N).map(e=>{var t,a;let[n,s]=e;const r=s.split(" - "),o=r[0],l=(null===(t=r[1])||void 0===t?void 0:t.split(" - ")[0])||r[0],i=(null===(a=r[1])||void 0===a?void 0:a.split(" - ")[1])||r[1]||"";return(0,Qt.jsx)("div",{onClick:()=>(async e=>{try{await jo.post("/ai/agents/templates/".concat(e)),Bt.success("Agente criado a partir do template!"),d(!1),F()}catch(t){Bt.error("Erro ao criar agente do template"),console.error("Template error:",t)}})(n),className:"p-4 border-2 border-slate-200 rounded-lg hover:border-indigo-400 hover:bg-indigo-50 transition-all cursor-pointer group",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("div",{className:"text-3xl",children:o}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-slate-900 group-hover:text-indigo-900",children:l}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:i})]})]})},n)})})]})]}),(0,Qt.jsx)("div",{className:"flex justify-end mt-6",children:(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"})})]})}),(0,Qt.jsx)(nu,{open:l,onOpenChange:i,children:(0,Qt.jsxs)(lu,{children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"Criar Novo Agente IA"})}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Nome do Agente"}),(0,Qt.jsx)(On,{placeholder:"Ex: Agente de Suporte",value:b,onChange:e=>y(e.target.value)})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Descri\xe7\xe3o"}),(0,Qt.jsx)(ll,{placeholder:"O que este agente faz?",value:j,onChange:e=>w(e.target.value),rows:3})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>i(!1),className:"flex-1",children:"Cancelar"}),(0,Qt.jsx)(zn,{onClick:async()=>{if(b.trim())try{await jo.post("/ai/agents",{name:b,description:j,llm_provider:"openai",llm_model:"gpt-4o-mini"}),Bt.success("Agente criado com sucesso!"),i(!1),y(""),w(""),F()}catch(e){Bt.error("Erro ao criar agente")}else Bt.error("Digite um nome para o agente")},className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:"Criar Agente"})]})]})]})}),r&&(0,Qt.jsx)(Ff,{agent:r,open:u,onClose:()=>{m(!1),o(null),F()}}),(0,Qt.jsx)(nu,{open:p,onOpenChange:h,children:(0,Qt.jsxs)(lu,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\u26a1 Ativar/Desativar Agente IA"})}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Qt.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,Qt.jsx)("strong",{children:"Agente:"})," ",null===f||void 0===f?void 0:f.name]}),(0,Qt.jsx)("p",{className:"text-sm text-blue-700 mt-2",children:"Selecione os atendentes que ter\xe3o este agente IA ativo. Quando um atendente selecionado receber uma mensagem, a IA responder\xe1 automaticamente."})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"Selecione os Atendentes:"}),(0,Qt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.map(e=>(0,Qt.jsx)("div",{className:"p-3 border-2 rounded-lg cursor-pointer transition-all ".concat(g.includes(e.id)?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-indigo-300"),onClick:()=>{return t=e.id,void v(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:g.includes(e.id),readOnly:!0,className:"w-4 h-4"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-medium",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-600",children:e.email})]})]})},e.id))}),0===a.length&&(0,Qt.jsx)("p",{className:"text-sm text-slate-500 text-center py-4",children:"Nenhum atendente cadastrado. Crie atendentes primeiro."})]}),(0,Qt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,Qt.jsxs)("p",{className:"text-xs text-yellow-800",children:["\ud83d\udca1 ",(0,Qt.jsx)("strong",{children:"Dica:"})," A IA s\xf3 funcionar\xe1 para os atendentes selecionados. Se nenhum atendente for selecionado, o agente ficar\xe1 desativado."]})}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Cancelar"}),(0,Qt.jsxs)(zn,{onClick:async()=>{try{await jo.put("/ai/agents/".concat(f.id),{is_active:g.length>0,linked_agents:g}),Bt.success("Atendentes vinculados com sucesso!"),h(!1),F()}catch(e){Bt.error("Erro ao vincular atendentes")}},className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:["\ud83d\udcbe Salvar (",g.length," selecionados)"]})]})]})]})}),(0,Qt.jsx)(nu,{open:_,onOpenChange:S,children:(0,Qt.jsxs)(lu,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"text-xl flex items-center gap-2",children:[(0,Qt.jsx)(zf,{className:"w-6 h-6 text-purple-600"}),"Sistema de Aprendizado - ",null===C||void 0===C?void 0:C.name]})}),R&&(0,Qt.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,Qt.jsx)(Un,{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Acertos"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-green-800",children:R.total_acertos})]})}),(0,Qt.jsx)(Un,{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Erros"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-red-800",children:R.total_erros})]})}),(0,Qt.jsx)(Un,{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Total"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-blue-800",children:R.total_feedbacks})]})}),(0,Qt.jsx)(Un,{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"Taxa de Sucesso"}),(0,Qt.jsxs)("p",{className:"text-3xl font-bold text-purple-800",children:[R.taxa_sucesso,"%"]})]})})]}),(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Hist\xf3rico de Feedbacks"}),(0,Qt.jsx)(zn,{variant:"destructive",size:"sm",onClick:()=>(async e=>{if(confirm("\u26a0\ufe0f ATEN\xc7\xc3O! Isso ir\xe1 deletar TODOS os feedbacks de aprendizado deste agente. Esta a\xe7\xe3o n\xe3o pode ser desfeita. Deseja continuar?"))try{await jo.delete("/ai-learning/feedback/agent/".concat(e,"/all")),Bt.success("Todo aprendizado foi limpo!"),S(!1),T([]),P(null)}catch(t){Bt.error("Erro ao limpar aprendizado")}})(null===C||void 0===C?void 0:C.id),className:"bg-red-600 hover:bg-red-700",children:"\ud83d\uddd1\ufe0f Limpar Todo Aprendizado"})]}),0===A.length?(0,Qt.jsxs)("div",{className:"text-center py-12 text-slate-500",children:[(0,Qt.jsx)(zf,{className:"w-16 h-16 mx-auto mb-3 opacity-30"}),(0,Qt.jsx)("p",{className:"text-sm",children:"Nenhum feedback registrado ainda"}),(0,Qt.jsx)("p",{className:"text-xs mt-1",children:"Os feedbacks aparecer\xe3o aqui conforme o sistema aprende"})]}):A.map(e=>(0,Qt.jsx)(Un,{className:"p-4 ".concat("acerto"===e.tipo?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"),children:(0,Qt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("acerto"===e.tipo?"bg-green-200 text-green-800":"bg-red-200 text-red-800"),children:"acerto"===e.tipo?"\u2705 Acerto":"\u274c Erro"}),(0,Qt.jsx)("span",{className:"text-xs text-slate-600",children:e.categoria}),(0,Qt.jsx)("span",{className:"text-xs text-slate-400",children:new Date(e.created_at).toLocaleString("pt-BR")}),e.aprovado_admin&&(0,Qt.jsx)("span",{className:"px-2 py-0.5 bg-purple-200 text-purple-800 rounded text-xs font-medium",children:"\u2b50 Aprovado"})]}),(0,Qt.jsxs)("p",{className:"text-sm text-slate-700 mb-2",children:[(0,Qt.jsx)("strong",{children:"Resultado:"})," ",e.resultado]}),e.contexto&&(0,Qt.jsx)("div",{className:"bg-white rounded p-2 text-xs",children:(0,Qt.jsxs)("p",{className:"text-slate-600",children:[(0,Qt.jsx)("strong",{children:"Contexto:"})," ",JSON.stringify(e.contexto,null,2)]})}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Marcado por: ",e.marcado_por]})]}),(0,Qt.jsxs)("div",{className:"flex flex-col gap-1 ml-3",children:[!e.aprovado_admin&&(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>q(e.id,!0),className:"h-8 px-2 text-green-600 hover:bg-green-100",title:"Aprovar feedback",children:(0,Qt.jsx)(xf,{className:"w-4 h-4"})}),e.aprovado_admin&&(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>q(e.id,!1),className:"h-8 px-2 text-orange-600 hover:bg-orange-100",title:"Reprovar feedback",children:(0,Qt.jsx)(Xd,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>(async e=>{if(confirm("Tem certeza que deseja deletar este feedback?"))try{await jo.delete("/ai-learning/feedback/".concat(e)),Bt.success("Feedback deletado!"),await B(C.id)}catch(t){Bt.error("Erro ao deletar feedback")}})(e.id),className:"h-8 px-2 text-red-600 hover:bg-red-100",title:"Deletar feedback",children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})]})},e.id))]}),(0,Qt.jsx)("div",{className:"flex justify-end mt-6",children:(0,Qt.jsx)(zn,{onClick:()=>S(!1),variant:"outline",children:"Fechar"})})]})}),(0,Qt.jsx)(Bf,{open:z,onClose:()=>I(!1),agent:O})]})})},Uf=na("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),Vf=na("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Wf=na("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Hf=na("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Gf=na("thumbs-up",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),$f=na("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]),Kf=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[r,o]=(0,s.useState)([]),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(null),[y,j]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[k,_]=(0,s.useState)([]),[S,C]=(0,s.useState)(null),[E,A]=(0,s.useState)("wa_suporte"),[T,R]=(0,s.useState)({name:"",description:"",ai_agent_id:"",is_default:!1,timeout_seconds:120,agent_ids:[],origin:"wa_suporte"}),[P,z]=(0,s.useState)({name:"",personality:"",instructions:"",llm_provider:"openai",llm_model:"gpt-4o-mini",temperature:.7,max_tokens:500,is_active:!0,api_key:"",schedule_start_time:"",schedule_end_time:""});(0,s.useEffect)(()=>{I(),O(),D()},[]);const I=async()=>{try{const{data:e}=await jo.get("/ai/departments");t(Array.isArray(e)?e:[])}catch(e){console.error("Error loading departments:",e),t([])}},O=async()=>{try{const{data:e}=await jo.get("/ai/agents");console.log("\ud83e\udd16 Agentes IA carregados:",e);const t=Array.isArray(e)?e:[];n(t),console.log("\u2705 Total de agentes:",t.length)}catch(e){console.error("Error loading agents:",e),n([])}},D=async()=>{try{const{data:e}=await jo.get("/agents");o(Array.isArray(e)?e:[])}catch(e){console.error("Error loading human agents:",e),o([])}},M=async(e,t)=>{try{if(await jo.post("/ai-learning/learning/".concat(e,"/feedback"),{is_correct:t}),Bt.success(t?"\u2705 Marcado como CORRETO":"\u274c Marcado como ERRADO"),null!==y&&void 0!==y&&y.ai_agent_id){const{data:e}=await jo.get("/ai-learning/learning/".concat(y.ai_agent_id));_(Array.isArray(e)?e:[])}}catch(a){console.error("Error saving feedback:",a),Bt.error("Erro ao salvar feedback")}};return(0,Qt.jsxs)("div",{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"\ud83d\udcc2 Departamentos por Origem"}),(0,Qt.jsx)("p",{className:"text-slate-600 mb-4",children:"Crie departamentos espec\xedficos para cada canal de atendimento"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,Qt.jsx)(zn,{variant:"wa_suporte"===E?"default":"outline",onClick:()=>A("wa_suporte"),className:"flex-1 ".concat("wa_suporte"===E?"bg-red-600 hover:bg-red-700 text-white":"border-red-300 text-red-700 hover:bg-red-50"),children:"\ud83d\udcf1 WA SUPORTE"}),(0,Qt.jsx)(zn,{variant:"whatsapp_starter"===E?"default":"outline",onClick:()=>A("whatsapp_starter"),className:"flex-1 ".concat("whatsapp_starter"===E?"bg-green-600 hover:bg-green-700 text-white":"border-green-300 text-green-700 hover:bg-green-50"),children:"\ud83d\udcac WHATSAPP STARTER"}),(0,Qt.jsx)(zn,{variant:"ia"===E?"default":"outline",onClick:()=>A("ia"),className:"flex-1 ".concat("ia"===E?"bg-purple-600 hover:bg-purple-700 text-white":"border-purple-300 text-purple-700 hover:bg-purple-50"),children:"\ud83e\udd16 I.A"})]}),(0,Qt.jsx)("div",{className:"mb-6",children:(0,Qt.jsxs)(zn,{onClick:()=>{g(null),R({name:"",description:"",ai_agent_id:"",is_default:!1,timeout_seconds:120,agent_ids:[],origin:E}),i(!0)},className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Novo Departamento para ","wa_suporte"===E?"WA SUPORTE":"whatsapp_starter"===E?"WHATSAPP STARTER":"I.A"]})}),(0,Qt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(e||[]).filter(e=>e.origin===E).map(e=>{const t=a.find(t=>t.id===e.ai_agent_id);return(0,Qt.jsxs)(Un,{className:"p-4",children:[(0,Qt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),e.is_default&&(0,Qt.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded mt-1 inline-block",children:"Padr\xe3o"})]}),(0,Qt.jsxs)("div",{className:"flex gap-1",children:[(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>(e=>{b(e);const t=a.find(t=>t.id===e.ai_agent_id);z(t?{name:t.name||"IA ".concat(e.name),personality:t.personality||"",instructions:t.instructions||"",llm_provider:t.llm_provider||"openai",llm_model:t.llm_model||"gpt-4o-mini",temperature:t.temperature||.7,max_tokens:t.max_tokens||500,is_active:!1!==t.is_active,api_key:t.api_key||"",schedule_start_time:t.schedule_start_time||"",schedule_end_time:t.schedule_end_time||""}:{name:"IA ".concat(e.name),personality:"Assistente profissional e prestativo",instructions:"",llm_provider:"openai",llm_model:"gpt-4o-mini",temperature:.7,max_tokens:500,is_active:!0,api_key:"",schedule_start_time:"",schedule_end_time:""}),d(!0)})(e),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Configurar IA do Departamento",children:(0,Qt.jsx)(Zo,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>(async e=>{if(j(e),e.ai_agent_id)try{const{data:t}=await jo.get("/ai-learning/learning/".concat(e.ai_agent_id));_(Array.isArray(t)?t:[])}catch(t){console.error("Error loading learning data:",t),_([])}else _([]);p(!0)})(e),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Sistema de Aprendizado",children:(0,Qt.jsx)(Uf,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>(async e=>{N(e);try{const{data:t}=await jo.get("/api/departments/".concat(e.id,"/ai-memory-config"));C(t.ai_memory_cleanup_days)}catch(t){console.error("Error loading memory cleanup config:",t),C(null)}f(!0)})(e),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Configurar Limpeza de Mem\xf3ria da IA",children:(0,Qt.jsx)(Vf,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>(e=>{g(e),R({name:e.name,description:e.description||"",ai_agent_id:e.ai_agent_id||"",is_default:e.is_default||!1,timeout_seconds:e.timeout_seconds||120,agent_ids:Array.isArray(e.agent_ids)?e.agent_ids:[],origin:e.origin||E}),i(!0)})(e),children:(0,Qt.jsx)(al,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este departamento?"))try{await jo.delete("/ai/departments/".concat(e)),Bt.success("Departamento exclu\xeddo!"),I()}catch(t){console.error("Error deleting department:",t),Bt.error("Erro ao excluir departamento")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-500"})})]})]}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:e.description||"Sem descri\xe7\xe3o"}),(0,Qt.jsxs)("div",{className:"space-y-2 text-xs text-slate-500",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Xo,{className:"w-3 h-3"}),(0,Qt.jsxs)("span",{children:["Timeout: ",e.timeout_seconds,"s"]})]}),t&&(0,Qt.jsxs)("div",{className:"flex items-center gap-2 text-indigo-600",children:[(0,Qt.jsx)("span",{children:"\ud83e\udd16"}),(0,Qt.jsx)("span",{children:t.name})]})]})]},e.id)})}),(0,Qt.jsx)(nu,{open:l,onOpenChange:i,children:(0,Qt.jsxs)(lu,{children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{children:[x?"Editar":"Criar"," Departamento"]})}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Nome"}),(0,Qt.jsx)(On,{placeholder:"Ex: Suporte, Vendas, Teste Gr\xe1tis",value:T.name,onChange:e=>R(m(m({},T),{},{name:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Descri\xe7\xe3o"}),(0,Qt.jsx)(ll,{placeholder:"Descreva este departamento",value:T.description,onChange:e=>R(m(m({},T),{},{description:e.target.value})),rows:2})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Agente IA vinculado"}),(0,Qt.jsxs)("select",{value:T.ai_agent_id,onChange:e=>R(m(m({},T),{},{ai_agent_id:e.target.value})),className:"w-full border rounded-lg p-2 bg-white",style:{minHeight:"40px"},children:[(0,Qt.jsx)("option",{value:"",children:"Nenhum"}),0===(a||[]).length?(0,Qt.jsx)("option",{disabled:!0,children:'\u26a0\ufe0f Nenhum agente IA cadastrado. V\xe1 para a aba "Agentes IA" para criar um.'}):(a||[]).map(e=>(0,Qt.jsx)("option",{value:e.id,children:e.name},e.id))]}),0===(a||[]).length&&(0,Qt.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:'\u26a0\ufe0f Nenhum agente IA cadastrado. Crie um agente na aba "Agentes IA".'})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Timeout (segundos)"}),(0,Qt.jsx)(On,{type:"number",placeholder:"120",value:T.timeout_seconds,onChange:e=>R(m(m({},T),{},{timeout_seconds:parseInt(e.target.value)}))}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Tempo para redirecionar automaticamente para este departamento se o cliente n\xe3o responder"})]}),(0,Qt.jsxs)("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[(0,Qt.jsx)("label",{className:"text-sm font-semibold text-purple-900 mb-2 block",children:"\ud83d\udc65 Atendentes com acesso a este departamento"}),(0,Qt.jsx)("p",{className:"text-xs text-purple-700 mb-3",children:"Selecione quais atendentes podem visualizar e responder tickets deste departamento. Se n\xe3o selecionar nenhum, todos os atendentes ter\xe3o acesso."}),r.length>0?(0,Qt.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map(e=>(0,Qt.jsxs)("label",{className:"flex items-center gap-2 p-2 bg-white rounded border hover:bg-purple-50 cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:(T.agent_ids||[]).includes(e.id),onChange:t=>{t.target.checked?R(m(m({},T),{},{agent_ids:[...T.agent_ids||[],e.id]})):R(m(m({},T),{},{agent_ids:(T.agent_ids||[]).filter(t=>t!==e.id)}))},className:"w-4 h-4"}),(0,Qt.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,Qt.jsxs)("span",{className:"text-xs text-slate-500",children:["(",e.login,")"]})]},e.id))}):(0,Qt.jsx)("p",{className:"text-xs text-slate-500 italic",children:"Nenhum atendente cadastrado ainda"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:T.is_default,onChange:e=>R(m(m({},T),{},{is_default:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsx)("label",{className:"text-sm",children:"Marcar como departamento padr\xe3o (recebe tickets ap\xf3s timeout)"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>i(!1),className:"flex-1",children:"Cancelar"}),(0,Qt.jsx)(zn,{onClick:async()=>{if(T.name.trim())try{const a=m(m({},T),{},{origin:E});if(console.log("\ud83d\udd0d DEBUG: Salvando departamento:",{nome:a.name,origin:a.origin,originFilter:E,agent_ids:a.agent_ids}),x){var e;await jo.put("/ai/departments/".concat(x.id),a),Bt.success("\u2705 Departamento atualizado! ".concat((null===(e=a.agent_ids)||void 0===e?void 0:e.length)||0," atendente(s) selecionado(s)"))}else{var t;const e=await jo.post("/ai/departments",a);console.log("\u2705 Resposta do servidor:",e.data),Bt.success('\u2705 Departamento "'.concat(a.name,'" criado com ').concat((null===(t=a.agent_ids)||void 0===t?void 0:t.length)||0," atendente(s)!"))}i(!1),g(null),R({name:"",description:"",ai_agent_id:"",is_default:!1,timeout_seconds:120,agent_ids:[],origin:E}),await I()}catch(s){var a,n;console.error("Error saving department:",s),Bt.error("Erro ao salvar departamento: "+((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||s.message))}else Bt.error("Digite um nome para o departamento")},className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:x?"Atualizar":"Criar"})]})]})]})}),(0,Qt.jsx)(nu,{open:c,onOpenChange:d,children:(0,Qt.jsxs)(lu,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Zo,{className:"w-6 h-6 text-purple-600"}),"Configurar IA - ",null===v||void 0===v?void 0:v.name]})}),(0,Qt.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Nome do Agente IA"}),(0,Qt.jsx)(On,{placeholder:"Ex: Assistente de Suporte, Bot de Vendas",value:P.name,onChange:e=>z(m(m({},P),{},{name:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Personalidade"}),(0,Qt.jsx)(On,{placeholder:"Ex: Profissional e prestativo, Amig\xe1vel e descontra\xeddo",value:P.personality,onChange:e=>z(m(m({},P),{},{personality:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:[(0,Qt.jsx)(Uf,{className:"w-4 h-4 inline mr-1"}),"Instru\xe7\xf5es para a IA (Curtas)"]}),(0,Qt.jsx)(ll,{placeholder:"Instru\xe7\xf5es r\xe1pidas ou resumo... (se enviar arquivo .txt abaixo, este campo ser\xe1 ignorado)",value:P.instructions,onChange:e=>z(m(m({},P),{},{instructions:e.target.value})),rows:4,className:"font-mono text-sm"})]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-blue-900 mb-2 block",children:"\ud83d\udcc4 Upload de Instru\xe7\xf5es Completas (.txt)"}),(0,Qt.jsx)("input",{type:"file",accept:".txt",onChange:async e=>{const t=e.target.files[0];if(t)if(t.name.endsWith(".txt"))try{const e=new FormData;e.append("file",t);const{data:a}=await jo.post("/api/departments/".concat(v.id,"/upload-instructions"),e,{headers:{"Content-Type":"multipart/form-data"}});Bt.success("\u2705 Arquivo carregado: ".concat(a.filename," (").concat(a.size," chars)")),z(m(m({},P),{},{instructions_file:a.filename}))}catch(s){var a,n;console.error("Error uploading file:",s),Bt.error("Erro ao fazer upload: "+((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||s.message))}else Bt.error("Apenas arquivos .txt s\xe3o permitidos")},className:"w-full text-sm"}),P.instructions_file&&(0,Qt.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,Qt.jsxs)("span",{className:"text-sm text-green-700",children:["\u2705 Arquivo: ",P.instructions_file]}),(0,Qt.jsx)("button",{onClick:async()=>{if(window.confirm("Remover arquivo de instru\xe7\xf5es?"))try{await jo.delete("/api/departments/".concat(v.id,"/instructions-file")),Bt.success("Arquivo removido"),z(m(m({},P),{},{instructions_file:null}))}catch(e){Bt.error("Erro ao remover arquivo")}},className:"text-red-600 hover:text-red-700 text-sm",children:"\u274c Remover"})]}),(0,Qt.jsxs)("p",{className:"text-xs text-blue-700 mt-2",children:["\ud83d\udca1 ",(0,Qt.jsx)("strong",{children:"Como usar:"})," Crie um arquivo .txt com suas instru\xe7\xf5es completas e fa\xe7a upload aqui.",(0,Qt.jsx)("br",{}),"\u2705 A IA vai usar o conte\xfado do arquivo automaticamente.",(0,Qt.jsx)("br",{}),'\u26a0\ufe0f Se enviar arquivo, o campo "Instru\xe7\xf5es Curtas" acima ser\xe1 ignorado.']})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"\ud83d\udd11 OpenAI API Key (Opcional - espec\xedfica deste departamento)"}),(0,Qt.jsx)(On,{type:"password",placeholder:"sk-... (deixe vazio para usar key padr\xe3o do sistema)",value:P.api_key||"",onChange:e=>z(m(m({},P),{},{api_key:e.target.value}))}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Se n\xe3o informar, usar\xe1 a API key configurada no sistema. Use para ter API key diferente por departamento."}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500",children:["\ud83d\udd17 Obtenha em: ",(0,Qt.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",className:"text-blue-600 hover:underline",children:"platform.openai.com/api-keys"})]})]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Modelo LLM"}),(0,Qt.jsxs)("select",{value:P.llm_model,onChange:e=>z(m(m({},P),{},{llm_model:e.target.value})),className:"w-full border border-gray-300 rounded-lg p-2 text-sm",children:[(0,Qt.jsx)("option",{value:"gpt-4o",children:"GPT-4o (Melhor)"}),(0,Qt.jsx)("option",{value:"gpt-4o-mini",children:"GPT-4o-mini (R\xe1pido)"}),(0,Qt.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),(0,Qt.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Econ\xf4mico)"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Temperatura"}),(0,Qt.jsx)(On,{type:"number",min:"0",max:"1",step:"0.1",value:P.temperature,onChange:e=>z(m(m({},P),{},{temperature:parseFloat(e.target.value)}))}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0 = Preciso, 1 = Criativo"})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:P.is_active,onChange:e=>z(m(m({},P),{},{is_active:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsx)("label",{className:"text-sm font-medium",children:P.is_active?"\ud83d\udfe2 Agente IA ATIVO":"\ud83d\udd34 Agente IA DESATIVADO"})]}),(0,Qt.jsxs)("div",{className:"space-y-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qt.jsx)(Xo,{className:"w-4 h-4 text-blue-600"}),(0,Qt.jsx)("label",{className:"text-sm font-semibold text-blue-800",children:"\u23f0 Agendamento (Opcional)"})]}),(0,Qt.jsx)("p",{className:"text-xs text-blue-600 mb-3",children:"Configure hor\xe1rios espec\xedficos para ativa\xe7\xe3o autom\xe1tica da IA. Deixe em branco para manter ativo 24/7."}),(0,Qt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"In\xedcio"}),(0,Qt.jsx)(On,{type:"time",value:P.schedule_start_time,onChange:e=>z(m(m({},P),{},{schedule_start_time:e.target.value})),placeholder:"08:00",className:"text-sm"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"Fim"}),(0,Qt.jsx)(On,{type:"time",value:P.schedule_end_time,onChange:e=>z(m(m({},P),{},{schedule_end_time:e.target.value})),placeholder:"18:00",className:"text-sm"})]})]}),P.schedule_start_time&&P.schedule_end_time&&(0,Qt.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["\ud83d\udd50 IA ativa de ",(0,Qt.jsx)("strong",{children:P.schedule_start_time})," at\xe9 ",(0,Qt.jsx)("strong",{children:P.schedule_end_time})]})]}),!P.is_active&&(0,Qt.jsx)("div",{className:"bg-yellow-50 border border-yellow-300 rounded p-3",children:(0,Qt.jsxs)("p",{className:"text-sm text-yellow-800",children:["\u26a0\ufe0f ",(0,Qt.jsx)("strong",{children:"IA Desativada:"})," Os tickets deste departamento N\xc3O ser\xe3o atendidos automaticamente pela IA."]})}),(null===v||void 0===v?void 0:v.ai_agent_id)&&(0,Qt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:(0,Qt.jsx)("p",{className:"text-sm text-blue-800",children:"\u2705 Este departamento j\xe1 possui um agente IA configurado. As altera\xe7\xf5es atualizar\xe3o o agente existente."})}),!(null!==v&&void 0!==v&&v.ai_agent_id)&&(0,Qt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:(0,Qt.jsx)("p",{className:"text-sm text-green-800",children:"\u2728 Um novo agente IA ser\xe1 criado e vinculado automaticamente a este departamento."})}),(0,Qt.jsxs)("div",{className:"flex gap-2 justify-between pt-4 border-t",children:[(0,Qt.jsx)("div",{children:(null===v||void 0===v?void 0:v.ai_agent_id)&&(0,Qt.jsx)(zn,{onClick:async()=>{if(window.confirm("\u274c Tem certeza que deseja REMOVER o agente IA deste departamento?\n\nO agente ser\xe1 desvinculado mas n\xe3o ser\xe1 exclu\xeddo."))try{await jo.put("/ai/departments/".concat(v.id),{ai_agent_id:null}),Bt.success("\u2705 Agente IA desvinculado do departamento"),d(!1),b(null),I()}catch(a){var e,t;console.error("Error removing AI:",a),Bt.error("Erro ao remover agente IA: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}},variant:"outline",className:"text-red-600 hover:bg-red-50 border-red-300",children:"\ud83d\uddd1\ufe0f Desvincular IA"})}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{onClick:()=>d(!1),variant:"outline",children:"Cancelar"}),(0,Qt.jsxs)(zn,{onClick:async()=>{if(P.name.trim())try{let e=v.ai_agent_id;if(e)await jo.put("/ai/agents/".concat(e),P),await jo.put("/ai/departments/".concat(v.id),{ai_agent_id:e}),Bt.success("\u2705 Agente IA atualizado!");else{const{data:t}=await jo.post("/ai/agents",P);e=t.id,await jo.put("/ai/departments/".concat(v.id),{ai_agent_id:e}),Bt.success("\u2705 Agente IA criado e vinculado ao departamento!")}d(!1),b(null),I(),O()}catch(a){var e,t;console.error("Error saving AI:",a),Bt.error("Erro ao salvar agente IA: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}else Bt.error("Digite um nome para o agente IA")},className:"bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(Zo,{className:"w-4 h-4 mr-2"}),null!==v&&void 0!==v&&v.ai_agent_id?"Atualizar IA":"Criar e Vincular IA"]})]})]})]})]})}),(0,Qt.jsx)(nu,{open:u,onOpenChange:p,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Uf,{className:"w-6 h-6 text-blue-600"}),"Sistema de Aprendizado - ",null===y||void 0===y?void 0:y.name]})}),(0,Qt.jsxs)("div",{className:"space-y-4 mt-4",children:[!(null!==y&&void 0!==y&&y.ai_agent_id)&&(0,Qt.jsx)("div",{className:"bg-yellow-50 border border-yellow-300 rounded p-4",children:(0,Qt.jsx)("p",{className:"text-sm text-yellow-800",children:"\u26a0\ufe0f Este departamento n\xe3o tem um agente IA configurado. Configure primeiro para habilitar o aprendizado."})}),(null===y||void 0===y?void 0:y.ai_agent_id)&&(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"\ud83d\udcda Como funciona o Aprendizado Cont\xednuo"}),(0,Qt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Qt.jsx)("li",{children:"\u2022 A IA registra todas as intera\xe7\xf5es e respostas geradas"}),(0,Qt.jsx)("li",{children:"\u2022 Voc\xea pode marcar cada resposta como CORRETA ou ERRADA"}),(0,Qt.jsx)("li",{children:"\u2022 Respostas marcadas como CORRETAS refor\xe7am o aprendizado"}),(0,Qt.jsx)("li",{children:"\u2022 Respostas marcadas como ERRADAS s\xe3o usadas para melhorar"}),(0,Qt.jsx)("li",{children:"\u2022 A IA aprende continuamente com seu feedback"})]})]}),(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-gray-900",children:"Hist\xf3rico de Intera\xe7\xf5es"}),(0,Qt.jsxs)(zn,{onClick:async()=>{const e=prompt("\ud83d\udcdd Digite a PERGUNTA do cliente:");if(!e||!e.trim())return;const t=prompt("\ud83e\udd16 Digite a RESPOSTA CORRETA da IA:");if(t&&t.trim())try{if(await jo.post("/ai-learning/learning/manual",{agent_id:y.ai_agent_id,user_message:e,ai_response:t,feedback:"correct"}),Bt.success("\u2705 Exemplo de aprendizado adicionado!"),null!==y&&void 0!==y&&y.ai_agent_id){const{data:e}=await jo.get("/ai-learning/learning/".concat(y.ai_agent_id));_(Array.isArray(e)?e:[])}}catch(s){var a,n;console.error("Error adding manual learning:",s),Bt.error("Erro ao adicionar exemplo: "+((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||s.message))}},size:"sm",className:"bg-green-600 hover:bg-green-700",children:[(0,Qt.jsx)(tl,{className:"w-3 h-3 mr-1"}),"Adicionar Exemplo"]})]}),0===k.length?(0,Qt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Qt.jsx)(Uf,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Qt.jsx)("p",{children:"Nenhuma intera\xe7\xe3o registrada ainda"}),(0,Qt.jsx)("p",{className:"text-xs mt-1",children:"As intera\xe7\xf5es aparecer\xe3o aqui conforme a IA responder clientes"})]}):k.map((e,t)=>(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Qt.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"\ud83d\udc64 Cliente perguntou:"}),(0,Qt.jsx)("p",{className:"text-sm font-medium",children:e.user_message})]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 rounded p-3",children:[(0,Qt.jsx)("p",{className:"text-xs text-blue-600 mb-1",children:"\ud83e\udd16 IA respondeu:"}),(0,Qt.jsx)("p",{className:"text-sm",children:e.ai_response})]}),e.audio_url&&(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-purple-50 rounded",children:[(0,Qt.jsx)(Wf,{className:"w-4 h-4 text-purple-600"}),(0,Qt.jsx)("span",{className:"text-xs text-purple-700",children:"\xc1udio dispon\xedvel"}),(0,Qt.jsxs)(zn,{size:"sm",variant:"ghost",onClick:()=>{new Audio(e.audio_url).play(),Bt.info("\ud83d\udd0a Reproduzindo \xe1udio...")},className:"ml-auto",children:[(0,Qt.jsx)(Hf,{className:"w-3 h-3 mr-1"}),"Ouvir"]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,Qt.jsx)("span",{className:"text-xs text-gray-600",children:"Esta resposta est\xe1:"}),(0,Qt.jsxs)(zn,{size:"sm",variant:"correct"===e.feedback?"default":"outline",onClick:()=>M(e.id,!0),className:"correct"===e.feedback?"bg-green-600 hover:bg-green-700":"",children:[(0,Qt.jsx)(Gf,{className:"w-3 h-3 mr-1"}),"CORRETA"]}),(0,Qt.jsxs)(zn,{size:"sm",variant:"incorrect"===e.feedback?"default":"outline",onClick:()=>M(e.id,!1),className:"incorrect"===e.feedback?"bg-red-600 hover:bg-red-700":"",children:[(0,Qt.jsx)($f,{className:"w-3 h-3 mr-1"}),"ERRADA"]}),e.feedback&&(0,Qt.jsx)("span",{className:"ml-auto text-xs text-gray-500",children:"correct"===e.feedback?"\u2705 Marcada como correta":"\u274c Marcada como errada"})]}),(0,Qt.jsxs)("div",{className:"text-xs text-gray-400 flex gap-4",children:[(0,Qt.jsxs)("span",{children:["\ud83d\udcc5 ",new Date(e.created_at).toLocaleString("pt-BR")]}),e.client_name&&(0,Qt.jsxs)("span",{children:["\ud83d\udc64 ",e.client_name]})]})]})},e.id||t))]}),k.length>0&&(0,Qt.jsxs)(Un,{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-2",children:"\ud83d\udcca Estat\xedsticas de Aprendizado"}),(0,Qt.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:k.length}),(0,Qt.jsx)("p",{className:"text-xs text-gray-600",children:"Total de intera\xe7\xf5es"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:k.filter(e=>"correct"===e.feedback).length}),(0,Qt.jsx)("p",{className:"text-xs text-gray-600",children:"Respostas corretas"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-2xl font-bold text-red-600",children:k.filter(e=>"incorrect"===e.feedback).length}),(0,Qt.jsx)("p",{className:"text-xs text-gray-600",children:"Respostas erradas"})]})]})]})]})]})]})}),(0,Qt.jsx)(nu,{open:h,onOpenChange:f,children:(0,Qt.jsxs)(lu,{className:"max-w-md",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Vf,{className:"w-5 h-5 text-purple-600"}),"Limpeza de Mem\xf3ria da IA - ",null===w||void 0===w?void 0:w.name]})}),(0,Qt.jsxs)("div",{className:"space-y-4 py-4",children:[(0,Qt.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"\ud83e\udde0 Como funciona a Mem\xf3ria da IA"}),(0,Qt.jsxs)("ul",{className:"text-sm text-purple-800 space-y-1",children:[(0,Qt.jsxs)("li",{children:["\u2022 A IA guarda as \xfaltimas ",(0,Qt.jsx)("strong",{children:"200 mensagens"})," de cada conversa"]}),(0,Qt.jsx)("li",{children:"\u2022 Isso permite que ela lembre do contexto e n\xe3o fa\xe7a perguntas repetidas"}),(0,Qt.jsx)("li",{children:"\u2022 Voc\xea pode configurar a limpeza autom\xe1tica de conversas antigas"}),(0,Qt.jsx)("li",{children:"\u2022 Conversas limpas n\xe3o afetam conversas ativas"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limpar conversas ap\xf3s quantos dias?"}),(0,Qt.jsxs)("select",{value:S||"",onChange:e=>C(""===e.target.value?null:parseInt(e.target.value)),className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500",children:[(0,Qt.jsx)("option",{value:"",children:"Nunca limpar (manter sempre)"}),(0,Qt.jsx)("option",{value:"7",children:"7 dias"}),(0,Qt.jsx)("option",{value:"15",children:"15 dias"}),(0,Qt.jsx)("option",{value:"30",children:"30 dias (recomendado)"}),(0,Qt.jsx)("option",{value:"60",children:"60 dias"}),(0,Qt.jsx)("option",{value:"90",children:"90 dias"})]}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null===S||0===S?"\u26a0\ufe0f Conversas ser\xe3o mantidas indefinidamente (pode consumir muito espa\xe7o)":"\u2705 Conversas com mais de ".concat(S," dias ser\xe3o removidas automaticamente")})]}),(0,Qt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,Qt.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Qt.jsx)("strong",{children:"\ud83d\udca1 Recomenda\xe7\xe3o:"})," 30 dias \xe9 ideal para manter o contexto recente sem ocupar muito espa\xe7o."]})}),(0,Qt.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>f(!1),className:"flex-1",children:"Cancelar"}),(0,Qt.jsx)(zn,{onClick:async()=>{try{await jo.put("/api/departments/".concat(w.id,"/ai-memory-config"),{ai_memory_cleanup_days:S}),Bt.success("\u2705 Configura\xe7\xe3o de limpeza de mem\xf3ria salva!"),f(!1),N(null),I()}catch(a){var e,t;console.error("Error saving memory cleanup config:",a),Bt.error("Erro ao salvar configura\xe7\xe3o: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}},className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Salvar Configura\xe7\xe3o"})]})]})]})})]})},Qf=na("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Yf=na("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Xf=na("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Jf=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{const{data:e}=await jo.get("/config/auto-responder-sequences");t(e)}catch(e){console.error("Erro ao carregar sequ\xeancias:",e),Bt.error("Erro ao carregar auto-responder")}},p=(e,t,a)=>{o(m(m({},r),{},{responses:r.responses.map(n=>n.id===e?m(m({},n),{},{[t]:a}):n)}))},h=e=>{switch(e){case"text":default:return(0,Qt.jsx)(Wo,{className:"w-4 h-4"});case"photo":return(0,Qt.jsx)(Qf,{className:"w-4 h-4"});case"video":return(0,Qt.jsx)(Yf,{className:"w-4 h-4"});case"audio":return(0,Qt.jsx)(Xf,{className:"w-4 h-4"})}};return(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Qt.jsx)("h2",{className:"text-xl font-bold",children:"Auto-Responder Avan\xe7ado"}),(0,Qt.jsxs)(zn,{onClick:()=>{o({id:Date.now().toString()+Math.random().toString(36),trigger:"",responses:[],enabled:!0}),n(!0)},className:"flex items-center gap-2",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4"})," Nova Sequ\xeancia"]})]}),(0,Qt.jsx)("div",{className:"grid gap-4",children:0===e.length?(0,Qt.jsx)(Un,{children:(0,Qt.jsx)(Hn,{className:"p-6 text-center text-gray-500",children:'Nenhuma sequ\xeancia criada ainda. Clique em "Nova Sequ\xeancia" para come\xe7ar.'})}):e.map(a=>(0,Qt.jsxs)(Un,{children:[(0,Qt.jsx)(Vn,{children:(0,Qt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)(Wn,{className:"text-lg",children:['Trigger: "',a.trigger,'"']}),(0,Qt.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[a.responses.length," resposta(s) \u2022 ",a.enabled?"\u2705 Ativa":"\u274c Inativa"]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>(e=>{o(m({},e)),n(!0)})(a),children:"Editar"}),(0,Qt.jsx)(zn,{variant:"destructive",size:"sm",onClick:()=>(async a=>{if(confirm("Tem certeza que deseja excluir esta sequ\xeancia?"))try{const n=e.filter(e=>e.id!==a);await jo.post("/config/auto-responder-sequences",{sequences:n}),t(n),Bt.success("Sequ\xeancia exclu\xedda!")}catch(n){console.error("Erro ao excluir:",n),Bt.error("Erro ao excluir sequ\xeancia")}})(a.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})]})}),(0,Qt.jsx)(Hn,{children:(0,Qt.jsx)("div",{className:"space-y-2",children:a.responses.map((e,t)=>(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[(0,Qt.jsxs)("span",{className:"font-bold text-sm",children:[t+1,"."]}),h(e.type),(0,Qt.jsx)("span",{className:"text-sm flex-1 truncate",children:"text"===e.type?e.content:"[".concat(e.type,"]")}),e.delay>0&&(0,Qt.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,Qt.jsx)(Xo,{className:"w-3 h-3"})," ",e.delay,"s"]})]},e.id))})})]},a.id))}),(0,Qt.jsx)(nu,{open:a,onOpenChange:n,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:null!==r&&void 0!==r&&r.id&&e.some(e=>e.id===r.id)?"Editar Sequ\xeancia":"Nova Sequ\xeancia"})}),r&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Palavra-Chave (Trigger)"}),(0,Qt.jsx)(On,{value:r.trigger,onChange:e=>o(m(m({},r),{},{trigger:e.target.value})),placeholder:"Ex: ajuda, info, tutorial"}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Quando o cliente digitar esta palavra, a sequ\xeancia ser\xe1 acionada"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:r.enabled,onChange:e=>o(m(m({},r),{},{enabled:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsx)("label",{className:"text-sm",children:"Sequ\xeancia ativa"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium",children:"Respostas Sequenciais"}),(0,Qt.jsxs)(zn,{size:"sm",onClick:()=>{if(!r)return;const e={id:Date.now().toString()+Math.random().toString(36),type:"text",content:"",delay:0};o(m(m({},r),{},{responses:[...r.responses,e]}))},className:"flex items-center gap-1",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4"})," Adicionar Resposta"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:r.responses.map((e,t)=>(0,Qt.jsx)(Un,{children:(0,Qt.jsxs)(Hn,{className:"p-4",children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Qt.jsxs)("h4",{className:"font-bold",children:["Resposta ",t+1]}),(0,Qt.jsx)(zn,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void o(m(m({},r),{},{responses:r.responses.filter(e=>e.id!==t)}));var t},className:"text-red-500 hover:text-red-700",children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]}),(0,Qt.jsxs)("div",{className:"mb-3",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),(0,Qt.jsxs)("select",{value:e.type,onChange:t=>{p(e.id,"type",t.target.value),"text"!==t.target.value&&p(e.id,"content","")},className:"w-full p-2 border rounded",children:[(0,Qt.jsx)("option",{value:"text",children:"Texto"}),(0,Qt.jsx)("option",{value:"photo",children:"Foto"}),(0,Qt.jsx)("option",{value:"video",children:"V\xeddeo"}),(0,Qt.jsx)("option",{value:"audio",children:"\xc1udio"})]})]}),(0,Qt.jsxs)("div",{className:"mb-3",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Conte\xfado"}),"text"===e.type?(0,Qt.jsx)(ll,{value:e.content,onChange:t=>p(e.id,"content",t.target.value),placeholder:"Digite a mensagem...",rows:3}):(0,Qt.jsxs)("div",{className:"space-y-2",children:[e.content&&(0,Qt.jsxs)("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-sm",children:["\u2705 Arquivo carregado: ",e.content.split("/").pop()]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"file",id:"file-".concat(e.id),accept:"photo"===e.type?"image/*":"video"===e.type?"video/*":"audio"===e.type?"audio/*":"*",onChange:t=>(async(e,t)=>{if(t){i(!0);try{const a=new FormData;a.append("file",t);const{data:n}=await jo.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"}});let s="file";"image"===n.kind?s="photo":"video"===n.kind?s="video":"audio"===n.kind&&(s="audio"),p(e,"content",n.url),p(e,"type",s),Bt.success("Arquivo enviado com sucesso!")}catch(a){console.error("Erro no upload:",a),Bt.error("Erro ao fazer upload do arquivo")}finally{i(!1)}}})(e.id,t.target.files[0]),className:"hidden",disabled:l}),(0,Qt.jsxs)(zn,{type:"button",variant:"outline",onClick:()=>document.getElementById("file-".concat(e.id)).click(),disabled:l,className:"flex items-center gap-2",children:[(0,Qt.jsx)(Df,{className:"w-4 h-4"}),l?"Enviando...":"Upload Arquivo"]})]})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Delay (segundos)"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"range",min:"0",max:"60",value:e.delay,onChange:t=>p(e.id,"delay",parseInt(t.target.value)),className:"flex-1"}),(0,Qt.jsxs)("span",{className:"w-12 text-center font-bold",children:[e.delay,"s"]})]}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tempo de espera antes de enviar esta resposta"})]})]})},e.id))})]}),(0,Qt.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),(0,Qt.jsxs)(zn,{onClick:async()=>{if(!r.trigger.trim())return void Bt.error("Digite uma palavra-chave para acionar a sequ\xeancia");if(0===r.responses.length)return void Bt.error("Adicione pelo menos uma resposta");const a=r.responses.filter(e=>!e.content.trim());if(a.length>0)Bt.error("Todas as respostas devem ter conte\xfado");else{d(!0);try{const a=e.some(e=>e.id===r.id)?e.map(e=>e.id===r.id?r:e):[...e,r];await jo.post("/config/auto-responder-sequences",{sequences:a}),t(a),n(!1),o(null),Bt.success("Sequ\xeancia salva com sucesso!")}catch(s){console.error("Erro ao salvar:",s),Bt.error("Erro ao salvar sequ\xeancia")}finally{d(!1)}}},disabled:c,className:"flex items-center gap-2",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4"}),c?"Salvando...":"Salvar Sequ\xeancia"]})]})]})]})})]})},Zf=na("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),ex=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{const{data:e}=await jo.get("/config/tutorials-advanced");t(e)}catch(e){console.error("Erro ao carregar tutoriais:",e),Bt.error("Erro ao carregar tutoriais")}},p=(e,t,a)=>{o(m(m({},r),{},{items:r.items.map(n=>n.id===e?m(m({},n),{},{[t]:a}):n)}))},h=e=>{switch(e){case"text":default:return(0,Qt.jsx)(Wo,{className:"w-4 h-4"});case"photo":return(0,Qt.jsx)(Qf,{className:"w-4 h-4"});case"video":return(0,Qt.jsx)(Yf,{className:"w-4 h-4"});case"audio":return(0,Qt.jsx)(Xf,{className:"w-4 h-4"})}},f=e.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});return(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Qt.jsx)("h2",{className:"text-xl font-bold",children:"Tutoriais & Aplicativos"}),(0,Qt.jsxs)(zn,{onClick:()=>{o({id:Date.now().toString()+Math.random().toString(36),category:"",title:"",items:[],enabled:!0}),n(!0)},className:"flex items-center gap-2",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4"})," Novo Tutorial"]})]}),(0,Qt.jsx)("div",{className:"space-y-6",children:0===Object.keys(f).length?(0,Qt.jsx)(Un,{children:(0,Qt.jsx)(Hn,{className:"p-6 text-center text-gray-500",children:'Nenhum tutorial criado ainda. Clique em "Novo Tutorial" para come\xe7ar.'})}):Object.entries(f).map(a=>{let[s,r]=a;return(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Qt.jsx)(Zf,{className:"w-5 h-5 text-blue-600"}),(0,Qt.jsx)("h3",{className:"text-lg font-bold text-blue-600",children:s}),(0,Qt.jsxs)("span",{className:"text-sm text-gray-500",children:["(",r.length,")"]})]}),(0,Qt.jsx)("div",{className:"grid gap-4",children:r.map(a=>(0,Qt.jsxs)(Un,{children:[(0,Qt.jsx)(Vn,{children:(0,Qt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)(Wn,{className:"text-lg",children:a.title}),(0,Qt.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[a.items.length," item(ns) \u2022 ",a.enabled?"\u2705 Ativo":"\u274c Inativo"]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>(e=>{o(m({},e)),n(!0)})(a),children:"Editar"}),(0,Qt.jsx)(zn,{variant:"destructive",size:"sm",onClick:()=>(async a=>{if(confirm("Tem certeza que deseja excluir este tutorial?"))try{const n=e.filter(e=>e.id!==a);await jo.post("/config/tutorials-advanced",{tutorials:n}),t(n),Bt.success("Tutorial exclu\xeddo!")}catch(n){console.error("Erro ao excluir:",n),Bt.error("Erro ao excluir tutorial")}})(a.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})]})}),(0,Qt.jsx)(Hn,{children:(0,Qt.jsxs)("div",{className:"space-y-2",children:[a.items.slice(0,3).map((e,t)=>(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[(0,Qt.jsxs)("span",{className:"font-bold text-sm",children:[t+1,"."]}),h(e.type),(0,Qt.jsx)("span",{className:"text-sm flex-1 truncate",children:"text"===e.type?e.content:"[".concat(e.type,"]")}),e.delay>0&&(0,Qt.jsxs)("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,Qt.jsx)(Xo,{className:"w-3 h-3"})," ",e.delay,"s"]})]},e.id)),a.items.length>3&&(0,Qt.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["... e mais ",a.items.length-3," item(ns)"]})]})})]},a.id))})]},s)})}),(0,Qt.jsx)(nu,{open:a,onOpenChange:n,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:null!==r&&void 0!==r&&r.id&&e.some(e=>e.id===r.id)?"Editar Tutorial":"Novo Tutorial"})}),r&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Categoria"}),(0,Qt.jsx)(On,{value:r.category,onChange:e=>o(m(m({},r),{},{category:e.target.value})),placeholder:"Ex: Setup, FAQ, Como Usar"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"T\xedtulo"}),(0,Qt.jsx)(On,{value:r.title,onChange:e=>o(m(m({},r),{},{title:e.target.value})),placeholder:"Ex: Como fazer login"})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:r.enabled,onChange:e=>o(m(m({},r),{},{enabled:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsx)("label",{className:"text-sm",children:"Tutorial ativo"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium",children:"Itens do Tutorial"}),(0,Qt.jsxs)(zn,{size:"sm",onClick:()=>{if(!r)return;const e={id:Date.now().toString()+Math.random().toString(36),type:"text",content:"",delay:0};o(m(m({},r),{},{items:[...r.items,e]}))},className:"flex items-center gap-1",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4"})," Adicionar Item"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:r.items.map((e,t)=>(0,Qt.jsx)(Un,{children:(0,Qt.jsxs)(Hn,{className:"p-4",children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Qt.jsxs)("h4",{className:"font-bold",children:["Item ",t+1]}),(0,Qt.jsx)(zn,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void o(m(m({},r),{},{items:r.items.filter(e=>e.id!==t)}));var t},className:"text-red-500 hover:text-red-700",children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]}),(0,Qt.jsxs)("div",{className:"mb-3",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),(0,Qt.jsxs)("select",{value:e.type,onChange:t=>{p(e.id,"type",t.target.value),"text"!==t.target.value&&p(e.id,"content","")},className:"w-full p-2 border rounded",children:[(0,Qt.jsx)("option",{value:"text",children:"Texto"}),(0,Qt.jsx)("option",{value:"photo",children:"Foto"}),(0,Qt.jsx)("option",{value:"video",children:"V\xeddeo"}),(0,Qt.jsx)("option",{value:"audio",children:"\xc1udio"})]})]}),(0,Qt.jsxs)("div",{className:"mb-3",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Conte\xfado"}),"text"===e.type?(0,Qt.jsx)(ll,{value:e.content,onChange:t=>p(e.id,"content",t.target.value),placeholder:"Digite o conte\xfado...",rows:3}):(0,Qt.jsxs)("div",{className:"space-y-2",children:[e.content&&(0,Qt.jsxs)("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-sm",children:["\u2705 Arquivo carregado: ",e.content.split("/").pop()]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"file",id:"file-".concat(e.id),accept:"photo"===e.type?"image/*":"video"===e.type?"video/*":"audio"===e.type?"audio/*":"*",onChange:t=>(async(e,t)=>{if(t){i(!0);try{const a=new FormData;a.append("file",t);const{data:n}=await jo.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"}});let s="file";"image"===n.kind?s="photo":"video"===n.kind?s="video":"audio"===n.kind&&(s="audio"),p(e,"content",n.url),p(e,"type",s),Bt.success("Arquivo enviado com sucesso!")}catch(a){console.error("Erro no upload:",a),Bt.error("Erro ao fazer upload do arquivo")}finally{i(!1)}}})(e.id,t.target.files[0]),className:"hidden",disabled:l}),(0,Qt.jsxs)(zn,{type:"button",variant:"outline",onClick:()=>document.getElementById("file-".concat(e.id)).click(),disabled:l,className:"flex items-center gap-2",children:[(0,Qt.jsx)(Df,{className:"w-4 h-4"}),l?"Enviando...":"Upload Arquivo"]})]})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Delay (segundos)"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"range",min:"0",max:"60",value:e.delay,onChange:t=>p(e.id,"delay",parseInt(t.target.value)),className:"flex-1"}),(0,Qt.jsxs)("span",{className:"w-12 text-center font-bold",children:[e.delay,"s"]})]}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tempo de espera antes de enviar este item"})]})]})},e.id))})]}),(0,Qt.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),(0,Qt.jsxs)(zn,{onClick:async()=>{if(!r.title.trim())return void Bt.error("Digite um t\xedtulo para o tutorial");if(!r.category.trim())return void Bt.error("Digite uma categoria");if(0===r.items.length)return void Bt.error("Adicione pelo menos um item ao tutorial");if(r.items.filter(e=>!e.content.trim()).length>0)Bt.error("Todos os itens devem ter conte\xfado");else{d(!0);try{const a=e.some(e=>e.id===r.id)?e.map(e=>e.id===r.id?r:e):[...e,r];await jo.post("/config/tutorials-advanced",{tutorials:a}),t(a),n(!1),o(null),Bt.success("Tutorial salvo com sucesso!")}catch(a){console.error("Erro ao salvar:",a),Bt.error("Erro ao salvar tutorial")}finally{d(!1)}}},disabled:c,className:"flex items-center gap-2",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4"}),c?"Salvando...":"Salvar Tutorial"]})]})]})]})})]})},tx=na("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ax=na("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),nx=na("square-check-big",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),sx=na("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),rx=na("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ox=na("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),lx=na("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),ix=na("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),cx=e=>{let{connection:t,onClose:a,onRefreshQR:n,onRestartSession:r}=e;const[o,l]=(0,s.useState)(1),[i,c]=(0,s.useState)("howto"),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(null===t||void 0===t?void 0:t.qr_code);(0,s.useEffect)(()=>{if(2===o&&"connected"!==(null===t||void 0===t?void 0:t.status)){const e=setInterval(async()=>{console.log("\ud83d\udd04 Auto-refresh QR Code a cada 40s..."),await h()},4e4);return()=>clearInterval(e)}},[o,null===t||void 0===t?void 0:t.status]),(0,s.useEffect)(()=>{if(2===o&&"connected"!==(null===t||void 0===t?void 0:t.status)){const e=setInterval(async()=>{console.log("\ud83d\udd0d Verificando status da conex\xe3o...");try{const e=await fetch("".concat("http://151.243.218.223","/api/whatsapp/connections"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const n=(await e.json()).find(e=>e.id===t.id);n&&"connected"===n.status&&(console.log("\u2705 WhatsApp CONECTADO!"),alert("\u2705 WhatsApp conectado com sucesso!"),a(),window.location.reload())}}catch(e){console.error("Erro ao verificar status:",e)}},3e3);return()=>clearInterval(e)}},[o,t]),(0,s.useEffect)(()=>{null!==t&&void 0!==t&&t.qr_code&&p(t.qr_code)},[null===t||void 0===t?void 0:t.qr_code]);const h=async()=>{u(!0);try{const e=await n(t.id);null!==e&&void 0!==e&&e.qr_code&&p(e.qr_code)}catch(e){console.error("Erro ao atualizar QR:",e)}setTimeout(()=>u(!1),1e3)},f=()=>{l(2)};return t?1===o?(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full p-8 relative animate-fade-in",children:[(0,Qt.jsx)("button",{onClick:a,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,Qt.jsx)(Xd,{size:24})}),(0,Qt.jsxs)("div",{className:"text-center mb-8",children:[(0,Qt.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,Qt.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Qt.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,Qt.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"WhatsApp Starter"})]}),(0,Qt.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-6 rounded-r",children:(0,Qt.jsxs)("div",{className:"flex items-start",children:[(0,Qt.jsx)(ix,{className:"text-yellow-600 mr-3 flex-shrink-0 mt-1",size:24}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Limpe as sess\xf5es no seu aparelho antes de continuar"}),(0,Qt.jsxs)("div",{className:"space-y-3 text-gray-700",children:[(0,Qt.jsx)("p",{className:"font-medium",children:"1. Abra o WhatsApp em seu celular"}),(0,Qt.jsxs)("ul",{className:"ml-4 space-y-2",children:[(0,Qt.jsxs)("li",{className:"flex items-start",children:[(0,Qt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Qt.jsxs)("span",{children:[(0,Qt.jsx)("strong",{children:"Android:"})," Toque em Mais informa\xe7\xf5es \u2192 Aparelhos conectados"]})]}),(0,Qt.jsxs)("li",{className:"flex items-start",children:[(0,Qt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Qt.jsxs)("span",{children:[(0,Qt.jsx)("strong",{children:"iPhone:"})," Toque em Configura\xe7\xf5es \u2192 Aparelhos conectados"]})]})]}),(0,Qt.jsx)("p",{className:"font-medium",children:"2. Toque em um aparelho conectado."}),(0,Qt.jsx)("p",{className:"font-medium",children:"3. Toque em DESCONECTAR."})]})]})]})}),(0,Qt.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Qt.jsx)("button",{onClick:a,className:"px-6 py-3 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),(0,Qt.jsx)("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"J\xe1 limpei as sess\xf5es e quero continuar"})]})]})}):(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[(0,Qt.jsx)("button",{onClick:a,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 z-10",children:(0,Qt.jsx)(Xd,{size:24})}),(0,Qt.jsxs)("div",{className:"p-8",children:[(0,Qt.jsxs)("div",{className:"text-center mb-6",children:[(0,Qt.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,Qt.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Qt.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),(0,Qt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sincronize a IAZE com o seu WhatsApp!"})]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("div",{className:"border-b border-gray-200 mb-4",children:(0,Qt.jsxs)("div",{className:"flex gap-4",children:[(0,Qt.jsx)("button",{onClick:()=>c("howto"),className:"pb-3 px-1 border-b-2 transition-colors ".concat("howto"===i?"border-blue-600 text-blue-600 font-medium":"border-transparent text-gray-500 hover:text-gray-700"),children:"Como sincronizar"}),(0,Qt.jsx)("button",{onClick:()=>c("recommendations"),className:"pb-3 px-1 border-b-2 transition-colors ".concat("recommendations"===i?"border-blue-600 text-blue-600 font-medium":"border-transparent text-gray-500 hover:text-gray-700"),children:"Recomenda\xe7\xf5es"})]})}),"howto"===i?(0,Qt.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,Qt.jsx)("p",{className:"font-medium",children:"1. Abra o WhatsApp em seu celular"}),(0,Qt.jsxs)("ul",{className:"ml-4 space-y-2",children:[(0,Qt.jsxs)("li",{className:"flex items-start",children:[(0,Qt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Qt.jsxs)("span",{children:[(0,Qt.jsx)("strong",{children:"Android:"})," Toque em Mais informa\xe7\xf5es \u2192 ConnectedDevices"]})]}),(0,Qt.jsxs)("li",{className:"flex items-start",children:[(0,Qt.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,Qt.jsxs)("span",{children:[(0,Qt.jsx)("strong",{children:"iPhone:"})," Toque em Configura\xe7\xf5es \u2192 ConnectedDevices"]})]})]}),(0,Qt.jsx)("p",{className:"font-medium",children:"2. Toque em Conectar um aparelho."}),(0,Qt.jsx)("p",{className:"font-medium",children:"3. Aponte seu celular para esta tela para capturar o c\xf3digo gerado."}),(0,Qt.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Qt.jsxs)("a",{href:"#",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[(0,Qt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Qt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Este processo \xe9 seguro?"]})})]}):(0,Qt.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Qt.jsx)("p",{className:"font-medium text-blue-900 mb-2",children:"\ud83d\udcf1 Use um celular exclusivo"}),(0,Qt.jsx)("p",{className:"text-sm text-blue-800",children:"Recomendamos usar um n\xfamero de WhatsApp dedicado para atendimento."})]}),(0,Qt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,Qt.jsx)("p",{className:"font-medium text-green-900 mb-2",children:"\ud83d\udd14 Mantenha as notifica\xe7\xf5es ativas"}),(0,Qt.jsx)("p",{className:"text-sm text-green-800",children:"Isso garante que voc\xea receber\xe1 todas as mensagens em tempo real."})]}),(0,Qt.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Qt.jsx)("p",{className:"font-medium text-yellow-900 mb-2",children:"\u26a1 Conex\xe3o est\xe1vel"}),(0,Qt.jsx)("p",{className:"text-sm text-yellow-800",children:"Certifique-se de ter uma conex\xe3o de internet est\xe1vel no celular."})]})]})]}),(0,Qt.jsx)("div",{className:"flex flex-col items-center",children:"connected"===t.status?(0,Qt.jsxs)("div",{className:"text-center p-8",children:[(0,Qt.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:(0,Qt.jsx)(Yo,{className:"text-green-600",size:40})}),(0,Qt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"\u2705 WhatsApp Conectado!"}),(0,Qt.jsx)("p",{className:"text-gray-600 mb-4",children:"Seu WhatsApp est\xe1 sincronizado e pronto para uso."}),(0,Qt.jsx)("button",{onClick:a,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Fechar"})]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6 mb-4 relative",children:[d&&(0,Qt.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:(0,Qt.jsx)(rx,{className:"animate-spin text-blue-600",size:40})}),m?(0,Qt.jsx)("img",{src:m,alt:"QR Code WhatsApp",className:"w-64 h-64 object-contain"}):(0,Qt.jsx)("div",{className:"w-64 h-64 flex items-center justify-center bg-gray-100 rounded",children:(0,Qt.jsx)(rx,{className:"animate-spin text-gray-400",size:40})})]}),(0,Qt.jsxs)("a",{href:"#",className:"text-blue-600 hover:underline text-sm mb-6 flex items-center gap-1",children:[(0,Qt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Qt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Por que o c\xf3digo muda?"]}),(0,Qt.jsx)("p",{className:"text-sm text-gray-500 mb-6 text-center",children:"\u23f1\ufe0f QR Code v\xe1lido por 60 segundos. Ser\xe1 renovado automaticamente a cada 40s."})]})})]}),"connected"!==t.status&&(0,Qt.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200 flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,Qt.jsxs)("p",{className:"text-sm text-gray-600",children:["Problema com a conex\xe3o? ",(0,Qt.jsx)("a",{href:"#",className:"text-blue-600 hover:underline",children:"Estamos online"})]}),(0,Qt.jsxs)("div",{className:"flex gap-3",children:[(0,Qt.jsx)("button",{onClick:()=>r(t.id),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Reiniciar sess\xe3o"}),(0,Qt.jsxs)("button",{onClick:h,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,Qt.jsx)(rx,{size:16,className:d?"animate-spin":""}),"Gerar um novo QR Code"]})]})]})]})]})}):null},dx=()=>{var e;const[t,a]=(0,s.useState)([]),[n,r]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(null),[h,f]=(0,s.useState)(null),[x,g]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null),[k,_]=(0,s.useState)(!1);(0,s.useEffect)(()=>{S();const e=setInterval(S,1e4);return()=>clearInterval(e)},[]);const S=async()=>{try{const e=y?"/whatsapp/connections/inactive":"/whatsapp/connections",[t,n,s]=await Promise.all([jo.get(e),jo.get("/whatsapp/config"),jo.get("/whatsapp/stats")]);if(a(t.data),r(n.data),l(s.data),g(n.data.transfer_message||""),h&&d){const e=t.data.find(e=>e.id===h);e&&e.connected&&(console.log("\u2705 Conex\xe3o detectada! Fechando modal..."),u(null),p(null),f(null))}c(!1)}catch(e){console.error("Error loading WhatsApp data:",e),c(!1)}},[C,E]=(0,s.useState)(!1),A=async(e,t,a)=>{try{const n=Date.now(),s="IAZE_".concat(n);console.log("Criando sess\xe3o via proxy backend:",s);const r=await jo.post("/whatsapp/proxy/start-session/".concat(s));console.log("Sess\xe3o WPPConnect criada via proxy:",r.data);await jo.post("/whatsapp/connections/manual",{reseller_id:e,instance_name:s,max_received_daily:parseInt(t),max_sent_daily:parseInt(a),wpp_data:r.data});alert('\u2705 Conex\xe3o criada! Clique em "Ver QR Code" para conectar.'),S()}catch(r){var n,s;console.error("Erro no m\xe9todo direto WPPConnect:",r);let e="N\xe3o foi poss\xedvel conectar ao WPPConnect";null!==(n=r.response)&&void 0!==n&&null!==(s=n.data)&&void 0!==s&&s.detail?e=r.response.data.detail:r.message&&(e=r.message),alert("\u274c ".concat(e,"\n\nVerifique se o WPPConnect est\xe1 rodando no servidor Hetzner."))}},T=async e=>{try{const t=await jo.post("/whatsapp/connections/".concat(e,"/refresh-qr"));if(t.data.success)return await S(),t.data}catch(n){var t,a;console.error("Error refreshing QR code:",n),alert("Erro ao gerar novo QR Code: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||n.message))}},[R,P]=(0,s.useState)([]),[z,I]=(0,s.useState)(!1),O=async e=>{try{await(async e=>{try{const t=await jo.post("/whatsapp/connections/".concat(e,"/refresh-status"));console.log("\u2705 Status atualizado:",t.data),S(),t.data.connected&&(alert("\u2705 WhatsApp conectado com sucesso!"),h===e&&(u(null),p(null),f(null)))}catch(n){var t,a;console.error("Error refreshing status:",n),alert("\u274c Erro ao verificar status: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||n.message))}})(e),alert("\u2705 Status verificado e atualizado!")}catch(t){alert("\u274c Erro ao sincronizar")}},D=e=>{switch(e){case"connected":return(0,Qt.jsx)(Yo,{className:"w-5 h-5 text-green-500"});case"connecting":return(0,Qt.jsx)(tx,{className:"w-5 h-5 text-yellow-500"});default:return(0,Qt.jsx)(ax,{className:"w-5 h-5 text-red-500"})}},M=e=>{switch(e){case"connected":return"Conectado";case"connecting":return"Conectando...";default:return"Desconectado"}};return i?(0,Qt.jsx)("div",{className:"p-6 text-center",children:"Carregando..."}):(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsx)(Un,{className:"p-4 bg-red-50 border-red-200",children:(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-semibold text-red-900",children:"\ud83d\udea8 Corre\xe7\xe3o de Erros"}),(0,Qt.jsx)("p",{className:"text-sm text-red-700",children:z?"Selecione as conex\xf5es que deseja limpar":"Se houver algum erro 500 ou conex\xe3o travada, use estas op\xe7\xf5es para corrigir."})]}),(0,Qt.jsx)("div",{className:"flex gap-2",children:z?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(zn,{onClick:()=>{I(!1),P([])},variant:"outline",children:"Cancelar"}),(0,Qt.jsxs)(zn,{onClick:async()=>{if(0!==R.length){if(confirm("Limpar ".concat(R.length," conex\xe3o(\xf5es) selecionada(s)?")))try{for(const e of R)try{await jo.delete("/whatsapp/connections/".concat(e))}catch(Dv){console.log("Erro ao deletar:",Dv)}P([]),I(!1),alert("\u2705 Conex\xf5es selecionadas limpas!"),S()}catch(e){alert("\u2705 Limpeza conclu\xedda!"),S()}}else alert("\u26a0\ufe0f Selecione pelo menos uma conex\xe3o para limpar.")},className:"bg-red-600 hover:bg-red-700 text-white",disabled:0===R.length,children:[(0,Qt.jsx)(nl,{className:"w-4 h-4 mr-2"}),"Limpar ",R.length>0?"(".concat(R.length,")"):""]})]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)(zn,{onClick:()=>I(!0),variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:[(0,Qt.jsx)(nx,{className:"w-4 h-4 mr-2"}),"Limpar Selecionadas"]}),(0,Qt.jsxs)(zn,{onClick:async()=>{if(confirm("\u26a0\ufe0f Isso vai limpar TODAS as conex\xf5es WhatsApp do Evolution API e do banco de dados.\n\nEsta a\xe7\xe3o \xe9 irrevers\xedvel. Deseja continuar?"))try{const e=await jo.post("/whatsapp/cleanup-all",{});console.log("Cleanup result:",e.data);const{deleted_from_evolution:t,deleted_from_db:a,errors:n}=e.data;let s="\u2705 Limpeza completa realizada!\n\n";s+="- Inst\xe2ncias removidas da Evolution API: ".concat(t,"\n"),s+="- Registros removidos do banco de dados: ".concat(a,"\n"),n&&n.length>0&&(s+="\n\u26a0\ufe0f Alguns erros ocorreram:\n".concat(n.join("\n"))),alert(s),setTimeout(()=>{window.location.reload()},1e3)}catch(e){console.error("Error in cleanup:",e),alert("\u26a0\ufe0f Limpeza executada. A p\xe1gina ser\xe1 recarregada.\n\nSe o erro persistir, entre em contato com o suporte."),setTimeout(()=>{window.location.reload()},1e3)}},className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,Qt.jsx)(nl,{className:"w-4 h-4 mr-2"}),"Limpar Tudo"]})]})})]}),z&&t.length>0&&(0,Qt.jsxs)("div",{className:"mt-4 p-4 bg-white rounded border border-red-200",children:[(0,Qt.jsx)("p",{className:"text-sm font-semibold mb-3 text-gray-700",children:"Selecione as conex\xf5es para limpar:"}),(0,Qt.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.map(e=>(0,Qt.jsxs)("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:R.includes(e.id),onChange:()=>{return t=e.id,void P(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-4 h-4"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("span",{className:"font-medium",children:e.phone_number||e.instance_name}),(0,Qt.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("connected"===e.status?"bg-green-100 text-green-700":"connecting"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:"connected"===e.status?"Conectado":"connecting"===e.status?"Conectando":"Desconectado"})]}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500",children:["Inst\xe2ncia: ",e.instance_name]})]})]},e.id))}),(0,Qt.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,Qt.jsx)("button",{onClick:()=>{R.length===t.length?P([]):P(t.map(e=>e.id))},className:"text-sm text-blue-600 hover:text-blue-700",children:R.length===t.length?"Desmarcar Todas":"Selecionar Todas"})})]}),z&&0===t.length&&(0,Qt.jsx)("div",{className:"mt-4 p-4 bg-white rounded border border-red-200",children:(0,Qt.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Nenhuma conex\xe3o dispon\xedvel para limpar."})})]})}),o&&(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"N\xfameros Conectados"}),(0,Qt.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[o.active_connections,"/",o.total_connections]})]}),(0,Qt.jsx)(To,{className:"w-8 h-8 text-green-500"})]})}),(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Plano Atual"}),(0,Qt.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null===(e=o.plan)||void 0===e?void 0:e.name)||"B\xe1sico"})]}),(0,Qt.jsx)(sx,{className:"w-8 h-8 text-purple-500"})]})}),(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Recebidas Hoje"}),(0,Qt.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:o.total_received_today})]}),(0,Qt.jsx)(sx,{className:"w-8 h-8 text-blue-500"})]})}),(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Enviadas Hoje"}),(0,Qt.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:o.total_sent_today})]}),(0,Qt.jsx)(sx,{className:"w-8 h-8 text-orange-500"})]})})]}),(0,Qt.jsxs)("div",{className:"flex gap-4",children:[(0,Qt.jsx)(zn,{onClick:async()=>{if(C)console.log("\u26a0\ufe0f J\xe1 existe uma conex\xe3o sendo criada. Aguarde...");else{console.log("\ud83d\udd27 [DEBUG] handleAddConnection iniciado - Vers\xe3o 2.0.3");try{const n=prompt("Limite de mensagens RECEBIDAS por dia:","200"),s=prompt("Limite de mensagens ENVIADAS por dia:","200");if(!n||!s)return;E(!0);const r=JSON.parse(localStorage.getItem("user_data"));console.log("\ud83d\udd27 [DEBUG] userData:",r);let o=null===r||void 0===r?void 0:r.reseller_id;if(void 0===o&&(console.warn("\u26a0\ufe0f [DEBUG] reseller_id est\xe1 undefined - convertendo para null"),o=null),console.log("\ud83d\udd27 [DEBUG] resellerId (corrigido):",o),!r)return console.log("\ud83d\udd27 [DEBUG] userData n\xe3o existe!"),alert("\u274c Erro: Dados do usu\xe1rio n\xe3o encontrados. Fa\xe7a login novamente."),void E(!1);console.log("\ud83d\udd27 [DEBUG] Valida\xe7\xe3o OK - Enviando para backend..."),console.log("Criando conex\xe3o WhatsApp:",{resellerId:o,maxReceived:n,maxSent:s});try{const e=await jo.post("/whatsapp/connections",{reseller_id:o||null,max_received_daily:parseInt(n),max_sent_daily:parseInt(s)});return console.log("\u2705 Conex\xe3o criada com sucesso:",e.data),e.data.qr_code?(f(e.data),_(!0),Bt.success("\u2705 Conex\xe3o criada! Escaneie o QR Code para conectar.")):Bt.success('\u2705 Conex\xe3o criada! Aguarde alguns segundos e clique em "Ver QR Code".'),void await S()}catch(a){var e,t;if(409===(null===(e=a.response)||void 0===e?void 0:e.status)){const e=a.response.data.detail;return void N({message:e.message,connection:e.connection,options:e.options,maxReceived:parseInt(n),maxSent:parseInt(s),resellerId:o})}if(503===(null===(t=a.response)||void 0===t?void 0:t.status))return console.log("Backend n\xe3o conseguiu acessar WPPConnect, tentando m\xe9todo direto..."),alert("\u26a0\ufe0f M\xe9todo alternativo sendo usado... aguarde."),void await A(o,n,s);throw a}}catch(n){console.error("Erro detalhado ao criar conex\xe3o:",n);let e="Erro ao criar conex\xe3o WhatsApp";if(n.response){const{data:t,status:a}=n.response;503===a?e="\u26a0\ufe0f Evolution API n\xe3o est\xe1 dispon\xedvel.\n\nPara conectar n\xfameros WhatsApp, \xe9 necess\xe1rio que a Evolution API esteja rodando.\n\nEntre em contato com o suporte.":400===a?e=(null===t||void 0===t?void 0:t.detail)||"Requisi\xe7\xe3o inv\xe1lida":"string"===typeof t?(e=t,(e.toLowerCase().includes("already in use")||e.includes("j\xe1 est\xe1 em uso"))&&(e+='\n\n\ud83d\udca1 SOLU\xc7\xc3O:\n\n1. Clique no bot\xe3o vermelho "Limpar Tudo"\n2. Confirme a limpeza\n3. Aguarde a p\xe1gina recarregar\n4. Tente adicionar o n\xfamero novamente\n\nIsso vai remover inst\xe2ncias antigas da Evolution API.')):null!==t&&void 0!==t&&t.detail?(e=t.detail,(e.toLowerCase().includes("already in use")||e.includes("j\xe1 est\xe1 em uso"))&&(e+='\n\n\ud83d\udca1 SOLU\xc7\xc3O:\n\n1. Clique no bot\xe3o vermelho "Limpar Tudo"\n2. Confirme a limpeza\n3. Aguarde a p\xe1gina recarregar\n4. Tente adicionar o n\xfamero novamente\n\nIsso vai remover inst\xe2ncias antigas da Evolution API.')):e=null!==t&&void 0!==t&&t.message?t.message:"Erro ".concat(a,": ").concat(JSON.stringify(t))}else n.message&&(e=n.message);(e.toLowerCase().includes("already in use")||e.includes("j\xe1 est\xe1 em uso"))&&(e.includes("\ud83d\udca1 SOLU\xc7\xc3O")||(e+='\n\n\ud83d\udca1 SOLU\xc7\xc3O:\n\n1. Clique no bot\xe3o vermelho "Limpar Tudo"\n2. Confirme a limpeza\n3. Aguarde a p\xe1gina recarregar\n4. Tente adicionar o n\xfamero novamente\n\nIsso vai remover inst\xe2ncias antigas da Evolution API.')),alert("\u274c "+e)}finally{E(!1)}}},disabled:C,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:C?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(rx,{className:"w-4 h-4 mr-2 animate-spin"}),"Criando..."]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(To,{className:"w-4 h-4 mr-2"}),"Adicionar N\xfamero"]})}),(0,Qt.jsxs)(zn,{onClick:()=>{j(!y),S()},variant:"outline",className:y?"bg-blue-50 border-blue-300":"",children:[y?(0,Qt.jsx)(ox,{className:"w-4 h-4 mr-2"}):(0,Qt.jsx)(Jo,{className:"w-4 h-4 mr-2"}),y?"Mostrar Ativas":"Mostrar Desativadas"]}),(0,Qt.jsxs)(zn,{onClick:()=>b(!v),variant:"outline",children:[(0,Qt.jsx)(Mo,{className:"w-4 h-4 mr-2"}),"Configura\xe7\xf5es"]})]}),v&&(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\u2699\ufe0f Configura\xe7\xf5es"}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Mensagem de Transfer\xeancia",(0,Qt.jsx)("span",{className:"text-slate-500 text-xs ml-2",children:"(Enviada quando rotaciona para outro n\xfamero)"})]}),(0,Qt.jsx)("textarea",{value:x,onChange:e=>g(e.target.value),className:"w-full border rounded p-2 min-h-[100px]",placeholder:"\u23f3 Sua mensagem est\xe1 sendo transferida para outro atendente..."})]}),(0,Qt.jsx)(zn,{onClick:async()=>{try{await jo.put("/whatsapp/config",{transfer_message:x}),alert("\u2705 Configura\xe7\xf5es salvas!"),b(!1),S()}catch(a){var e,t;alert("\u274c Erro ao salvar: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}},className:"bg-purple-600 hover:bg-purple-700",children:"\ud83d\udcbe Salvar Configura\xe7\xf5es"})]})]}),(0,Qt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e,a)=>(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,Qt.jsx)(To,{className:"w-5 h-5"}),"N\xfamero ",a+1]}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:e.instance_name}),e.phone_number&&(0,Qt.jsx)("p",{className:"text-sm font-mono text-blue-600",children:e.phone_number})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[D(e.status),(0,Qt.jsx)("span",{className:"text-sm",children:M(e.status)})]})]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 p-4 bg-slate-50 rounded",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-xs text-slate-600",children:"Recebidas Hoje"}),(0,Qt.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:[e.received_today||0,"/",e.max_received_daily]}),(0,Qt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-1",children:(0,Qt.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat((e.received_today||0)/e.max_received_daily*100,"%")}})})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-xs text-slate-600",children:"Enviadas Hoje"}),(0,Qt.jsxs)("p",{className:"text-lg font-bold text-orange-600",children:[e.sent_today||0,"/",e.max_sent_daily]}),(0,Qt.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-1",children:(0,Qt.jsx)("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"".concat((e.sent_today||0)/e.max_sent_daily*100,"%")}})})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["connected"!==e.status&&(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)(zn,{onClick:()=>(async e=>{try{const t=(await jo.get("/whatsapp/connections")).data.find(t=>t.id===e);if(!t)return void alert("Conex\xe3o n\xe3o encontrada");f(e),_(!0),t.qr_code||await T(e)}catch(n){var t,a;console.error("Error showing QR code:",n),alert("Erro ao exibir QR Code: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||n.message))}})(e.id),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:[(0,Qt.jsx)(lx,{className:"w-4 h-4 mr-2"}),"Ver QR Code"]}),(0,Qt.jsxs)(zn,{onClick:()=>(async e=>{const t=prompt("Digite o n\xfamero do WhatsApp (com DDI):\n\nExemplo: 5511999999999\n\n(C\xf3digo do pa\xeds + DDD + n\xfamero)");if(t)if(t.length<12||!t.match(/^\d+$/))alert("\u274c N\xfamero inv\xe1lido! Use apenas n\xfameros com DDI.\n\nExemplo: 5511999999999");else try{const a=await jo.post("/whatsapp/connections/".concat(e,"/pairing-code?phone_number=").concat(t));a.data.pairing_code?(p({code:a.data.pairing_code,phone:t,connectionId:e}),u(null),f(e)):alert("\u274c N\xe3o foi poss\xedvel gerar o c\xf3digo. Tente novamente.")}catch(s){var a,n;console.error("Error generating pairing code:",s);const e=(null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||"Erro ao gerar c\xf3digo. Verifique o n\xfamero e tente novamente.";alert("\u274c "+e)}})(e.id),className:"bg-green-600 hover:bg-green-700",size:"sm",children:[(0,Qt.jsx)(To,{className:"w-4 h-4 mr-2"}),"C\xf3digo de 8 D\xedgitos"]})]}),"connected"===e.status&&(0,Qt.jsxs)(zn,{onClick:()=>(async e=>{if(confirm("Deseja realmente desconectar este n\xfamero WhatsApp?"))try{await jo.delete("/whatsapp/connections/".concat(e)),alert("\u2705 N\xfamero desconectado com sucesso!"),S()}catch(n){var t,a;console.error("Error disconnecting:",n),alert("\u274c Erro ao desconectar: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||n.message))}})(e.id),className:"bg-red-600 hover:bg-red-700",size:"sm",children:[(0,Qt.jsx)(ax,{className:"w-4 h-4 mr-2"}),"Desconectar"]}),(0,Qt.jsxs)(zn,{onClick:()=>(async e=>{if(confirm("Deseja reiniciar a conex\xe3o deste n\xfamero?"))try{var a,n,s;const r=t.find(t=>t.id===e);if(!r)return;await jo.delete("/whatsapp/connections/".concat(e));const o=null===(a=JSON.parse(localStorage.getItem("user_data")))||void 0===a?void 0:a.reseller_id;await jo.post("/whatsapp/connections",{reseller_id:o,max_received_daily:(null===(n=r.limits)||void 0===n?void 0:n.max_received_per_day)||500,max_sent_daily:(null===(s=r.limits)||void 0===s?void 0:s.max_sent_per_day)||500}),alert('\u2705 Conex\xe3o reiniciada! Aguarde alguns segundos e clique em "Ver QR Code".'),S()}catch(l){var r,o;console.error("Error restarting:",l),alert("\u274c Erro ao reiniciar: "+((null===(r=l.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.detail)||l.message))}})(e.id),className:"bg-orange-600 hover:bg-orange-700",size:"sm",title:"Reiniciar conex\xe3o (\xfatil quando travado)",children:[(0,Qt.jsx)(rx,{className:"w-4 h-4 mr-2"}),"Reiniciar"]}),(0,Qt.jsx)(zn,{onClick:()=>O(e.id),variant:"outline",size:"sm",title:"Atualizar status",children:(0,Qt.jsx)(rx,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{onClick:()=>(async e=>{const a=t.find(t=>t.id===e),n=prompt("Limite de mensagens RECEBIDAS por dia:",a.max_received_daily),s=prompt("Limite de mensagens ENVIADAS por dia:",a.max_sent_daily);if(n&&s)try{await jo.put("/whatsapp/connections/".concat(e),{max_received_daily:parseInt(n),max_sent_daily:parseInt(s)}),alert("\u2705 Limites atualizados!"),S()}catch(l){var r,o;alert("\u274c Erro ao atualizar: "+((null===(r=l.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.detail)||l.message))}})(e.id),variant:"outline",size:"sm",title:"Configurar limites",children:(0,Qt.jsx)(Mo,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{onClick:()=>(async e=>{if(window.confirm("Deseja realmente deletar esta conex\xe3o WhatsApp?"))try{await jo.delete("/whatsapp/connections/".concat(e)),alert("\u2705 Conex\xe3o deletada!"),S()}catch(n){var t,a;alert("\u274c Erro ao deletar: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||n.message))}})(e.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",title:"Deletar conex\xe3o",children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})]},e.id))}),k&&h&&(0,Qt.jsx)(cx,{connection:t.find(e=>e.id===h),onClose:()=>{_(!1),f(null),u(null),p(null)},onRefreshQR:T,onRestartSession:async e=>{try{if(!confirm("Tem certeza que deseja reiniciar a sess\xe3o? Isso ir\xe1 desconectar e recriar a inst\xe2ncia."))return;const t=await jo.post("/whatsapp/connections/".concat(e,"/restart-session"));if(t.data.success)return alert("\u2705 Sess\xe3o reiniciada com sucesso! Novo QR Code gerado."),await S(),t.data}catch(n){var t,a;console.error("Error restarting session:",n),alert("Erro ao reiniciar sess\xe3o: "+((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||n.message))}}}),m&&(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>p(null),children:(0,Qt.jsxs)(Un,{className:"p-8 max-w-md",onClick:e=>e.stopPropagation(),children:[(0,Qt.jsx)("h3",{className:"text-xl font-bold mb-4 text-center",children:"\ud83d\udd22 C\xf3digo de Pareamento"}),(0,Qt.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 p-6 rounded-lg mb-4 text-center",children:[(0,Qt.jsx)("p",{className:"text-sm text-green-700 mb-2",children:"C\xf3digo para o n\xfamero:"}),(0,Qt.jsx)("p",{className:"font-mono text-lg font-bold text-green-800 mb-4",children:m.phone}),(0,Qt.jsx)("div",{className:"text-4xl font-bold text-green-600 tracking-widest font-mono",children:m.code})]}),(0,Qt.jsxs)("div",{className:"text-sm text-slate-600 space-y-2",children:[(0,Qt.jsxs)("p",{children:["1. Abra o WhatsApp no celular ",(0,Qt.jsx)("strong",{children:m.phone})]}),(0,Qt.jsxs)("p",{children:["2. V\xe1 em: ",(0,Qt.jsx)("strong",{children:"Configura\xe7\xf5es \u2192 Aparelhos conectados"})]}),(0,Qt.jsxs)("p",{children:["3. Toque em ",(0,Qt.jsx)("strong",{children:"Conectar aparelho"})]}),(0,Qt.jsxs)("p",{children:["4. Escolha ",(0,Qt.jsx)("strong",{children:'"Conectar com c\xf3digo"'})]}),(0,Qt.jsxs)("p",{children:["5. Digite o c\xf3digo: ",(0,Qt.jsx)("strong",{className:"font-mono text-green-600",children:m.code})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-center text-slate-500 mt-4",children:"C\xf3digo v\xe1lido por alguns minutos. N\xe3o compartilhe com terceiros."}),(0,Qt.jsx)(zn,{onClick:()=>p(null),className:"w-full mt-4",children:"Fechar"})]})}),w&&(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qt.jsxs)(Un,{className:"p-8 max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,Qt.jsx)("h3",{className:"text-xl font-bold mb-4 text-center text-orange-600",children:"\u26a0\ufe0f Conex\xe3o J\xe1 Existe"}),(0,Qt.jsxs)("div",{className:"bg-orange-50 border-2 border-orange-200 p-6 rounded-lg mb-6",children:[(0,Qt.jsx)("p",{className:"text-sm text-orange-900 mb-4",children:(0,Qt.jsx)("strong",{children:w.message})}),(0,Qt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Qt.jsxs)("p",{children:[(0,Qt.jsx)("strong",{children:"Inst\xe2ncia:"})," ",w.connection.instance_name]}),(0,Qt.jsxs)("p",{children:[(0,Qt.jsx)("strong",{children:"Status:"})," ",(0,Qt.jsx)("span",{className:"px-2 py-1 rounded ".concat("connected"===w.connection.status?"bg-green-100 text-green-700":"connecting"===w.connection.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:"connected"===w.connection.status?"Conectado":"connecting"===w.connection.status?"Conectando":"Desconectado"})]}),w.connection.phone_number&&(0,Qt.jsxs)("p",{children:[(0,Qt.jsx)("strong",{children:"N\xfamero:"})," ",w.connection.phone_number]}),(0,Qt.jsxs)("p",{children:[(0,Qt.jsx)("strong",{children:"Criada em:"})," ",new Date(w.connection.created_at).toLocaleString("pt-BR")]})]})]}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Voc\xea tem duas op\xe7\xf5es:"}),(0,Qt.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Qt.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-slate-50 cursor-pointer",onClick:async()=>{if(w)try{const e=await jo.post("/whatsapp/connections/".concat(w.connection.id,"/reactivate"));alert("\u2705 "+e.data.message),N(null),j(!0),S()}catch(a){var e,t;console.error("Erro ao reativar:",a),alert("\u274c Erro ao reativar conex\xe3o: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}},children:[(0,Qt.jsx)("h4",{className:"font-semibold text-green-700 mb-1",children:"\u2705 Reativar Conex\xe3o Existente"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Usar a mesma conex\xe3o que j\xe1 existe. Voc\xea poder\xe1 gerar um novo QR Code para conectar."})]}),(0,Qt.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-slate-50 cursor-pointer",onClick:async()=>{if(w&&confirm("Confirma deletar a conex\xe3o existente e criar uma nova?"))try{await jo.delete("/whatsapp/connections/".concat(w.connection.id)),await new Promise(e=>setTimeout(e,2e3));await jo.post("/whatsapp/connections",{reseller_id:w.resellerId,max_received_daily:w.maxReceived,max_sent_daily:w.maxSent});alert('\u2705 Conex\xe3o antiga deletada e nova criada com sucesso!\n\nClique em "Ver QR Code" para conectar.'),N(null),S()}catch(a){var e,t;console.error("Erro ao deletar e recriar:",a),alert("\u274c Erro: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}},children:[(0,Qt.jsx)("h4",{className:"font-semibold text-red-700 mb-1",children:"\ud83d\uddd1\ufe0f Deletar e Criar Nova"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Deletar a conex\xe3o existente (Evolution API + Banco) e criar uma completamente nova."})]})]}),(0,Qt.jsx)(zn,{onClick:()=>N(null),variant:"outline",className:"w-full",children:"Cancelar"})]})}),(null===o||void 0===o?void 0:o.plan)&&(0,Qt.jsx)(Un,{className:"p-4 bg-purple-50 border-purple-200",children:(0,Qt.jsxs)("p",{className:"text-sm text-purple-900",children:[(0,Qt.jsxs)("strong",{children:["Plano ",o.plan.name,":"]})," At\xe9 ",-1===o.plan.max_numbers?"ilimitados":o.plan.max_numbers," n\xfameros WhatsApp.",o.total_connections>=o.plan.max_numbers&&-1!==o.plan.max_numbers&&(0,Qt.jsx)("span",{className:"text-red-600 ml-2",children:"\u26a0\ufe0f Limite atingido! Entre em contato com o admin para fazer upgrade."})]})})]})};var ux=s.forwardRef((e,t)=>(0,Qt.jsx)(El.label,m(m({},e),{},{ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));ux.displayName="Label";var mx=ux;const px=["className"],hx=ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fx=s.forwardRef((e,t)=>{let{className:a}=e,n=l(e,px);return(0,Qt.jsx)(mx,m({ref:t,className:Tn(hx(),a)},n))});fx.displayName=mx.displayName;const xx="http://151.243.218.223",gx=()=>{const[e,t]=(0,s.useState)({access_token:"",public_key:"",webhook_secret:"",enabled:!0}),[a,n]=(0,s.useState)(!0),[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=localStorage.getItem("token"),a=await fetch("".concat(xx,"/api/admin/mercado-pago/config"),{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){const e=await a.json();e.config&&t(e.config)}}catch(e){console.error("Error fetching config:",e)}finally{n(!1)}};return a?(0,Qt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsx)(Un,{className:"p-6 bg-gradient-to-r from-blue-600 to-cyan-600 text-white",children:(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center",children:(0,Qt.jsx)(Ko,{className:"w-8 h-8"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h2",{className:"text-2xl font-bold mb-1",children:"Configura\xe7\xf5es Mercado Pago"}),(0,Qt.jsx)("p",{className:"text-blue-100",children:"Configure suas credenciais para receber pagamentos via PIX"})]})]})}),u&&(0,Qt.jsx)(Un,{className:"p-4 ".concat("success"===u.type?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:["success"===u.type?(0,Qt.jsx)(Yo,{className:"w-5 h-5 text-green-600"}):(0,Qt.jsx)(tx,{className:"w-5 h-5 text-red-600"}),(0,Qt.jsx)("p",{className:"success"===u.type?"text-green-800":"text-red-800",children:u.text})]})}),(0,Qt.jsxs)(Un,{className:"p-6 bg-yellow-50 border-yellow-200",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2 text-yellow-900",children:[(0,Qt.jsx)(tx,{className:"w-5 h-5"}),"Como obter suas credenciais"]}),(0,Qt.jsxs)("ol",{className:"space-y-2 text-sm text-yellow-800",children:[(0,Qt.jsxs)("li",{children:[(0,Qt.jsx)("strong",{children:"1."})," Acesse: ",(0,Qt.jsx)("a",{href:"https://www.mercadopago.com.br/developers/panel/app",target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:"Painel do Mercado Pago"})]}),(0,Qt.jsxs)("li",{children:[(0,Qt.jsx)("strong",{children:"2."})," Fa\xe7a login com sua conta"]}),(0,Qt.jsxs)("li",{children:[(0,Qt.jsx)("strong",{children:"3."}),' V\xe1 em "Suas integra\xe7\xf5es" \u2192 "Criar aplica\xe7\xe3o"']}),(0,Qt.jsxs)("li",{children:[(0,Qt.jsx)("strong",{children:"4."}),' Escolha "Pagamentos online"']}),(0,Qt.jsxs)("li",{children:[(0,Qt.jsx)("strong",{children:"5."})," Copie o ",(0,Qt.jsx)("strong",{children:"Access Token"})," e ",(0,Qt.jsx)("strong",{children:"Public Key"})]}),(0,Qt.jsxs)("li",{children:[(0,Qt.jsx)("strong",{children:"6."}),' Cole abaixo e clique em "Salvar"']})]})]}),(0,Qt.jsx)(Un,{className:"p-6",children:(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)(fx,{className:"text-base font-semibold mb-2 block",children:"Access Token (Credencial Secreta)"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Token privado usado para criar pagamentos. Mantenha em segredo!"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(On,{type:l?"text":"password",value:e.access_token,onChange:a=>t(m(m({},e),{},{access_token:a.target.value})),placeholder:"APP_USR-1234567890123456-012345-abcdef1234567890abcdef1234567890-123456789",className:"pr-10 font-mono text-sm"}),(0,Qt.jsx)("button",{type:"button",onClick:()=>i(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:l?(0,Qt.jsx)(ox,{className:"w-4 h-4"}):(0,Qt.jsx)(Jo,{className:"w-4 h-4"})})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)(fx,{className:"text-base font-semibold mb-2 block",children:"Public Key (Chave P\xfablica)"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Chave p\xfablica usada no frontend. Pode ser compartilhada."}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(On,{type:c?"text":"password",value:e.public_key,onChange:a=>t(m(m({},e),{},{public_key:a.target.value})),placeholder:"APP_USR-abcdef12-3456-7890-abcd-ef1234567890",className:"pr-10 font-mono text-sm"}),(0,Qt.jsx)("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?(0,Qt.jsx)(ox,{className:"w-4 h-4"}):(0,Qt.jsx)(Jo,{className:"w-4 h-4"})})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)(fx,{className:"text-base font-semibold mb-2 block",children:"Webhook Secret (Opcional)"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Para validar webhooks. Deixe em branco se n\xe3o souber."}),(0,Qt.jsx)(On,{type:"text",value:e.webhook_secret,onChange:a=>t(m(m({},e),{},{webhook_secret:a.target.value})),placeholder:"seu-secret-aqui (opcional)",className:"font-mono text-sm"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("input",{type:"checkbox",id:"enabled",checked:e.enabled,onChange:a=>t(m(m({},e),{},{enabled:a.target.checked})),className:"w-5 h-5 text-blue-600"}),(0,Qt.jsx)(fx,{htmlFor:"enabled",className:"text-base font-medium cursor-pointer",children:"Habilitar pagamentos Mercado Pago"})]}),(0,Qt.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Qt.jsx)(zn,{onClick:async()=>{o(!0),p(null);try{const t=localStorage.getItem("token"),a=await fetch("".concat(xx,"/api/admin/mercado-pago/config"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(a.ok)p({type:"success",text:"Configura\xe7\xf5es salvas com sucesso!"});else{const e=await a.json();p({type:"error",text:e.detail||"Erro ao salvar configura\xe7\xf5es"})}}catch(t){console.error("Error saving config:",t),p({type:"error",text:"Erro ao salvar configura\xe7\xf5es"})}finally{o(!1)}},disabled:r||!e.access_token||!e.public_key,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:r?(0,Qt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Salvando..."]}):"Salvar Configura\xe7\xf5es"}),(0,Qt.jsx)(zn,{onClick:async()=>{if(e.access_token)try{const a=localStorage.getItem("token"),n=await fetch("".concat(xx,"/api/admin/mercado-pago/test"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({access_token:e.access_token})});if(n.ok){var t;const e=await n.json();p({type:"success",text:"Conex\xe3o OK! Conta: ".concat((null===(t=e.account_info)||void 0===t?void 0:t.email)||"Verificada")})}else p({type:"error",text:"Erro ao testar conex\xe3o. Verifique o Access Token."})}catch(a){p({type:"error",text:"Erro ao testar conex\xe3o"})}else p({type:"error",text:"Preencha o Access Token primeiro"})},disabled:!e.access_token,variant:"outline",className:"px-6",children:"Testar Conex\xe3o"})]})]})}),(0,Qt.jsx)(Un,{className:"p-4 bg-blue-50 border-blue-200",children:(0,Qt.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Qt.jsx)("strong",{children:"\ud83d\udca1 Dica:"})," Todas as revendas far\xe3o pagamentos que cair\xe3o na SUA conta do Mercado Pago. O sistema de b\xf4nus \xe9 gerenciado internamente e n\xe3o afeta os valores recebidos."]})})]})},vx=na("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),bx=na("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),yx=na("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),jx="http://151.243.218.223";const wx=function(){var e,t,a,n,r,o,l,i,c,d,u,p,h,f,x,g,v,b,y,j,w,N,k,_,S,C,E,A,T,R,P,z,I,O,D,M,L,F,B,q,U,V,W,H,G,$,K,Q,Y,X,J,Z,ee,te,ae,ne,se,re,oe,le,ie,ce,de,ue,me,pe,he,fe,xe,ge,ve,be,ye,je,we;const[Ne,ke]=(0,s.useState)("instructions"),[_e,Se]=(0,s.useState)({empresa_nome:"CyberTV",usa_ia:!0,is_active:!0,mode:"ia",ia_config:{name:"Juliana",role:"Consultora de Vendas",personality:"Profissional, amig\xe1vel e prestativa",instructions:"Voc\xea \xe9 Juliana, consultora de vendas especializada em IPTV.\n\n**SUAS RESPONSABILIDADES:**\n1. Atender clientes com cordialidade\n2. Responder d\xfavidas sobre produtos IPTV\n3. Gerar testes gratuitos quando solicitado\n4. Transferir para humano quando necess\xe1rio\n\n**REGRAS IMPORTANTES:**\n- Seja sempre educada e profissional\n- Responda de forma clara e objetiva\n- Uma pergunta por vez\n- Se n\xe3o souber, seja honesta\n\n**PRODUTOS:**\n- Plano B\xe1sico: R$ 29,90/m\xeas\n- Plano Premium: R$ 49,90/m\xeas\n- Plano VIP: R$ 79,90/m\xeas",knowledge_base:{enabled:!0,sources:[{type:"url",url:"https://site.suporte.help/base-conhecimento.html",description:"Base principal de conhecimento"}],fallback_text:"Informa\xe7\xf5es adicionais sobre produtos e servi\xe7os"},llm_provider:"openai",llm_model:"gpt-4o-mini",temperature:.7,max_tokens:500,top_p:1,api_key:"",use_system_key:!0,auto_transfer_keywords:["humano","atendente","pessoa","falar com algu\xe9m"],greeting_message:"Ol\xe1! Sou a Juliana, como posso ajudar voc\xea hoje?",fallback_message:"Desculpe, n\xe3o entendi. Pode reformular?",transfer_message:"Vou transferir voc\xea para um atendente humano. Aguarde...",conversation_history_limit:10,remember_context:!0},visual_config:{agent_photo:"",agent_name_display:"Juliana Silva",show_verified_badge:!0,theme_color:"#0084ff",background_image:"",welcome_banner:"",chat_position:"bottom-right",chat_size:"medium"},external_apis:{teste_iptv:{enabled:!0,url:"https://gesth.io/api/get-teste?hash=TG1OTW5QWHlaTW5Q",method:"GET",headers:{},trigger_keywords:["teste","testar","teste gr\xe1tis"]},consulta_credito:{enabled:!1,url:"",method:"POST",headers:{},trigger_keywords:["cr\xe9dito","saldo","consultar"]}},flows:{teste_gratis:{enabled:!0,require_app_install:!0,app_url:"https://suporte.help",steps:["Confirmar interesse","Solicitar WhatsApp","Gerar credenciais","Enviar instru\xe7\xf5es"]},vendas:{enabled:!0,collect_data:["nome","whatsapp","interesse"],payment_methods:["Pix","Cart\xe3o"]}},integrations:{whatsapp:{enabled:!0,instance_name:""},email:{enabled:!1,smtp_config:{}},webhook:{enabled:!1,url:"",events:[]}},analytics:{track_conversations:!0,track_conversions:!0,track_user_satisfaction:!1}}),[Ce,Ee]=(0,s.useState)(!1),[Ae,Te]=(0,s.useState)(!0),[Re,Pe]=(0,s.useState)(!1),[ze,Ie]=(0,s.useState)(!1),[Oe,De]=(0,s.useState)(null);(0,s.useEffect)(()=>{Me()},[]);const Me=async()=>{try{Te(!0);const e=await fetch("".concat(jx,"/api/admin/vendas-bot/simple-config"));if(e.ok){const t=await e.json();Se(e=>m(m(m({},e),t),{},{ia_config:m(m({},e.ia_config),t.ia_inline||t.ia_config||{}),visual_config:m(m({},e.visual_config),t.visual_config||t.agent_profile||{}),external_apis:m(m({},e.external_apis),t.external_apis||{})}))}}catch(e){console.error("Erro ao carregar config:",e)}finally{Te(!1)}};return Ae?(0,Qt.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Qt.jsx)("p",{className:"text-gray-600",children:"Carregando configura\xe7\xe3o..."})]})}):(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,Qt.jsx)(Wo,{className:"text-blue-600",size:24})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"WA Site - Configura\xe7\xe3o Completa"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Todas as configura\xe7\xf5es do seu chat de vendas em um s\xf3 lugar"})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsxs)("button",{onClick:()=>{const e=JSON.stringify(_e,null,2),t="data:application/json;charset=utf-8,"+encodeURIComponent(e),a="wa-site-config-".concat(Date.now(),".json"),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",a),n.click()},className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200",children:[(0,Qt.jsx)(vx,{size:18}),"Exportar"]}),(0,Qt.jsxs)("label",{className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 cursor-pointer",children:[(0,Qt.jsx)(Df,{size:18}),"Importar",(0,Qt.jsx)("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);Se(t),alert("\u2705 Configura\xe7\xe3o importada! Clique em Salvar para aplicar.")}catch(t){alert("\u274c Erro ao importar: arquivo inv\xe1lido")}},e.readAsText(t)}},className:"hidden"})]}),(0,Qt.jsxs)("button",{onClick:async()=>{try{var e;Pe(!0);const t=await fetch("".concat(jx,"/api/vendas/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Teste",whatsapp:"5511999999999"})}),a=await t.json();alert("\u2705 Teste OK! Resposta: ".concat((null===(e=a.messages[0])||void 0===e?void 0:e.text)||"Sem resposta"))}catch(t){alert("\u274c Erro no teste: "+t.message)}finally{Pe(!1)}},disabled:Re,className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,Qt.jsx)(Ho,{size:18}),Re?"Testando...":"Testar IA"]}),(0,Qt.jsxs)("button",{onClick:async()=>{try{Ee(!0);if(!(await fetch("".concat(jx,"/api/admin/vendas-bot/simple-config"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_e)})).ok)throw new Error("Erro ao salvar");alert("\u2705 Configura\xe7\xe3o salva com sucesso!"),await Me()}catch(e){console.error("Erro ao salvar:",e),alert("\u274c Erro ao salvar configura\xe7\xe3o")}finally{Ee(!1)}},disabled:Ce,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Qt.jsx)(Qo,{size:18}),Ce?"Salvando...":"Salvar Tudo"]})]})]}),(0,Qt.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full ".concat(_e.usa_ia?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:[_e.usa_ia?(0,Qt.jsx)(Yo,{size:16}):(0,Qt.jsx)(tx,{size:16}),(0,Qt.jsxs)("span",{className:"text-sm font-medium",children:["IA ",_e.usa_ia?"Ativada":"Desativada"]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full ".concat(null!==(e=_e.ia_config)&&void 0!==e&&e.api_key||null!==(t=_e.ia_config)&&void 0!==t&&t.use_system_key?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"),children:[(0,Qt.jsx)(bx,{size:16}),(0,Qt.jsx)("span",{className:"text-sm font-medium",children:null!==(a=_e.ia_config)&&void 0!==a&&a.use_system_key?"Chave do Sistema":null!==(n=_e.ia_config)&&void 0!==n&&n.api_key?"Chave Pr\xf3pria":"Sem API Key"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-purple-100 text-purple-700",children:[(0,Qt.jsx)(Zo,{size:16}),(0,Qt.jsx)("span",{className:"text-sm font-medium",children:(null===(r=_e.ia_config)||void 0===r?void 0:r.llm_model)||"gpt-4o-mini"})]})]}),(0,Qt.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[(0,Qt.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,Qt.jsx)(Ho,{size:16,className:"text-blue-600"}),"Modo de Opera\xe7\xe3o do WA Site"]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Qt.jsx)("button",{onClick:()=>Se(m(m({},_e),{},{mode:"ia",usa_ia:!0})),className:"p-3 rounded-lg border-2 transition-all ".concat("ia"===_e.mode?"border-blue-600 bg-blue-100 text-blue-800":"border-gray-200 bg-white text-gray-600 hover:border-blue-300"),children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)(Zo,{size:24,className:"mx-auto mb-1"}),(0,Qt.jsx)("p",{className:"text-xs font-semibold",children:"ATIVO IA"}),(0,Qt.jsx)("p",{className:"text-[10px] text-gray-500 mt-1",children:"Apenas IA responde"})]})}),(0,Qt.jsx)("button",{onClick:()=>Se(m(m({},_e),{},{mode:"button",usa_ia:!1})),className:"p-3 rounded-lg border-2 transition-all ".concat("button"===_e.mode?"border-purple-600 bg-purple-100 text-purple-800":"border-gray-200 bg-white text-gray-600 hover:border-purple-300"),children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,Qt.jsx)("p",{className:"text-xs font-semibold mt-1",children:"ATIVO BOT\xc3O"}),(0,Qt.jsx)("p",{className:"text-[10px] text-gray-500 mt-1",children:"Apenas bot\xf5es"})]})}),(0,Qt.jsx)("button",{onClick:()=>Se(m(m({},_e),{},{mode:"hybrid",usa_ia:!0})),className:"p-3 rounded-lg border-2 transition-all ".concat("hybrid"===_e.mode?"border-green-600 bg-green-100 text-green-800":"border-gray-200 bg-white text-gray-600 hover:border-green-300"),children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsxs)("div",{className:"flex justify-center gap-1 mb-1",children:[(0,Qt.jsx)(Zo,{size:20}),(0,Qt.jsx)("span",{className:"text-lg",children:"\ud83c\udfaf"})]}),(0,Qt.jsx)("p",{className:"text-xs font-semibold",children:"ATIVO H\xcdBRIDO"}),(0,Qt.jsx)("p",{className:"text-[10px] text-gray-500 mt-1",children:"Bot\xf5es + IA"})]})})]}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-600 mt-3 text-center",children:["ia"===_e.mode&&"\ud83e\udd16 IA responde automaticamente todas as mensagens","button"===_e.mode&&"\ud83c\udfaf Clientes usam apenas bot\xf5es interativos","hybrid"===_e.mode&&"\ud83d\udd00 Combina bot\xf5es interativos com respostas da IA"]})]})]}),(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Qt.jsx)("div",{className:"border-b border-gray-200",children:(0,Qt.jsx)("nav",{className:"flex -mb-px",children:[{id:"instructions",label:"Instru\xe7\xf5es & Personalidade",icon:yx},{id:"knowledge",label:"Base de Conhecimento",icon:Vf},{id:"settings",label:"Modelo & Comportamento",icon:Mo},{id:"api",label:"API Keys & Integra\xe7\xf5es",icon:bx},{id:"visual",label:"Apar\xeancia Visual",icon:Qf},{id:"flows",label:"Fluxos & Regras",icon:Ho}].map(e=>(0,Qt.jsxs)("button",{onClick:()=>ke(e.id),className:"\n                  flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors\n                  ".concat(Ne===e.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                "),children:[(0,Qt.jsx)(e.icon,{size:18}),e.label]},e.id))})}),(0,Qt.jsxs)("div",{className:"p-6",children:["instructions"===Ne&&(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da IA"}),(0,Qt.jsx)("input",{type:"text",value:(null===(o=_e.ia_config)||void 0===o?void 0:o.name)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{name:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Juliana"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cargo/Fun\xe7\xe3o"}),(0,Qt.jsx)("input",{type:"text",value:(null===(l=_e.ia_config)||void 0===l?void 0:l.role)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{role:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Consultora de Vendas"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personalidade"}),(0,Qt.jsx)("input",{type:"text",value:(null===(i=_e.ia_config)||void 0===i?void 0:i.personality)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{personality:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Profissional, amig\xe1vel e prestativa"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Instru\xe7\xf5es Completas da IA",(0,Qt.jsx)("span",{className:"text-gray-500 font-normal ml-2",children:"(O cora\xe7\xe3o do seu assistente)"})]}),(0,Qt.jsx)("textarea",{value:(null===(c=_e.ia_config)||void 0===c?void 0:c.instructions)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{instructions:e.target.value})})),rows:20,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Digite as instru\xe7\xf5es completas aqui... Exemplo:\nVoc\xea \xe9 [Nome], especialista em [\xc1rea]. **SUAS RESPONSABILIDADES:**\n- Atender clientes\n- Responder d\xfavidas\n- Gerar leads **REGRAS:**\n- Seja sempre educado\n- Responda de forma clara"}),(0,Qt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"\ud83d\udca1 Dica: Seja espec\xedfico! Quanto mais detalhado, melhor a IA vai performar."})]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem de Boas-Vindas"}),(0,Qt.jsx)("textarea",{value:(null===(d=_e.ia_config)||void 0===d?void 0:d.greeting_message)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{greeting_message:e.target.value})})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem de Fallback"}),(0,Qt.jsx)("textarea",{value:(null===(u=_e.ia_config)||void 0===u?void 0:u.fallback_message)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{fallback_message:e.target.value})})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem de Transfer\xeancia"}),(0,Qt.jsx)("textarea",{value:(null===(p=_e.ia_config)||void 0===p?void 0:p.transfer_message)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{transfer_message:e.target.value})})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]})]}),"knowledge"===Ne&&(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)(Vf,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-blue-900",children:"Sobre a Base de Conhecimento"}),(0,Qt.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"A IA vai buscar informa\xe7\xf5es automaticamente dessas fontes para complementar suas respostas. Pode ser uma URL, arquivo ou texto direto."})]})]})}),(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-gray-900",children:"Ativar Base de Conhecimento"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"A IA vai buscar informa\xe7\xf5es das fontes configuradas"})]}),(0,Qt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:(null===(h=_e.ia_config)||void 0===h||null===(f=h.knowledge_base)||void 0===f?void 0:f.enabled)||!1,onChange:e=>{var t;return Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{knowledge_base:m(m({},null===(t=_e.ia_config)||void 0===t?void 0:t.knowledge_base),{},{enabled:e.target.checked})})}))},className:"sr-only peer"}),(0,Qt.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(null===(x=_e.ia_config)||void 0===x||null===(g=x.knowledge_base)||void 0===g?void 0:g.enabled)&&(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Base de Conhecimento"}),(0,Qt.jsx)("input",{type:"url",value:(null===(v=_e.ia_config)||void 0===v||null===(b=v.knowledge_base)||void 0===b||null===(y=b.sources)||void 0===y||null===(j=y[0])||void 0===j?void 0:j.url)||"",onChange:e=>{var t,a,n;const s=(null===(t=_e.ia_config)||void 0===t||null===(a=t.knowledge_base)||void 0===a?void 0:a.sources)||[{}];s[0]=m(m({},s[0]),{},{url:e.target.value,type:"url"}),Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{knowledge_base:m(m({},null===(n=_e.ia_config)||void 0===n?void 0:n.knowledge_base),{},{sources:s})})}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://site.suporte.help/base-conhecimento.html"}),(0,Qt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"\ud83d\udca1 A IA vai acessar essa URL automaticamente para buscar informa\xe7\xf5es"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descri\xe7\xe3o da Fonte"}),(0,Qt.jsx)("input",{type:"text",value:(null===(w=_e.ia_config)||void 0===w||null===(N=w.knowledge_base)||void 0===N||null===(k=N.sources)||void 0===k||null===(_=k[0])||void 0===_?void 0:_.description)||"",onChange:e=>{var t,a,n;const s=(null===(t=_e.ia_config)||void 0===t||null===(a=t.knowledge_base)||void 0===a?void 0:a.sources)||[{}];s[0]=m(m({},s[0]),{},{description:e.target.value}),Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{knowledge_base:m(m({},null===(n=_e.ia_config)||void 0===n?void 0:n.knowledge_base),{},{sources:s})})}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Base principal de conhecimento sobre produtos IPTV"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto Adicional (Fallback)"}),(0,Qt.jsx)("textarea",{value:(null===(S=_e.ia_config)||void 0===S||null===(C=S.knowledge_base)||void 0===C?void 0:C.fallback_text)||"",onChange:e=>{var t;return Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{knowledge_base:m(m({},null===(t=_e.ia_config)||void 0===t?void 0:t.knowledge_base),{},{fallback_text:e.target.value})})}))},rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Informa\xe7\xf5es adicionais que a IA pode usar caso a URL n\xe3o esteja acess\xedvel..."}),(0,Qt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"\ud83d\udca1 Este texto ser\xe1 usado se a URL n\xe3o estiver dispon\xedvel"})]})]})]}),"settings"===Ne&&(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provedor LLM"}),(0,Qt.jsxs)("select",{value:(null===(E=_e.ia_config)||void 0===E?void 0:E.llm_provider)||"openai",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{llm_provider:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Qt.jsx)("option",{value:"openai",children:"OpenAI"}),(0,Qt.jsx)("option",{value:"anthropic",children:"Anthropic (Claude)"}),(0,Qt.jsx)("option",{value:"google",children:"Google (Gemini)"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo"}),(0,Qt.jsxs)("select",{value:(null===(A=_e.ia_config)||void 0===A?void 0:A.llm_model)||"gpt-4o-mini",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{llm_model:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:["openai"===(null===(T=_e.ia_config)||void 0===T?void 0:T.llm_provider)&&(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("option",{value:"gpt-4o-mini",children:"GPT-4o Mini (Recomendado)"}),(0,Qt.jsx)("option",{value:"gpt-4o",children:"GPT-4o"}),(0,Qt.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"})]}),"anthropic"===(null===(R=_e.ia_config)||void 0===R?void 0:R.llm_provider)&&(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("option",{value:"claude-3-5-sonnet",children:"Claude 3.5 Sonnet"}),(0,Qt.jsx)("option",{value:"claude-3-opus",children:"Claude 3 Opus"})]}),"google"===(null===(P=_e.ia_config)||void 0===P?void 0:P.llm_provider)&&(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("option",{value:"gemini-2.0-flash-exp",children:"Gemini 2.0 Flash"}),(0,Qt.jsx)("option",{value:"gemini-1.5-pro",children:"Gemini 1.5 Pro"})]})]})]})]}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",(null===(z=_e.ia_config)||void 0===z?void 0:z.temperature)||.7,(0,Qt.jsx)("span",{className:"text-gray-500 font-normal ml-2",children:"(Criatividade)"})]}),(0,Qt.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:(null===(I=_e.ia_config)||void 0===I?void 0:I.temperature)||.7,onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{temperature:parseFloat(e.target.value)})})),className:"w-full"}),(0,Qt.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Qt.jsx)("span",{children:"Mais Preciso"}),(0,Qt.jsx)("span",{children:"Mais Criativo"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens (Tamanho da Resposta)"}),(0,Qt.jsx)("input",{type:"number",value:(null===(O=_e.ia_config)||void 0===O?void 0:O.max_tokens)||500,onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{max_tokens:parseInt(e.target.value)})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Palavras-chave para Transferir Humano",(0,Qt.jsx)("span",{className:"text-gray-500 font-normal ml-2",children:"(separadas por v\xedrgula)"})]}),(0,Qt.jsx)("input",{type:"text",value:(null===(D=_e.ia_config)||void 0===D||null===(M=D.auto_transfer_keywords)||void 0===M?void 0:M.join(", "))||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{auto_transfer_keywords:e.target.value.split(",").map(e=>e.trim())})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"humano, atendente, pessoa, falar com algu\xe9m"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de Hist\xf3rico de Conversa"}),(0,Qt.jsx)("input",{type:"number",value:(null===(L=_e.ia_config)||void 0===L?void 0:L.conversation_history_limit)||10,onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{conversation_history_limit:parseInt(e.target.value)})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,Qt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"N\xfamero de mensagens anteriores que a IA vai lembrar"})]})]}),"api"===Ne&&(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)(tx,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-yellow-900",children:"Importante: API Keys"}),(0,Qt.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Voc\xea pode usar a chave do sistema (compartilhada) ou configurar sua pr\xf3pria chave para ter controle total dos custos e quotas."})]})]})}),(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-gray-900",children:"Usar Chave do Sistema"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Usar a chave compartilhada do sistema (mais f\xe1cil)"})]}),(0,Qt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:!1!==(null===(F=_e.ia_config)||void 0===F?void 0:F.use_system_key),onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{use_system_key:e.target.checked})})),className:"sr-only peer"}),(0,Qt.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),!(null!==(B=_e.ia_config)&&void 0!==B&&B.use_system_key)&&(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Sua API Key ","openai"===(null===(q=_e.ia_config)||void 0===q?void 0:q.llm_provider)?"OpenAI":null===(U=_e.ia_config)||void 0===U?void 0:U.llm_provider]}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)("input",{type:ze?"text":"password",value:(null===(V=_e.ia_config)||void 0===V?void 0:V.api_key)||"",onChange:e=>Se(m(m({},_e),{},{ia_config:m(m({},_e.ia_config),{},{api_key:e.target.value})})),className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono",placeholder:"sk-proj-..."}),(0,Qt.jsx)("button",{type:"button",onClick:()=>Ie(!ze),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:ze?(0,Qt.jsx)(ox,{size:20}):(0,Qt.jsx)(Jo,{size:20})})]}),(0,Qt.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["\ud83d\udca1 Obtenha sua chave em: ","openai"===(null===(W=_e.ia_config)||void 0===W?void 0:W.llm_provider)?"platform.openai.com/api-keys":"console do provedor"]})]}),(0,Qt.jsxs)("div",{className:"border-t pt-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"APIs Externas"}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-medium text-gray-900",children:"API de Teste IPTV"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Gerar testes gratuitos automaticamente"})]}),(0,Qt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:(null===(H=_e.external_apis)||void 0===H||null===(G=H.teste_iptv)||void 0===G?void 0:G.enabled)||!1,onChange:e=>{var t;return Se(m(m({},_e),{},{external_apis:m(m({},_e.external_apis),{},{teste_iptv:m(m({},null===(t=_e.external_apis)||void 0===t?void 0:t.teste_iptv),{},{enabled:e.target.checked})})}))},className:"sr-only peer"}),(0,Qt.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(null===($=_e.external_apis)||void 0===$||null===(K=$.teste_iptv)||void 0===K?void 0:K.enabled)&&(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da API"}),(0,Qt.jsx)("input",{type:"url",value:(null===(Q=_e.external_apis)||void 0===Q||null===(Y=Q.teste_iptv)||void 0===Y?void 0:Y.url)||"",onChange:e=>{var t;return Se(m(m({},_e),{},{external_apis:m(m({},_e.external_apis),{},{teste_iptv:m(m({},null===(t=_e.external_apis)||void 0===t?void 0:t.teste_iptv),{},{url:e.target.value})})}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://gesth.io/api/get-teste?hash=..."})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palavras-chave que Ativam (separadas por v\xedrgula)"}),(0,Qt.jsx)("input",{type:"text",value:(null===(X=_e.external_apis)||void 0===X||null===(J=X.teste_iptv)||void 0===J||null===(Z=J.trigger_keywords)||void 0===Z?void 0:Z.join(", "))||"",onChange:e=>{var t;return Se(m(m({},_e),{},{external_apis:m(m({},_e.external_apis),{},{teste_iptv:m(m({},null===(t=_e.external_apis)||void 0===t?void 0:t.teste_iptv),{},{trigger_keywords:e.target.value.split(",").map(e=>e.trim())})})}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"teste, testar, teste gr\xe1tis"})]})]})]})]})]}),"visual"===Ne&&(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Exibido"}),(0,Qt.jsx)("input",{type:"text",value:(null===(ee=_e.visual_config)||void 0===ee?void 0:ee.agent_name_display)||"",onChange:e=>Se(m(m({},_e),{},{visual_config:m(m({},_e.visual_config),{},{agent_name_display:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Juliana Silva"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Foto do Agente"}),(0,Qt.jsx)("input",{type:"url",value:(null===(te=_e.visual_config)||void 0===te?void 0:te.agent_photo)||"",onChange:e=>Se(m(m({},_e),{},{visual_config:m(m({},_e.visual_config),{},{agent_photo:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-gray-900",children:"Mostrar Selo de Verificado"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Exibir badge azul ao lado do nome"})]}),(0,Qt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:!1!==(null===(ae=_e.visual_config)||void 0===ae?void 0:ae.show_verified_badge),onChange:e=>Se(m(m({},_e),{},{visual_config:m(m({},_e.visual_config),{},{show_verified_badge:e.target.checked})})),className:"sr-only peer"}),(0,Qt.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor do Tema"}),(0,Qt.jsx)("input",{type:"color",value:(null===(ne=_e.visual_config)||void 0===ne?void 0:ne.theme_color)||"#0084ff",onChange:e=>Se(m(m({},_e),{},{visual_config:m(m({},_e.visual_config),{},{theme_color:e.target.value})})),className:"w-full h-12 border border-gray-300 rounded-lg"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posi\xe7\xe3o do Chat"}),(0,Qt.jsxs)("select",{value:(null===(se=_e.visual_config)||void 0===se?void 0:se.chat_position)||"bottom-right",onChange:e=>Se(m(m({},_e),{},{visual_config:m(m({},_e.visual_config),{},{chat_position:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Qt.jsx)("option",{value:"bottom-right",children:"Inferior Direito"}),(0,Qt.jsx)("option",{value:"bottom-left",children:"Inferior Esquerdo"}),(0,Qt.jsx)("option",{value:"fullscreen",children:"Tela Cheia"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tamanho do Chat"}),(0,Qt.jsxs)("select",{value:(null===(re=_e.visual_config)||void 0===re?void 0:re.chat_size)||"medium",onChange:e=>Se(m(m({},_e),{},{visual_config:m(m({},_e.visual_config),{},{chat_size:e.target.value})})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Qt.jsx)("option",{value:"small",children:"Pequeno"}),(0,Qt.jsx)("option",{value:"medium",children:"M\xe9dio"}),(0,Qt.jsx)("option",{value:"large",children:"Grande"})]})]})]}),"flows"===Ne&&(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)(Ho,{className:"text-purple-600 flex-shrink-0 mt-0.5",size:20}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-purple-900",children:"Fluxos Automatizados"}),(0,Qt.jsx)("p",{className:"text-sm text-purple-700 mt-1",children:"Configure fluxos espec\xedficos que a IA vai seguir automaticamente"})]})]})}),(0,Qt.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-gray-900",children:"Fluxo: Teste Gr\xe1tis"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Gerar teste IPTV automaticamente"})]}),(0,Qt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:(null===(oe=_e.flows)||void 0===oe||null===(le=oe.teste_gratis)||void 0===le?void 0:le.enabled)||!1,onChange:e=>{var t;return Se(m(m({},_e),{},{flows:m(m({},_e.flows),{},{teste_gratis:m(m({},null===(t=_e.flows)||void 0===t?void 0:t.teste_gratis),{},{enabled:e.target.checked})})}))},className:"sr-only peer"}),(0,Qt.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(null===(ie=_e.flows)||void 0===ie||null===(ce=ie.teste_gratis)||void 0===ce?void 0:ce.enabled)&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:(null===(de=_e.flows)||void 0===de||null===(ue=de.teste_gratis)||void 0===ue?void 0:ue.require_app_install)||!1,onChange:e=>{var t;return Se(m(m({},_e),{},{flows:m(m({},_e.flows),{},{teste_gratis:m(m({},null===(t=_e.flows)||void 0===t?void 0:t.teste_gratis),{},{require_app_install:e.target.checked})})}))},className:"rounded"}),(0,Qt.jsx)("label",{className:"text-sm text-gray-700",children:"Exigir instala\xe7\xe3o do app antes de gerar teste"})]}),(null===(me=_e.flows)||void 0===me||null===(pe=me.teste_gratis)||void 0===pe?void 0:pe.require_app_install)&&(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do App"}),(0,Qt.jsx)("input",{type:"url",value:(null===(he=_e.flows)||void 0===he||null===(fe=he.teste_gratis)||void 0===fe?void 0:fe.app_url)||"",onChange:e=>{var t;return Se(m(m({},_e),{},{flows:m(m({},_e.flows),{},{teste_gratis:m(m({},null===(t=_e.flows)||void 0===t?void 0:t.teste_gratis),{},{app_url:e.target.value})})}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://suporte.help"})]})]})]}),(0,Qt.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-gray-900",children:"Fluxo: Vendas"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Coletar dados e processar vendas"})]}),(0,Qt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:(null===(xe=_e.flows)||void 0===xe||null===(ge=xe.vendas)||void 0===ge?void 0:ge.enabled)||!1,onChange:e=>{var t;return Se(m(m({},_e),{},{flows:m(m({},_e.flows),{},{vendas:m(m({},null===(t=_e.flows)||void 0===t?void 0:t.vendas),{},{enabled:e.target.checked})})}))},className:"sr-only peer"}),(0,Qt.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(null===(ve=_e.flows)||void 0===ve||null===(be=ve.vendas)||void 0===be?void 0:be.enabled)&&(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados a Coletar (separados por v\xedrgula)"}),(0,Qt.jsx)("input",{type:"text",value:(null===(ye=_e.flows)||void 0===ye||null===(je=ye.vendas)||void 0===je||null===(we=je.collect_data)||void 0===we?void 0:we.join(", "))||"",onChange:e=>{var t;return Se(m(m({},_e),{},{flows:m(m({},_e.flows),{},{vendas:m(m({},null===(t=_e.flows)||void 0===t?void 0:t.vendas),{},{collect_data:e.target.value.split(",").map(e=>e.trim())})})}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"nome, whatsapp, email, interesse"})]})]})]})]})]}),(0,Qt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)(Uf,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-medium text-blue-900",children:"\ud83d\udca1 Dicas para Melhor Performance"}),(0,Qt.jsxs)("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[(0,Qt.jsx)("li",{children:"\u2022 Seja espec\xedfico nas instru\xe7\xf5es - quanto mais detalhado, melhor"}),(0,Qt.jsx)("li",{children:"\u2022 Use exemplos de conversas nas instru\xe7\xf5es"}),(0,Qt.jsx)("li",{children:"\u2022 Mantenha a base de conhecimento atualizada"}),(0,Qt.jsx)("li",{children:"\u2022 Teste regularmente para garantir qualidade"}),(0,Qt.jsx)("li",{children:"\u2022 Use Temperature entre 0.7-0.9 para respostas mais naturais"})]})]})]})})]})},Nx=na("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),kx=()=>{const[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!0),[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,p]=(0,s.useState)({label:"",response_text:"",action_type:"message"});(0,s.useEffect)(()=>{h()},[]);const h=async()=>{try{n(!0);const{data:e}=await jo.get("/admin/vendas-bot/buttons/config");t(e)}catch(e){console.error("Erro ao carregar config:",e),await f()}finally{n(!1)}},f=async()=>{try{const{data:e}=await jo.post("/admin/vendas-bot/buttons/create-default");t(e.config),Bt.success("Configura\xe7\xe3o padr\xe3o criada!")}catch(e){Bt.error("Erro ao criar configura\xe7\xe3o padr\xe3o")}},x=async a=>{try{await jo.put("/admin/vendas-bot/buttons/mode",null,{params:{mode:a}}),t(m(m({},e),{},{mode:a})),Bt.success("Modo alterado para: ".concat(a.toUpperCase()))}catch(n){Bt.error("Erro ao atualizar modo")}},g=function(){d(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),i(null),p({label:"",response_text:"",action_type:"message"}),o(!0)},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,Qt.jsxs)("div",{className:"mb-2",style:{marginLeft:"".concat(20*t,"px")},children:[(0,Qt.jsx)(Un,{className:"p-3",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[t>0&&(0,Qt.jsx)(Nx,{className:"w-4 h-4 text-gray-400"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("div",{className:"font-medium",children:e.label}),(0,Qt.jsxs)("div",{className:"text-sm text-gray-600",children:[e.response_text.substring(0,60),"..."]})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>g(e),children:(0,Qt.jsx)(tl,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>{i(e),p({label:e.label,response_text:e.response_text,action_type:e.action_type}),o(!0)},children:(0,Qt.jsx)(al,{className:"w-4 h-4"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(window.confirm("Deseja realmente excluir este bot\xe3o?"))try{await jo.delete("/admin/vendas-bot/buttons/button/".concat(e)),await h(),Bt.success("Bot\xe3o removido!")}catch(t){Bt.error("Erro ao remover bot\xe3o")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]})]})}),e.sub_buttons&&e.sub_buttons.length>0&&(0,Qt.jsx)("div",{className:"mt-2",children:e.sub_buttons.map(e=>v(e,t+1))})]},e.id)};return a?(0,Qt.jsx)("div",{className:"p-4",children:"Carregando..."}):e?(0,Qt.jsxs)("div",{className:"p-6 max-w-6xl",children:[(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\ud83c\udfaf Sistema de Bot\xf5es Interativos"}),(0,Qt.jsxs)(Un,{className:"p-4 mb-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold mb-3",children:"Modo de Opera\xe7\xe3o:"}),(0,Qt.jsxs)("div",{className:"flex gap-3",children:[(0,Qt.jsxs)(zn,{variant:"button"===e.mode?"default":"outline",onClick:()=>x("button"),className:"flex-1",children:[(0,Qt.jsx)(Wo,{className:"w-4 h-4 mr-2"}),"APENAS BOT\xd5ES"]}),(0,Qt.jsxs)(zn,{variant:"ia"===e.mode?"default":"outline",onClick:()=>x("ia"),className:"flex-1",children:[(0,Qt.jsx)(Zo,{className:"w-4 h-4 mr-2"}),"APENAS IA"]}),(0,Qt.jsxs)(zn,{variant:"hibrido"===e.mode?"default":"outline",onClick:()=>x("hibrido"),className:"flex-1",children:[(0,Qt.jsx)(Ho,{className:"w-4 h-4 mr-2"}),"H\xcdBRIDO (Bot\xf5es + IA)"]})]}),(0,Qt.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["button"===e.mode&&"\ud83d\udcf1 Apenas bot\xf5es interativos ativos","ia"===e.mode&&"\ud83e\udd16 Apenas IA respondendo","hibrido"===e.mode&&"\u26a1 Bot\xf5es + IA funcionando juntos"]})]}),(0,Qt.jsxs)(Un,{className:"p-4 mb-4",children:[(0,Qt.jsx)("label",{className:"font-semibold block mb-2",children:"Mensagem de Boas-Vindas:"}),(0,Qt.jsx)(ll,{value:e.welcome_message,onChange:a=>t(m(m({},e),{},{welcome_message:a.target.value})),rows:2,placeholder:"Ex: Ol\xe1! Como posso ajudar voc\xea hoje?"}),(0,Qt.jsx)(zn,{onClick:async()=>{try{await jo.post("/admin/vendas-bot/buttons/config",e),Bt.success("Configura\xe7\xe3o salva!")}catch(t){Bt.error("Erro ao salvar configura\xe7\xe3o")}},className:"mt-2",size:"sm",children:"Salvar Mensagem"})]}),(0,Qt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Qt.jsx)("h3",{className:"text-xl font-semibold",children:"Bot\xf5es Configurados:"}),(0,Qt.jsxs)(zn,{onClick:()=>g(),className:"gap-2",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4"}),"Adicionar Bot\xe3o Raiz"]})]}),(0,Qt.jsx)("div",{className:"space-y-2",children:e.root_buttons&&e.root_buttons.length>0?e.root_buttons.map(e=>v(e)):(0,Qt.jsx)(Un,{className:"p-6 text-center text-gray-500",children:'Nenhum bot\xe3o configurado. Clique em "Adicionar Bot\xe3o Raiz" para come\xe7ar.'})})]}),(0,Qt.jsx)(nu,{open:r,onOpenChange:o,children:(0,Qt.jsxs)(lu,{children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:l?"Editar Bot\xe3o":c?"Adicionar Sub-Bot\xe3o":"Adicionar Bot\xe3o Raiz"})}),(0,Qt.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Texto do Bot\xe3o:"}),(0,Qt.jsx)(On,{value:u.label,onChange:e=>p(m(m({},u),{},{label:e.target.value})),placeholder:"Ex: SUPORTE, TESTE GR\xc1TIS"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Mensagem de Resposta:"}),(0,Qt.jsx)(ll,{value:u.response_text,onChange:e=>p(m(m({},u),{},{response_text:e.target.value})),rows:4,placeholder:"Mensagem que ser\xe1 enviada quando o bot\xe3o for clicado"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),(0,Qt.jsx)(zn,{onClick:async()=>{if(u.label&&u.response_text)try{const a=m(m({id:(null===l||void 0===l?void 0:l.id)||"btn_".concat(Date.now())},u),{},{sub_buttons:(null===l||void 0===l?void 0:l.sub_buttons)||[]});if(l){const a=e=>e.map(e=>e.id===l.id?m(m({},e),u):e.sub_buttons?m(m({},e),{},{sub_buttons:a(e.sub_buttons)}):e);t(m(m({},e),{},{root_buttons:a(e.root_buttons)}))}else await jo.post("/admin/vendas-bot/buttons/add-button",a,{params:{parent_id:null===c||void 0===c?void 0:c.id}});await h(),o(!1),Bt.success(l?"Bot\xe3o atualizado!":"Bot\xe3o adicionado!")}catch(a){Bt.error("Erro ao salvar bot\xe3o")}else Bt.error("Preencha todos os campos")},children:l?"Atualizar":"Adicionar"})]})]})]})})]}):(0,Qt.jsx)("div",{className:"p-4",children:(0,Qt.jsx)(zn,{onClick:f,children:"Criar Configura\xe7\xe3o Padr\xe3o"})})};const _x=function(){const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{n(!0);const{data:e}=await jo.get("/backups"),a=e.map(e=>({filename:"backup_".concat(e.backup_id,".json"),created_at:e.created_at,size:1024*e.size_mb*1024,backup_id:e.backup_id,collections_count:e.collections_count,total_documents:e.total_documents}));t(a)}catch(e){console.error("Error loading backups:",e),Bt.error("Erro ao carregar backups")}finally{n(!1)}},m=e=>{if(!e)return"Data desconhecida";try{return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(t){return e}},p=e=>{if(!e)return"N/A";return(e/1048576).toFixed(2)+" MB"};return(0,Qt.jsxs)("div",{className:"space-y-6 p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[(0,Qt.jsx)(Qo,{size:28,className:"text-purple-600"}),"Sistema de Backup"]}),(0,Qt.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Gerencie backups do MongoDB e restaure dados anteriores"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(zn,{onClick:u,variant:"outline",size:"sm",disabled:a,children:[(0,Qt.jsx)(rx,{className:"w-4 h-4 mr-2 ".concat(a?"animate-spin":"")}),"Atualizar"]}),(0,Qt.jsxs)(zn,{onClick:()=>document.getElementById("backup-upload").click(),variant:"outline",size:"sm",disabled:c,children:[(0,Qt.jsx)(Df,{className:"w-4 h-4 mr-2"}),c?"Enviando...":"Enviar Backup"]}),(0,Qt.jsx)("input",{id:"backup-upload",type:"file",accept:".json",onChange:async e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)if(a.name.endsWith(".json"))try{d(!0),Bt.info("\ud83d\udce4 Enviando backup...");const t=new FormData;t.append("file",a),await jo.post("/admin/backup/upload",t,{headers:{"Content-Type":"multipart/form-data"}}),Bt.success("\u2705 Backup enviado com sucesso!"),await u(),e.target.value=""}catch(r){var n,s;console.error("Error uploading backup:",r),Bt.error("\u274c Erro ao enviar backup: "+((null===(n=r.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.detail)||r.message))}finally{d(!1)}else Bt.error("\u274c Apenas arquivos .json s\xe3o permitidos")},style:{display:"none"}}),(0,Qt.jsxs)(zn,{onClick:async()=>{try{o(!0),Bt.info("Criando backup completo do sistema...");const{data:e}=await jo.post("/backups/create");Bt.success("\u2705 Backup criado! ".concat(e.collections_count," collections, ").concat(e.total_documents," documentos (").concat(e.size_mb,"MB)")),await u()}catch(a){var e,t;console.error("Error creating backup:",a),Bt.error("\u274c Erro ao criar backup: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}finally{o(!1)}},disabled:r,className:"bg-green-600 hover:bg-green-700",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4 mr-2"}),r?"Criando...":"Criar Backup Manual"]})]})]}),(0,Qt.jsx)(Un,{className:"bg-gradient-to-br from-purple-500 to-indigo-600 text-white p-6",children:(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\ud83d\udd04 Backup Autom\xe1tico Configurado"}),(0,Qt.jsx)("p",{className:"text-sm opacity-90",children:"O sistema faz backups autom\xe1ticos do MongoDB diariamente"})]}),(0,Qt.jsxs)("div",{className:"bg-white/20 rounded-lg p-4 space-y-2",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Xo,{className:"w-4 h-4"}),(0,Qt.jsx)("span",{className:"text-sm font-medium",children:"Frequ\xeancia: Di\xe1rio (autom\xe1tico via cron)"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(vx,{className:"w-4 h-4"}),(0,Qt.jsx)("span",{className:"text-sm font-mono",children:"/opt/iaze/backups/"})]})]})]})}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udce6 Backups Dispon\xedveis"}),a?(0,Qt.jsxs)("div",{className:"text-center py-8",children:[(0,Qt.jsx)(rx,{className:"w-8 h-8 animate-spin mx-auto text-gray-400 mb-2"}),(0,Qt.jsx)("p",{className:"text-gray-500",children:"Carregando backups..."})]}):0===e.length?(0,Qt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Qt.jsx)(tx,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Qt.jsx)("p",{children:"Nenhum backup encontrado"}),(0,Qt.jsx)("p",{className:"text-sm mt-1",children:'Clique em "Criar Backup Manual" para criar o primeiro'})]}):(0,Qt.jsx)("div",{className:"space-y-2",children:e.map((e,t)=>(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("p",{className:"font-mono text-sm font-medium",children:e.filename}),(0,Qt.jsxs)("div",{className:"flex gap-4 mt-1 text-xs text-gray-500",children:[(0,Qt.jsxs)("span",{children:["\ud83d\udcc5 ",m(e.created_at)]}),(0,Qt.jsxs)("span",{children:["\ud83d\udcbe ",p(e.size)]})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(zn,{onClick:()=>(async e=>{try{Bt.info("\ud83d\udce5 Baixando backup...");const t=await jo.get("/admin/backup/download/".concat(e.backup_id),{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",e.filename),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(a),Bt.success("\u2705 Backup baixado com sucesso!")}catch(t){console.error("Error downloading backup:",t),Bt.error("\u274c Erro ao baixar backup")}})(e),variant:"outline",size:"sm",className:"border-blue-300 hover:bg-blue-50 text-blue-700",children:[(0,Qt.jsx)(vx,{className:"w-4 h-4 mr-2"}),"Baixar"]}),(0,Qt.jsxs)(zn,{onClick:()=>(async e=>{const t=e.replace("backup_","").replace(".json","");if(window.confirm('\u26a0\ufe0f TEM CERTEZA que deseja RESTAURAR o backup "'.concat(e,'"?\n\nISTO IR\xc1 SUBSTITUIR TODOS OS DADOS ATUAIS!')))try{i(!0),Bt.info("Restaurando backup... Isso pode levar alguns minutos."),await jo.post("/admin/backup/restore/".concat(t)),Bt.success("\u2705 Backup restaurado com sucesso! Recarregue a p\xe1gina."),setTimeout(()=>window.location.reload(),2e3)}catch(s){var a,n;console.error("Error restoring backup:",s),Bt.error("\u274c Erro ao restaurar backup: "+((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||s.message))}finally{i(!1)}})(e.filename),disabled:l,variant:"outline",size:"sm",className:"border-amber-300 hover:bg-amber-50 text-amber-700",children:[(0,Qt.jsx)(Df,{className:"w-4 h-4 mr-2"}),"Restaurar"]})]})]},t))})]}),(0,Qt.jsx)(Un,{className:"bg-yellow-50 border-2 border-yellow-300 p-4",children:(0,Qt.jsxs)("div",{className:"flex gap-3",children:[(0,Qt.jsx)(tx,{className:"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-semibold text-yellow-900 mb-1",children:"\u26a0\ufe0f Importante"}),(0,Qt.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Qt.jsx)("strong",{children:"Restaurar um backup IR\xc1 SUBSTITUIR TODOS OS DADOS ATUAIS"})," do sistema. Certifique-se de criar um backup atual antes de restaurar um anterior. A opera\xe7\xe3o pode levar alguns minutos dependendo do tamanho do banco de dados."]})]})]})})]})},Sx=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)({}),[c,d]=(0,s.useState)({url:"https://gestor.my",username:"",password:"",nome:""});(0,s.useEffect)(()=>{u()},[]);const u=async()=>{try{o(!0),console.log("\ud83d\udd0d Buscando credenciais do Office...");const e=await jo.get("/office-sync/credentials");console.log("\u2705 Credenciais recebidas:",e.data),t(e.data.credentials||[])}catch(a){var e;console.error("\u274c Erro ao carregar credenciais:",a),console.error("Detalhes do erro:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message)}finally{o(!1)}};return(0,Qt.jsx)("div",{className:"p-6",children:(0,Qt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Qt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\ud83c\udfe2 Gerenciar Office"}),(0,Qt.jsx)("p",{className:"text-gray-600 mt-1",children:"Cadastre as credenciais do gestor.my para consulta autom\xe1tica"})]}),(0,Qt.jsxs)("button",{onClick:()=>n(!a),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[(0,Qt.jsx)(tl,{size:20}),"Adicionar Credenciais"]})]}),a&&(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border border-gray-200",children:[(0,Qt.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\u2795 Adicionar Novas Credenciais"}),(0,Qt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.username&&c.password)try{o(!0),console.log("\ud83d\udce4 Enviando credenciais:",m(m({},c),{},{password:"***"}));const e=await jo.post("/office-sync/credentials",c);console.log("\u2705 Resposta:",e.data),alert("Credenciais cadastradas com sucesso!"),d({url:"https://gestor.my",username:"",password:"",nome:""}),n(!1),u()}catch(r){var t,a,s;console.error("\u274c Erro ao cadastrar:",r),console.error("Detalhes:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),alert("Erro ao cadastrar credenciais: ".concat((null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||r.message))}finally{o(!1)}else alert("Preencha usu\xe1rio e senha!")},children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome/Descri\xe7\xe3o"}),(0,Qt.jsx)("input",{type:"text",value:c.nome,onChange:e=>d(m(m({},c),{},{nome:e.target.value})),placeholder:"Ex: Office Principal, Office Revenda 1...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do Office"}),(0,Qt.jsx)("input",{type:"text",value:c.url,onChange:e=>d(m(m({},c),{},{url:e.target.value})),placeholder:"https://gestor.my",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usu\xe1rio *"}),(0,Qt.jsx)("input",{type:"text",value:c.username,onChange:e=>d(m(m({},c),{},{username:e.target.value})),placeholder:"fabiotec35",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha *"}),(0,Qt.jsx)("input",{type:"password",value:c.password,onChange:e=>d(m(m({},c),{},{password:e.target.value})),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Qt.jsx)("button",{type:"submit",disabled:r,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 disabled:bg-gray-400 transition-colors",children:r?"Salvando...":"\u2705 Salvar Credenciais"}),(0,Qt.jsx)("button",{type:"button",onClick:()=>n(!1),className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})]}),(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,Qt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Qt.jsxs)("h2",{className:"text-lg font-semibold",children:["\ud83d\udccb Credenciais Cadastradas (",e.length,")"]})}),r&&0===e.length?(0,Qt.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Carregando..."}):0===e.length?(0,Qt.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,Qt.jsx)("p",{className:"mb-2",children:"Nenhuma credencial cadastrada"}),(0,Qt.jsx)("p",{className:"text-sm",children:'Clique em "Adicionar Credenciais" para come\xe7ar'})]}):(0,Qt.jsx)("div",{className:"divide-y divide-gray-200",children:e.map(e=>(0,Qt.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,Qt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.nome}),(0,Qt.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Ativo"})]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("span",{className:"text-gray-600",children:"\ud83c\udf10 URL:"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Qt.jsx)("span",{className:"font-medium text-gray-900",children:e.url}),(0,Qt.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:(0,Qt.jsx)(rl,{size:16})})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("span",{className:"text-gray-600",children:"\ud83d\udc64 Usu\xe1rio:"}),(0,Qt.jsx)("p",{className:"font-medium text-gray-900 mt-1",children:e.username})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("span",{className:"text-gray-600",children:"\ud83d\udcc5 Cadastrado em:"}),(0,Qt.jsx)("p",{className:"font-medium text-gray-900 mt-1",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]})]})]}),(0,Qt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja remover estas credenciais?"))try{o(!0),await jo.delete("/office-sync/credentials/".concat(e)),alert("Credenciais removidas com sucesso!"),u()}catch(t){console.error("Erro ao deletar:",t),alert("Erro ao remover credenciais")}finally{o(!1)}})(e.id),disabled:r,className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Remover credenciais",children:(0,Qt.jsx)(nl,{size:20})})]})},e.id))})]}),(0,Qt.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\u2139\ufe0f Como funciona?"}),(0,Qt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Qt.jsx)("li",{children:"\u2022 As credenciais s\xe3o usadas para fazer login autom\xe1tico no Office (gestor.my)"}),(0,Qt.jsx)("li",{children:"\u2022 Atendentes podem buscar clientes sem precisar fazer login manualmente"}),(0,Qt.jsx)("li",{children:"\u2022 Voc\xea pode cadastrar m\xfaltiplas credenciais (diferentes revendas)"}),(0,Qt.jsx)("li",{children:"\u2022 A senha \xe9 armazenada de forma segura no banco de dados"})]})]})]})})},Cx=na("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ex=()=>{const[e,t]=(0,s.useState)("clients"),[a,n]=(0,s.useState)([]),[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)({usuario:"",email:"",nome:""}),[c,d]=(0,s.useState)({enabled:!1,days_before:[3,2,1],send_expired:!0,send_time:"09:00",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",from_email:"",from_name:"Atendimento"}),[u,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)("");(0,s.useEffect)(()=>{x(),g()},[]);const x=async()=>{o(!0);try{const e=await jo.get("/client-emails");e.data.success&&n(e.data.emails)}catch(e){console.error("Erro ao carregar emails:",e),Bt.error("Erro ao carregar emails")}finally{o(!1)}},g=async()=>{p(!0);try{const e=await jo.get("/reminder-config");e.data.success&&d(e.data.config)}catch(e){console.error("Erro ao carregar config:",e)}finally{p(!1)}};return(0,Qt.jsxs)("div",{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,Qt.jsx)(Io,{className:"w-7 h-7 text-blue-600"}),"Gerenciamento de Emails"]}),(0,Qt.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure lembretes de vencimento por email"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-6 border-b",children:[(0,Qt.jsx)("button",{onClick:()=>t("clients"),className:"px-4 py-2 font-medium border-b-2 transition-colors ".concat("clients"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"\ud83d\udce7 Emails de Clientes"}),(0,Qt.jsx)("button",{onClick:()=>t("config"),className:"px-4 py-2 font-medium border-b-2 transition-colors ".concat("config"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"\u2699\ufe0f Configura\xe7\xe3o SMTP"})]}),"clients"===e?(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,Qt.jsxs)("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Qt.jsx)(tl,{className:"w-5 h-5"}),"Adicionar Email de Cliente"]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Qt.jsx)("input",{type:"text",placeholder:"Usu\xe1rio",value:l.usuario,onChange:e=>i(m(m({},l),{},{usuario:e.target.value})),className:"px-3 py-2 border rounded"}),(0,Qt.jsx)("input",{type:"email",placeholder:"Email",value:l.email,onChange:e=>i(m(m({},l),{},{email:e.target.value})),className:"px-3 py-2 border rounded"}),(0,Qt.jsx)("input",{type:"text",placeholder:"Nome (opcional)",value:l.nome,onChange:e=>i(m(m({},l),{},{nome:e.target.value})),className:"px-3 py-2 border rounded"}),(0,Qt.jsxs)("button",{onClick:async()=>{if(l.usuario&&l.email)try{const e=await jo.post("/client-email",l);e.data.success&&(Bt.success(e.data.message),i({usuario:"",email:"",nome:""}),x())}catch(e){console.error("Erro ao adicionar email:",e),Bt.error("Erro ao adicionar email")}else Bt.error("Preencha usu\xe1rio e email")},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4"}),"Adicionar"]})]})]}),(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Qt.jsx)("div",{className:"p-4 border-b",children:(0,Qt.jsxs)("h3",{className:"font-bold",children:["Emails Cadastrados (",a.length,")"]})}),(0,Qt.jsx)("div",{className:"overflow-x-auto",children:r?(0,Qt.jsx)("div",{className:"p-8 text-center",children:"Carregando..."}):0===a.length?(0,Qt.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Nenhum email cadastrado"}):(0,Qt.jsxs)("table",{className:"w-full",children:[(0,Qt.jsx)("thead",{className:"bg-gray-50",children:(0,Qt.jsxs)("tr",{children:[(0,Qt.jsx)("th",{className:"px-4 py-3 text-left",children:"Usu\xe1rio"}),(0,Qt.jsx)("th",{className:"px-4 py-3 text-left",children:"Email"}),(0,Qt.jsx)("th",{className:"px-4 py-3 text-left",children:"Nome"}),(0,Qt.jsx)("th",{className:"px-4 py-3 text-left",children:"Cadastrado em"}),(0,Qt.jsx)("th",{className:"px-4 py-3 text-right",children:"A\xe7\xf5es"})]})}),(0,Qt.jsx)("tbody",{children:a.map(e=>(0,Qt.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Qt.jsx)("td",{className:"px-4 py-3 font-mono",children:e.usuario}),(0,Qt.jsx)("td",{className:"px-4 py-3",children:e.email}),(0,Qt.jsx)("td",{className:"px-4 py-3",children:e.nome||"-"}),(0,Qt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Qt.jsx)("td",{className:"px-4 py-3 text-right",children:(0,Qt.jsx)("button",{onClick:()=>(async e=>{if(confirm("Remover email de ".concat(e,"?")))try{(await jo.delete("/client-email/".concat(e))).data.success&&(Bt.success("Email removido"),x())}catch(t){console.error("Erro ao remover email:",t),Bt.error("Erro ao remover email")}})(e.usuario),className:"text-red-600 hover:text-red-800",title:"Remover",children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})})]},e.id))})]})})]})]}):(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Qt.jsx)("h3",{className:"font-bold mb-4",children:"Status do Sistema"}),(0,Qt.jsxs)("label",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:c.enabled,onChange:e=>d(m(m({},c),{},{enabled:e.target.checked})),className:"w-5 h-5"}),(0,Qt.jsx)("span",{className:"font-medium",children:"Lembretes Autom\xe1ticos Ativados"})]})]}),(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Qt.jsx)("h3",{className:"font-bold mb-4",children:"Quando Enviar Lembretes"}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Enviar quantos dias antes do vencimento?"}),(0,Qt.jsx)("div",{className:"flex gap-4",children:[1,2,3,4,5,7].map(e=>(0,Qt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:c.days_before.includes(e),onChange:t=>{t.target.checked?d(m(m({},c),{},{days_before:[...c.days_before,e].sort((e,t)=>t-e)})):d(m(m({},c),{},{days_before:c.days_before.filter(t=>t!==e)}))}}),e," dia",e>1?"s":""]},e))})]}),(0,Qt.jsxs)("label",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:c.send_expired,onChange:e=>d(m(m({},c),{},{send_expired:e.target.checked}))}),(0,Qt.jsx)("span",{children:"Enviar para clientes j\xe1 vencidos"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Hor\xe1rio de Envio (UTC)"}),(0,Qt.jsx)("input",{type:"time",value:c.send_time,onChange:e=>d(m(m({},c),{},{send_time:e.target.value})),className:"px-3 py-2 border rounded"})]})]})]}),(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Qt.jsx)("h3",{className:"font-bold mb-4",children:"Configura\xe7\xe3o SMTP"}),(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Servidor SMTP"}),(0,Qt.jsx)("input",{type:"text",placeholder:"smtp.gmail.com",value:c.smtp_host,onChange:e=>d(m(m({},c),{},{smtp_host:e.target.value})),className:"w-full px-3 py-2 border rounded"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Porta"}),(0,Qt.jsx)("input",{type:"number",value:c.smtp_port,onChange:e=>d(m(m({},c),{},{smtp_port:parseInt(e.target.value)})),className:"w-full px-3 py-2 border rounded"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Usu\xe1rio SMTP"}),(0,Qt.jsx)("input",{type:"text",placeholder:"seu-email@gmail.com",value:c.smtp_user,onChange:e=>d(m(m({},c),{},{smtp_user:e.target.value})),className:"w-full px-3 py-2 border rounded"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Senha SMTP"}),(0,Qt.jsx)("input",{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:c.smtp_password,onChange:e=>d(m(m({},c),{},{smtp_password:e.target.value})),className:"w-full px-3 py-2 border rounded"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Email Remetente"}),(0,Qt.jsx)("input",{type:"email",placeholder:"suporte@suporte.help",value:c.from_email,onChange:e=>d(m(m({},c),{},{from_email:e.target.value})),className:"w-full px-3 py-2 border rounded"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block mb-2 font-medium",children:"Nome do Remetente"}),(0,Qt.jsx)("input",{type:"text",placeholder:"Atendimento",value:c.from_name,onChange:e=>d(m(m({},c),{},{from_name:e.target.value})),className:"w-full px-3 py-2 border rounded"})]})]}),(0,Qt.jsx)("div",{className:"mt-6 flex gap-3",children:(0,Qt.jsxs)("button",{onClick:async()=>{try{(await jo.put("/reminder-config",c)).data.success&&Bt.success("Configura\xe7\xe3o salva!")}catch(e){console.error("Erro ao salvar config:",e),Bt.error("Erro ao salvar configura\xe7\xe3o")}},className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 flex items-center gap-2",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4"}),"Salvar Configura\xe7\xe3o"]})})]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 rounded-lg border-2 border-blue-200 p-6",children:[(0,Qt.jsxs)("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[(0,Qt.jsx)(Cx,{className:"w-5 h-5 text-blue-600"}),"Enviar Email de Teste"]}),(0,Qt.jsxs)("div",{className:"flex gap-3",children:[(0,Qt.jsx)("input",{type:"email",placeholder:"Digite um email para teste",value:h,onChange:e=>f(e.target.value),className:"flex-1 px-3 py-2 border rounded"}),(0,Qt.jsx)("button",{onClick:async()=>{if(h)try{(await jo.post("/test-reminder-email?test_email=".concat(h))).data.success&&Bt.success("Email de teste enviado!")}catch(a){var e,t;console.error("Erro ao enviar teste:",a),Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao enviar email de teste")}else Bt.error("Digite um email para teste")},className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",children:"Enviar Teste"})]})]})]})]})},Ax=e=>{let{onSubmit:t,isAdmin:a=!1}=e;const[n,r]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[i,c]=(0,s.useState)("all"),[d,u]=(0,s.useState)("own"),[m,p]=(0,s.useState)("none"),[h,f]=(0,s.useState)(null),[x,g]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1);return(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"T\xedtulo do Aviso"}),(0,Qt.jsx)(On,{placeholder:"Ex: Manuten\xe7\xe3o Programada",value:n,onChange:e=>r(e.target.value)})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"\ud83d\udc65 Enviar Para"}),(0,Qt.jsxs)(kf,{value:i,onValueChange:c,children:[(0,Qt.jsx)(Sf,{children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsxs)(Af,{children:[(0,Qt.jsx)(Tf,{value:"all",children:"\ud83c\udf0d Todos (Equipe + Clientes)"}),(0,Qt.jsx)(Tf,{value:"team",children:"\ud83d\udc54 Apenas Equipe (Atendentes)"}),(0,Qt.jsx)(Tf,{value:"clients",children:"\ud83d\udc64 Apenas Clientes"})]})]}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["all"===i&&"\ud83d\udce2 Aviso vis\xedvel para toda a equipe e clientes","team"===i&&"\ud83d\udc65 Aviso vis\xedvel apenas para atendentes","clients"===i&&"\ud83d\udcac Aviso vis\xedvel apenas para clientes"]})]}),a&&(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"\ud83c\udfaf P\xfablico-Alvo"}),(0,Qt.jsxs)(kf,{value:d,onValueChange:u,children:[(0,Qt.jsx)(Sf,{children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsxs)(Af,{children:[(0,Qt.jsx)(Tf,{value:"own",children:"\ud83d\udd12 Apenas Admin (restrito)"}),(0,Qt.jsx)(Tf,{value:"all",children:"\ud83c\udf0d Global (todas as revendas)"}),(0,Qt.jsx)(Tf,{value:"specific",children:"\ud83c\udfaf Revendas Espec\xedficas"})]})]}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["own"===d&&"Vis\xedvel apenas no dom\xednio master (suporte.help)","all"===d&&"Vis\xedvel em todos os dom\xednios (admin, revendas, clientes)","specific"===d&&"Voc\xea poder\xe1 escolher revendas espec\xedficas (em breve)"]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Mensagem"}),(0,Qt.jsx)(ll,{placeholder:"Digite a mensagem do aviso...",value:o,onChange:e=>l(e.target.value),rows:4})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\ud83d\udcce Anexar M\xeddia (Opcional)"}),(0,Qt.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,Qt.jsx)(zn,{type:"button",variant:"none"===m?"default":"outline",onClick:()=>{p("none"),f(null),g("")},className:"text-sm",children:"\u2716\ufe0f Nenhum"}),(0,Qt.jsx)(zn,{type:"button",variant:"photo"===m?"default":"outline",onClick:()=>{p("photo"),f(null),g("")},className:"text-sm",children:"\ud83d\udcf7 Foto"}),(0,Qt.jsx)(zn,{type:"button",variant:"video"===m?"default":"outline",onClick:()=>{p("video"),f(null),g("")},className:"text-sm",children:"\ud83c\udfa5 V\xeddeo"}),(0,Qt.jsx)(zn,{type:"button",variant:"audio"===m?"default":"outline",onClick:()=>{p("audio"),f(null),g("")},className:"text-sm",children:"\ud83c\udfb5 \xc1udio"})]})]}),"none"!==m&&(0,Qt.jsxs)("div",{className:"space-y-2 p-4 bg-blue-50 border border-blue-200 rounded",children:[(0,Qt.jsxs)("label",{className:"text-sm font-medium text-blue-800",children:["photo"===m&&"\ud83d\udcf7 Carregar Foto","video"===m&&"\ud83c\udfa5 Carregar V\xeddeo","audio"===m&&"\ud83c\udfb5 Carregar \xc1udio"]}),(0,Qt.jsx)(On,{type:"file",accept:"photo"===m?"image/*":"video"===m?"video/*":"audio/*",onChange:e=>{const t=e.target.files[0];f(t),(async e=>{if(e){b(!0);try{const t=new FormData;t.append("file",e);const{data:a}=await jo.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}});g(a.url),Bt.success("M\xeddia carregada com sucesso!")}catch(t){console.error("Erro ao fazer upload:",t),Bt.error("Erro ao fazer upload da m\xeddia")}finally{b(!1)}}})(t)},disabled:v,className:"cursor-pointer"}),v&&(0,Qt.jsx)("p",{className:"text-sm text-blue-600",children:"\u23f3 Fazendo upload..."}),x&&!v&&(0,Qt.jsx)("p",{className:"text-sm text-green-600",children:"\u2705 M\xeddia carregada com sucesso!"})]}),(0,Qt.jsxs)(zn,{"data-testid":"publish-notice-btn",onClick:()=>{t(n,o,i,d,x,m),r(""),l(""),c("all"),u("own"),p("none"),f(null),g("")},className:"w-full bg-purple-600 hover:bg-purple-700",disabled:!n||!o||v,children:[(0,Qt.jsx)(Bo,{className:"w-4 h-4 mr-2"}),"Publicar Aviso"]})]})},Tx=()=>{var e,t,a,n,r,o,l,i,c,d;const u=ge(),[p,h]=(0,s.useState)([]),[f,x]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[b,y]=(0,s.useState)({hierarchy:[]}),[j,w]=(0,s.useState)({quick_blocks:[],auto_reply:[],apps:[],pix_key:"",manual_away_mode:!1,allowed_data:{cpfs:[],emails:[],phones:[],random_keys:[],allowed_messages:[]},api_integration:{api_url:"",api_token:"",api_enabled:!1},ai_agent:{name:"Assistente IA",personality:"",instructions:"",llm_provider:"openai",llm_model:"gpt-4",temperature:.7,max_tokens:500,mode:"standby",active_hours:"24/7",enabled:!1,can_access_credentials:!0,knowledge_base:""}}),[N,k]=(0,s.useState)([]),[_,S]=(0,s.useState)(!0),[C,E]=(0,s.useState)(!1),A=(0,s.useRef)(null),[T,R]=(0,s.useState)(!1),[P,z]=(0,s.useState)(!1),[I,O]=(0,s.useState)([]),[D,M]=(0,s.useState)({name:"",type:"SSIPTV",config_url:"",url_template:"",fields:[],instructions:""}),[L,F]=(0,s.useState)(null),[B,q]=(0,s.useState)({name:"",login:"",password:"",avatar:"",department_ids:[]}),[U,V]=(0,s.useState)(null),[W,H]=(0,s.useState)({name:"",email:"",password:"",domain:"",custom_domain:"",parent_id:null}),[G,$]=(0,s.useState)(null),[K,Q]=(0,s.useState)(new Set),[Y,X]=(0,s.useState)({open:!1,reseller:null}),[J,Z]=(0,s.useState)("list"),[ee,te]=(0,s.useState)({open:!1,data:null}),[ae,ne]=(0,s.useState)({reseller_id:"",plan_type:"basico",months:1}),[se,re]=(0,s.useState)([]),[oe,le]=(0,s.useState)(null),[ie,ce]=(0,s.useState)(""),[de,ue]=(0,s.useState)(!1),[me,pe]=(0,s.useState)(!1),[he,fe]=(0,s.useState)(!1),[xe,ve]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[be,ye]=(0,s.useState)({name:"Admin",email:""}),[je,we]=(0,s.useState)("dashboard"),[Ne,ke]=(0,s.useState)("config"),[_e,Se]=(0,s.useState)({}),[Ce,Ee]=(0,s.useState)([]),[Ae,Te]=(0,s.useState)([]),[Re,Pe]=(0,s.useState)(!0),[ze,Ie]=(0,s.useState)([]),[Oe,De]=(0,s.useState)({mainDomain:"",resellerPath:"/login",agentPath:"/atendente/login",clientPath:"/"});(0,s.useEffect)(()=>{Fe(),Me()},[]),(0,s.useEffect)(()=>{if("dashboard"===je){Le();const e=setInterval(Le,3e4);return()=>clearInterval(e)}"resellers"===je&&0===g.length&&qe(),"subscriptions"===je&&0===se.length&&Be()},[je]);const Me=async()=>{try{const{data:e}=await jo.get("/admin/domain-config");e&&e.config&&De(e.config)}catch(e){console.error("Error loading domain config:",e)}},Le=async()=>{Pe(!0);try{const[e,t,a,n]=await Promise.all([jo.get("/admin/dashboard/stats"),jo.get("/admin/dashboard/agents-online"),jo.get("/admin/dashboard/ai-agents-status"),jo.get("/admin/dashboard/important-alerts")]);Se(e.data),Ee(t.data),Te(a.data),Ie(n.data.alerts||[])}catch(e){console.error("Error loading dashboard:",e)}finally{Pe(!1)}},Fe=()=>{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);ye({name:t.name||"Admin",email:t.email||""})}};(0,s.useEffect)(()=>{const e=e=>{de&&!e.target.closest(".reseller-search-container")&&ue(!1),me&&!e.target.closest(".profile-menu-container")&&pe(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[de,me]);const Be=async()=>{try{const{data:e}=await jo.get("/admin/subscriptions");re(e)}catch(e){console.error("Error loading subscriptions:",e)}};(0,s.useEffect)(()=>{qe()},[]);const qe=async()=>{try{const[e,t,a,n,s,r,o]=await Promise.all([jo.get("/agents").catch(()=>({data:[]})),jo.get("/resellers").catch(()=>({data:[]})),jo.get("/resellers/hierarchy").catch(()=>({data:{hierarchy:[]}})),jo.get("/config").catch(()=>({data:{quick_blocks:[],auto_reply:[],apps:[],pix_key:"",allowed_data:{cpfs:[],emails:[],phones:[],random_keys:[],allowed_messages:[]},api_integration:{},ai_agent:{}}})),jo.get("/notices").catch(()=>({data:[]})),jo.get("/ai/departments").catch(()=>({data:[]})),jo.get("/iptv-apps").catch(()=>({data:[]}))]);h(Array.isArray(e.data)?e.data:[]),v(Array.isArray(t.data)?t.data:[]),y(a.data||{hierarchy:[]});const l=n.data||{};l.allowed_data?l.allowed_data.allowed_messages||(l.allowed_data.allowed_messages=[]):l.allowed_data={cpfs:[],emails:[],phones:[],random_keys:[],allowed_messages:[]},l.quick_blocks||(l.quick_blocks=[]),w(l),k(Array.isArray(s.data)?s.data:[]),x(Array.isArray(r.data)?r.data:[]),O(Array.isArray(o.data)?o.data:[])}catch(e){console.error("Error loading data:",e),Bt.error("Erro ao carregar dados")}finally{S(!1)}},Ue=async()=>{z(!0);try{const{data:e}=await jo.post("/admin/replicate-config-to-resellers");e.ok?(Bt.success("\u2705 ".concat(e.message),{duration:5e3}),R(!1)):Bt.error("Erro ao replicar configura\xe7\xf5es")}catch(a){var e,t;console.error("Erro ao replicar:",a),Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao replicar configura\xe7\xf5es para revendas")}finally{z(!1)}},Ve=async()=>{if(G)try{const e={};G.name&&(e.name=G.name),G.email&&(e.email=G.email),G.password&&(e.password=G.password),void 0!==G.custom_domain&&(e.custom_domain=G.custom_domain),void 0!==G.is_active&&(e.is_active=G.is_active),await jo.put("/resellers/".concat(G.id),e),Bt.success("Revenda atualizada com sucesso!"),$(null),qe()}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao atualizar revenda")}},We=async e=>{if(window.confirm("\u26a0\ufe0f ATEN\xc7\xc3O: Tem certeza que deseja deletar esta revenda? Esta a\xe7\xe3o n\xe3o pode ser desfeita!"))try{await jo.delete("/resellers/".concat(e)),Bt.success("\u2705 Revenda deletada com sucesso!"),qe(),Be()}catch(n){var t,a;Bt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erro ao deletar revenda")}},He=async()=>{try{await jo.put("/config",j),Bt.success("Configura\xe7\xf5es salvas!")}catch(e){Bt.error("Erro ao salvar configura\xe7\xf5es")}},Ge=g.filter(e=>e.name.toLowerCase().includes(ie.toLowerCase())||e.email.toLowerCase().includes(ie.toLowerCase()));return _?(0,Qt.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,Qt.jsx)("p",{className:"mt-4 text-slate-600",children:"Carregando..."})]})}):(0,Qt.jsxs)("div",{className:"h-screen flex flex-col bg-slate-50",children:[(0,Qt.jsx)("header",{className:"bg-white border-b border-slate-200 flex-shrink-0 z-10",children:(0,Qt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 bg-purple-600 rounded-xl flex items-center justify-center",children:(0,Qt.jsx)(sa,{className:"w-6 h-6 text-white"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Admin Dashboard"}),(0,Qt.jsxs)(zn,{variant:"ghost",size:"sm",onClick:()=>we("security"),className:"text-xs text-slate-600 hover:text-purple-600 hover:bg-purple-50 px-2 py-1 h-auto",children:[(0,Qt.jsx)(Mo,{className:"w-3 h-3 mr-1"}),"Dados Permitidos"]})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-50 rounded-lg border border-slate-200",children:[(0,Qt.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Status:"}),(0,Qt.jsx)("button",{onClick:async()=>{try{const e=!j.manual_away_mode;await jo.put("/config",{manual_away_mode:e}),w(t=>m(m({},t),{},{manual_away_mode:e})),Bt.success(e?'\u26a0\ufe0f Modo Ausente ativado - Clientes ver\xe3o status "Ausente"':"\u2705 Modo Online ativado - Clientes ver\xe3o status normal",{duration:3e3})}catch(e){console.error("Erro ao alternar modo ausente:",e),Bt.error("Erro ao alterar status")}},className:"\n                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors\n                  ".concat(j.manual_away_mode?"bg-orange-500":"bg-green-500","\n                "),title:j.manual_away_mode?"Clique para ativar modo Online":"Clique para ativar modo Ausente",children:(0,Qt.jsx)("span",{className:"\n                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform\n                    ".concat(j.manual_away_mode?"translate-x-6":"translate-x-1","\n                  ")})}),(0,Qt.jsx)("span",{className:"text-sm font-semibold ".concat(j.manual_away_mode?"text-orange-600":"text-green-600"),children:j.manual_away_mode?"\u26a0\ufe0f Ausente":"\u2705 Online"})]}),(0,Qt.jsxs)(zn,{onClick:()=>{R(!0)},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",size:"sm",children:[(0,Qt.jsx)(Lo,{className:"w-4 h-4 mr-2"}),"Aplicar para Revendas"]}),(0,Qt.jsxs)("div",{className:"relative profile-menu-container",children:[(0,Qt.jsxs)(zn,{onClick:()=>pe(!me),variant:"outline",size:"sm",className:"gap-2",children:[(0,Qt.jsx)("div",{className:"w-6 h-6 bg-purple-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:be.name.charAt(0).toUpperCase()}),be.name]}),me&&(0,Qt.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white border rounded-lg shadow-lg py-2 z-50",children:[(0,Qt.jsxs)("div",{className:"px-4 py-3 border-b",children:[(0,Qt.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:be.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:be.email||"admin@sistema.com"})]}),(0,Qt.jsxs)("button",{onClick:()=>{pe(!1),fe(!0)},className:"w-full px-4 py-2 text-left text-sm hover:bg-slate-100 flex items-center gap-2",children:[(0,Qt.jsx)(Mo,{className:"w-4 h-4"}),"Trocar Senha"]}),(0,Qt.jsxs)("button",{onClick:()=>{pe(!1),_o(),u("/")},className:"w-full px-4 py-2 text-left text-sm hover:bg-slate-100 flex items-center gap-2 text-red-600","data-testid":"logout-btn",children:[(0,Qt.jsx)(Fo,{className:"w-4 h-4"}),"Sair"]})]})]})]})]})}),(0,Qt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Qt.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,Qt.jsxs)(Ci,{value:je,onValueChange:we,className:"space-y-6",children:[(0,Qt.jsxs)(Ei,{className:"grid grid-cols-5 md:grid-cols-10 gap-2 bg-transparent h-auto p-0",children:[(0,Qt.jsxs)(Ai,{value:"dashboard","data-testid":"tab-dashboard",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Bo,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),(0,Qt.jsxs)(Ai,{value:"dominio","data-testid":"tab-dominio",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(qo,{className:"w-4 h-4 mr-1"}),"Dom\xednio"]}),(0,Qt.jsxs)(Ai,{value:"resellers","data-testid":"tab-resellers",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Uo,{className:"w-4 h-4 mr-1"}),"Revendas"]}),(0,Qt.jsxs)(Ai,{value:"agents","data-testid":"tab-agents",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Uo,{className:"w-4 h-4 mr-1"}),"Atendentes"]}),(0,Qt.jsxs)(Ai,{value:"departments","data-testid":"tab-departments",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Vo,{className:"w-4 h-4 mr-1"}),"I.A / Departamentos"]}),(0,Qt.jsxs)(Ai,{value:"quick","data-testid":"tab-quick",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Wo,{className:"w-4 h-4 mr-1"}),"Msg R\xe1pidas"]}),(0,Qt.jsxs)(Ai,{value:"security","data-testid":"tab-security",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(sa,{className:"w-4 h-4 mr-1"}),"Dados Permitidos"]}),(0,Qt.jsxs)(Ai,{value:"notices","data-testid":"tab-notices",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Bo,{className:"w-4 h-4 mr-1"}),"Avisos"]}),(0,Qt.jsxs)(Ai,{value:"auto-responder","data-testid":"tab-auto-responder",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Ho,{className:"w-4 h-4 mr-1"}),"Auto-Responder"]}),(0,Qt.jsxs)(Ai,{value:"tutorials","data-testid":"tab-tutorials",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Go,{className:"w-4 h-4 mr-1"}),"Tutoriais/Apps"]}),(0,Qt.jsxs)(Ai,{value:"iptv-apps","data-testid":"tab-iptv-apps",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)($o,{className:"w-4 h-4 mr-1"}),"Aplicativos"]}),(0,Qt.jsxs)(Ai,{value:"whatsapp-plans","data-testid":"tab-whatsapp-plans",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(To,{className:"w-4 h-4 mr-1"}),"Planos WhatsApp"]}),(0,Qt.jsxs)(Ai,{value:"whatsapp","data-testid":"tab-whatsapp",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(To,{className:"w-4 h-4 mr-1"}),"WhatsApp"]}),(0,Qt.jsxs)(Ai,{value:"mercado-pago","data-testid":"tab-mercado-pago",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Ko,{className:"w-4 h-4 mr-1"}),"Mercado Pago"]}),(0,Qt.jsxs)(Ai,{value:"vendas-bot","data-testid":"tab-vendas-bot",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Wo,{className:"w-4 h-4 mr-1"}),"WA Site"]}),(0,Qt.jsxs)(Ai,{value:"backup","data-testid":"tab-backup",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4 mr-1"}),"Backup"]}),(0,Qt.jsxs)(Ai,{value:"office","data-testid":"tab-office",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Vo,{className:"w-4 h-4 mr-1"}),"Office"]}),(0,Qt.jsxs)(Ai,{value:"email","data-testid":"tab-email",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white hover:bg-blue-50",children:[(0,Qt.jsx)(Io,{className:"w-4 h-4 mr-1"}),"Email"]})]}),(0,Qt.jsx)(Ti,{value:"dashboard",className:"space-y-6",children:Re?(0,Qt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,Qt.jsx)("p",{className:"text-slate-600",children:"Carregando dashboard..."})]})}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,Qt.jsx)(Wo,{className:"w-6 h-6 text-blue-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Em Entrada"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:_e.tickets_entrada||0})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Aguardando atendimento"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,Qt.jsx)(Uo,{className:"w-6 h-6 text-green-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Em Atendimento"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:_e.tickets_atendimento||0})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Conversas ativas"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-purple-50 rounded-lg",children:(0,Qt.jsx)(Yo,{className:"w-6 h-6 text-purple-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Finalizadas Hoje"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:_e.tickets_finalizadas_hoje||0})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Conversas conclu\xeddas"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-orange-50 rounded-lg",children:(0,Qt.jsx)(Xo,{className:"w-6 h-6 text-orange-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Tempo M\xe9dio"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:_e.tempo_medio_resposta||"N/A"})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Resposta inicial"})]})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Uo,{className:"w-5 h-5 text-purple-600"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Atendentes Online"})]}),(0,Qt.jsxs)("span",{className:"text-sm bg-green-100 text-green-700 px-3 py-1 rounded-full",children:[Ce.online_count||0," online"]})]}),Ce.online_agents&&Ce.online_agents.length>0?(0,Qt.jsx)("div",{className:"space-y-3",children:Ce.online_agents.map(e=>(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()}),(0,Qt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-medium",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:e.email}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:["\ud83d\udcca ",e.active_tickets," conversas ativas"]})]})]}),(0,Qt.jsxs)(zn,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>Bt.info("Funcionalidade de monitoramento em breve!"),children:[(0,Qt.jsx)(Jo,{className:"w-4 h-4"}),"Monitorar"]})]},e.id))}):(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,Qt.jsx)(Uo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Qt.jsx)("p",{children:"Nenhum atendente online no momento"})]}),Ce.offline_agents&&Ce.offline_agents.length>0&&(0,Qt.jsxs)("details",{className:"mt-4",children:[(0,Qt.jsxs)("summary",{className:"cursor-pointer text-sm text-slate-600 hover:text-slate-900",children:["Ver ",Ce.offline_count," atendente(s) offline"]}),(0,Qt.jsx)("div",{className:"mt-3 space-y-2",children:Ce.offline_agents.map(e=>(0,Qt.jsxs)("div",{className:"flex items-center gap-3 p-2 text-sm",children:[(0,Qt.jsx)("div",{className:"w-8 h-8 bg-slate-300 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("p",{className:"text-slate-600",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-400",children:e.email})]}),(0,Qt.jsx)("span",{className:"text-xs text-slate-400",children:"Offline"})]},e.id))})]})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Zo,{className:"w-5 h-5 text-purple-600"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Agentes de IA"})]}),(0,Qt.jsxs)("span",{className:"text-sm bg-purple-100 text-purple-700 px-3 py-1 rounded-full",children:[Ae.active_count||0," ativos"]})]}),Ae.agents&&Ae.agents.length>0?(0,Qt.jsx)("div",{className:"space-y-3",children:Ae.agents.map((e,t)=>(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 ".concat("active"===e.status?"bg-purple-600":"bg-slate-400"," rounded-full flex items-center justify-center text-white"),children:(0,Qt.jsx)(Zo,{className:"w-6 h-6"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-medium",children:e.name}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-500",children:["Modelo: ",e.model]}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:["\ud83d\udcac ",e.interactions_today," intera\xe7\xf5es hoje"]})]})]}),(0,Qt.jsx)("div",{className:"px-3 py-1 rounded-full text-xs ".concat("active"===e.status?"bg-green-100 text-green-700":"disabled"===e.status?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-700"),children:"active"===e.status?"Ativo":"disabled"===e.status?"Desabilitado":"N\xe3o Configurado"})]},t))}):(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,Qt.jsx)(Zo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Qt.jsx)("p",{children:"Nenhum agente de IA configurado"})]})]}),(0,Qt.jsxs)(Un,{className:"p-6 border-2 border-orange-200 bg-orange-50/30",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Qt.jsx)(Bo,{className:"w-5 h-5 text-orange-600 animate-pulse"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-orange-900",children:"\u26a0\ufe0f Avisos Importantes"})]}),ze&&ze.length>0?(0,Qt.jsx)("div",{className:"space-y-3",children:ze.map((e,t)=>(0,Qt.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat("warning"===e.severity?"bg-yellow-50 border-yellow-300":"error"===e.severity?"bg-red-50 border-red-300":"bg-blue-50 border-blue-300"),children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("span",{className:"text-2xl",children:e.icon}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-slate-900",children:e.title}),(0,Qt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:e.message}),"whatsapp"===e.type&&(0,Qt.jsx)(zn,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>we("whatsapp"),children:"Verificar WhatsApp"}),"ai"===e.type&&(0,Qt.jsx)(zn,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>we("ai-agents"),children:"Configurar IA"})]})]})},t))}):(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,Qt.jsx)(Yo,{className:"w-12 h-12 mx-auto mb-2 opacity-50 text-green-500"}),(0,Qt.jsx)("p",{className:"text-green-700 font-medium",children:"\u2705 Tudo funcionando perfeitamente!"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Nenhum aviso importante no momento"})]})]})]})}),(0,Qt.jsx)(Ti,{value:"dominio",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,Qt.jsx)(qo,{className:"w-5 h-5 text-blue-600"}),"\ud83c\udf10 Configura\xe7\xe3o de Dom\xednio"]}),(0,Qt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,Qt.jsx)("div",{className:"space-y-4",children:(0,Qt.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:"\u2601\ufe0f Passo a Passo - Cloudflare"}),(0,Qt.jsxs)("ol",{className:"space-y-3 text-sm text-slate-700",children:[(0,Qt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"font-bold text-blue-600",children:"1."}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("strong",{children:"Acesse a Cloudflare:"}),(0,Qt.jsx)("br",{}),(0,Qt.jsx)("a",{href:"https://dash.cloudflare.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"https://dash.cloudflare.com"})]})]}),(0,Qt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"font-bold text-blue-600",children:"2."}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("strong",{children:"Selecione seu dom\xednio"}),(0,Qt.jsx)("br",{}),"Clique no dom\xednio que deseja configurar"]})]}),(0,Qt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"font-bold text-blue-600",children:"3."}),(0,Qt.jsx)("div",{children:(0,Qt.jsx)("strong",{children:'V\xe1 em "DNS" no menu lateral'})})]}),(0,Qt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"font-bold text-blue-600",children:"4."}),(0,Qt.jsx)("div",{children:(0,Qt.jsx)("strong",{children:'Clique em "Add record"'})})]}),(0,Qt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"font-bold text-blue-600",children:"5."}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("strong",{children:"Configure o registro:"}),(0,Qt.jsxs)("ul",{className:"mt-2 space-y-1 ml-4 text-xs",children:[(0,Qt.jsxs)("li",{children:["\u2022 ",(0,Qt.jsx)("strong",{children:"Type:"})," A"]}),(0,Qt.jsxs)("li",{children:["\u2022 ",(0,Qt.jsx)("strong",{children:"Name:"})," @ (ou seu subdom\xednio)"]}),(0,Qt.jsxs)("li",{children:["\u2022 ",(0,Qt.jsx)("strong",{children:"IPv4 address:"})," ","{","IP do servidor","}"]}),(0,Qt.jsxs)("li",{children:["\u2022 ",(0,Qt.jsx)("strong",{children:"Proxy status:"})," \u2705 Proxied (laranja)"]})]})]})]}),(0,Qt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"font-bold text-blue-600",children:"6."}),(0,Qt.jsx)("div",{children:(0,Qt.jsx)("strong",{children:'Clique em "Save"'})})]}),(0,Qt.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"font-bold text-blue-600",children:"7."}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("strong",{children:"Aguarde propaga\xe7\xe3o (at\xe9 48h)"}),(0,Qt.jsx)("br",{}),(0,Qt.jsx)("span",{className:"text-xs text-slate-500",children:"Normalmente leva apenas alguns minutos"})]})]})]})]})}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-purple-900 mb-3",children:"\ud83d\udd17 Configurar Dom\xednio Principal"}),(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Dom\xednio Principal"}),(0,Qt.jsx)(On,{placeholder:"Ex: meudominio.com",value:Oe.mainDomain,onChange:e=>De(m(m({},Oe),{},{mainDomain:e.target.value}))}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Digite apenas o dom\xednio, sem http:// ou https://"})]}),(0,Qt.jsxs)(zn,{onClick:async()=>{try{await jo.post("/admin/domain-config",Oe),Bt.success("\u2705 Configura\xe7\xe3o de dom\xednio salva com sucesso!")}catch(e){Bt.error("Erro ao salvar configura\xe7\xe3o")}},className:"w-full bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4 mr-2"}),"Salvar Configura\xe7\xe3o"]})]})]}),Oe.mainDomain&&(0,Qt.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-green-900 mb-3",children:"\u2705 Links Gerados"}),(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-xs font-medium text-green-800 mb-1",children:"\ud83d\udcca Painel de Revenda:"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{value:"https://".concat(Oe.mainDomain).concat(Oe.resellerPath),readOnly:!0,className:"text-sm"}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText("https://".concat(Oe.mainDomain).concat(Oe.resellerPath)),Bt.success("Link copiado!")},children:(0,Qt.jsx)(el,{className:"w-4 h-4"})})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-xs font-medium text-green-800 mb-1",children:"\ud83d\udc64 Painel de Atendente:"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{value:"https://".concat(Oe.mainDomain).concat(Oe.agentPath),readOnly:!0,className:"text-sm"}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText("https://".concat(Oe.mainDomain).concat(Oe.agentPath)),Bt.success("Link copiado!")},children:(0,Qt.jsx)(el,{className:"w-4 h-4"})})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-xs font-medium text-green-800 mb-1",children:"\ud83c\udf1f Painel do Cliente:"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{value:"https://".concat(Oe.mainDomain).concat(Oe.clientPath),readOnly:!0,className:"text-sm"}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText("https://".concat(Oe.mainDomain).concat(Oe.clientPath)),Bt.success("Link copiado!")},children:(0,Qt.jsx)(el,{className:"w-4 h-4"})})]})]})]}),(0,Qt.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:(0,Qt.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,Qt.jsx)("strong",{children:"\u26a0\ufe0f Importante:"}),(0,Qt.jsx)("br",{}),"\u2022 Revenda e Atendente sempre usam ",(0,Qt.jsx)("strong",{children:"/login"}),(0,Qt.jsx)("br",{}),"\u2022 Cliente acessa direto sem /login"]})})]})]})]})]})}),(0,Qt.jsxs)(Ti,{value:"resellers",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Nova Revenda"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Crie sub-revendas com isolamento completo de dados"}),(0,Qt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Qt.jsx)(On,{placeholder:"Nome da Revenda (ex: lucasrv)",value:W.name,onChange:e=>H(m(m({},W),{},{name:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Email",type:"email",value:W.email,onChange:e=>H(m(m({},W),{},{email:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Senha",type:"password",value:W.password,onChange:e=>H(m(m({},W),{},{password:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Dom\xednio customizado (opcional)",value:W.domain,onChange:e=>H(m(m({},W),{},{domain:e.target.value}))})]}),W.name&&(0,Qt.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[(0,Qt.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"\ud83c\udf10 Subdom\xednio que ser\xe1 criado:"}),(0,Qt.jsxs)("p",{className:"text-lg font-mono text-blue-700 mt-1",children:[W.name.toLowerCase().replace(/[^a-z0-9]/g,""),".suporte.help"]}),(0,Qt.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["\ud83d\udccb Clientes da revenda acessar\xe3o: https://",W.name.toLowerCase().replace(/[^a-z0-9]/g,""),".suporte.help/chat"]}),(0,Qt.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"\u26a0\ufe0f Ap\xf3s criar, configure DNS tipo A apontando para o IP do servidor"})]}),(0,Qt.jsxs)(zn,{onClick:async()=>{try{const{data:e}=await jo.post("/resellers",W);e.ok&&(Bt.success("Revenda criada com sucesso!"),te({open:!0,data:{name:e.name,email:e.email,password:e.password,test_domain:e.test_domain,urls:e.urls}}),H({name:"",email:"",password:"",domain:"",custom_domain:"",parent_id:null}),qe())}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao criar revenda")}},className:"bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Criar Revenda"]})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Revendas Existentes"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Sistema multi-tenant ativo com isolamento de dados"}),(0,Qt.jsx)("div",{className:"grid gap-4",children:(g||[]).map(e=>(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-semibold",children:e.name}),(0,Qt.jsxs)("p",{className:"text-sm text-slate-600",children:["Email: ",e.email]}),e.custom_domain&&(0,Qt.jsxs)("p",{className:"text-sm text-emerald-600",children:["Dom\xednio: ",e.custom_domain]}),(0,Qt.jsxs)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded inline-block mt-2",children:["N\xedvel ",e.level||0]}),void 0!==e.is_active&&(0,Qt.jsx)("span",{className:"text-xs px-2 py-1 rounded inline-block ml-2 mt-2 ".concat(e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_active?"Ativo":"Inativo"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(nu,{children:[(0,Qt.jsx)(su,{asChild:!0,children:(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>$(m(m({},e),{},{password:""})),children:(0,Qt.jsx)(al,{className:"w-4 h-4"})})}),(0,Qt.jsxs)(lu,{children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\u270f\ufe0f Editar Revenda"})}),G&&G.id===e.id&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Nome:"}),(0,Qt.jsx)(On,{value:G.name,onChange:e=>$(m(m({},G),{},{name:e.target.value})),placeholder:"Nome da revenda"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Email:"}),(0,Qt.jsx)(On,{type:"email",value:G.email,onChange:e=>$(m(m({},G),{},{email:e.target.value})),placeholder:"Email de acesso"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Nova Senha (deixe vazio para manter):"}),(0,Qt.jsx)(On,{type:"password",value:G.password||"",onChange:e=>$(m(m({},G),{},{password:e.target.value})),placeholder:"Nova senha (opcional)"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Dom\xednio Customizado:"}),(0,Qt.jsx)(On,{value:G.custom_domain||"",onChange:e=>$(m(m({},G),{},{custom_domain:e.target.value})),placeholder:"exemplo.com"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:!1!==G.is_active,onChange:e=>$(m(m({},G),{},{is_active:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsx)("label",{className:"text-sm font-medium",children:"Ativo"})]}),(0,Qt.jsxs)(zn,{onClick:Ve,className:"w-full",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4 mr-2"}),"Salvar Altera\xe7\xf5es"]})]})]})]}),(0,Qt.jsx)(zn,{variant:"destructive",size:"sm",onClick:()=>We(e.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})]})},e.id))})]})]}),(0,Qt.jsxs)(Ti,{value:"agents",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Novo Atendente"}),(0,Qt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Qt.jsx)(On,{"data-testid":"agent-name-input",placeholder:"Nome",value:B.name,onChange:e=>q(m(m({},B),{},{name:e.target.value}))}),(0,Qt.jsx)(On,{"data-testid":"agent-login-input-field",placeholder:"Login",value:B.login,onChange:e=>q(m(m({},B),{},{login:e.target.value}))}),(0,Qt.jsx)(On,{"data-testid":"agent-password-input-field",type:"password",placeholder:"Senha",value:B.password,onChange:e=>q(m(m({},B),{},{password:e.target.value}))}),(0,Qt.jsx)(On,{"data-testid":"agent-avatar-input",placeholder:"Avatar URL (opcional)",value:B.avatar,onChange:e=>q(m(m({},B),{},{avatar:e.target.value}))})]}),(0,Qt.jsxs)("div",{className:"mt-4 p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:[(0,Qt.jsx)("label",{className:"text-sm font-semibold text-indigo-900 mb-2 block",children:"\ud83d\udcc2 Departamentos (Atendente ver\xe1 apenas tickets destes departamentos)"}),(0,Qt.jsx)("p",{className:"text-xs text-indigo-700 mb-3",children:"Selecione quais departamentos este atendente pode acessar. Se n\xe3o selecionar nenhum, ter\xe1 acesso a todos."}),f.length>0?(0,Qt.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,Qt.jsxs)("label",{className:"flex items-center gap-2 p-2 bg-white rounded border hover:bg-indigo-50 cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:B.department_ids.includes(e.id),onChange:t=>{t.target.checked?q(m(m({},B),{},{department_ids:[...B.department_ids,e.id]})):q(m(m({},B),{},{department_ids:B.department_ids.filter(t=>t!==e.id)}))},className:"w-4 h-4"}),(0,Qt.jsx)("span",{className:"text-sm font-medium",children:e.name}),e.description&&(0,Qt.jsxs)("span",{className:"text-xs text-slate-500",children:["- ",e.description]})]},e.id))}):(0,Qt.jsx)("p",{className:"text-xs text-slate-500 italic",children:'Configure departamentos na aba "Departamentos" primeiro'})]}),(0,Qt.jsxs)(zn,{"data-testid":"create-agent-btn",onClick:async()=>{try{await jo.post("/agents",B),Bt.success("Atendente criado com sucesso!"),q({name:"",login:"",password:"",avatar:"",department_ids:[]}),qe()}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao criar atendente")}},className:"mt-4 bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Adicionar Atendente"]})]}),(0,Qt.jsx)("div",{className:"grid gap-4",children:p.map(e=>(0,Qt.jsx)(Un,{className:"p-6",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[e.avatar&&(0,Qt.jsx)("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold text-slate-900",children:e.name}),(0,Qt.jsxs)("p",{className:"text-sm text-slate-600",children:["@",e.login]})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(nu,{children:[(0,Qt.jsx)(su,{asChild:!0,children:(0,Qt.jsx)(zn,{"data-testid":"edit-agent-".concat(e.id,"-btn"),variant:"outline",size:"sm",onClick:()=>V(e),children:(0,Qt.jsx)(al,{className:"w-4 h-4"})})}),(0,Qt.jsxs)(lu,{children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"Editar Atendente"})}),U&&U.id===e.id&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsx)(On,{placeholder:"Nome",defaultValue:e.name,onChange:e=>V(m(m({},U),{},{name:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Login",defaultValue:e.login,onChange:e=>V(m(m({},U),{},{login:e.target.value}))}),(0,Qt.jsx)(On,{type:"password",placeholder:"Nova senha (opcional)",onChange:e=>V(m(m({},U),{},{password:e.target.value}))}),(0,Qt.jsx)(zn,{onClick:()=>(async(e,t)=>{try{await jo.put("/agents/".concat(e),t),Bt.success("Atendente atualizado!"),V(null),qe()}catch(a){Bt.error("Erro ao atualizar atendente")}})(e.id,U),className:"w-full",children:"Salvar"})]})]})]}),(0,Qt.jsx)(zn,{"data-testid":"delete-agent-".concat(e.id,"-btn"),variant:"outline",size:"sm",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este atendente?"))try{await jo.delete("/agents/".concat(e)),Bt.success("Atendente exclu\xeddo!"),qe()}catch(t){Bt.error("Erro ao excluir atendente")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]})]})},e.id))})]}),(0,Qt.jsx)(Ti,{value:"departments",className:"space-y-6",children:(0,Qt.jsx)(Kf,{})}),(0,Qt.jsx)(Ti,{value:"quick",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Mensagens R\xe1pidas"}),(0,Qt.jsxs)(zn,{"data-testid":"add-quick-block-btn",size:"sm",onClick:()=>w(m(m({},j),{},{quick_blocks:[...j.quick_blocks,{name:"",text:""}]})),children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Novo Bloco"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:(j.quick_blocks||[]).map((e,t)=>(0,Qt.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsx)(On,{placeholder:"Nome do bloco",value:e.name,onChange:e=>{const a=[...j.quick_blocks];a[t].name=e.target.value,w(m(m({},j),{},{quick_blocks:a}))},className:"flex-1 mr-2"}),(0,Qt.jsx)(zn,{"data-testid":"remove-quick-block-".concat(t,"-btn"),variant:"outline",size:"sm",onClick:()=>{const e=j.quick_blocks.filter((e,a)=>a!==t);w(m(m({},j),{},{quick_blocks:e}))},children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]}),(0,Qt.jsx)(ll,{placeholder:"Texto da mensagem",value:e.text,onChange:e=>{const a=[...j.quick_blocks];a[t].text=e.target.value,w(m(m({},j),{},{quick_blocks:a}))},rows:3})]},t))}),(0,Qt.jsx)(zn,{"data-testid":"save-quick-blocks-btn",onClick:He,className:"mt-4 bg-purple-600 hover:bg-purple-700",children:"Salvar Configura\xe7\xf5es"})]})}),(0,Qt.jsx)(Ti,{value:"security",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udd10 Dados Permitidos para Envio"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Configure quais dados sens\xedveis podem ser enviados nas conversas"}),(0,Qt.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-lg p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\uddbc\ufe0f Logo/Foto do Suporte"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-600 mb-3",children:"Esta imagem aparecer\xe1 como foto do suporte nas conversas com clientes"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qt.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center overflow-hidden border-2 border-indigo-200",children:j.support_avatar?(0,Qt.jsx)("img",{src:j.support_avatar,alt:"Logo do Suporte",className:"w-full h-full object-cover"}):(0,Qt.jsx)(sa,{className:"w-10 h-10 text-indigo-400"})}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("input",{ref:A,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/")){E(!0);try{const e=new FormData;e.append("file",t);const{data:a}=await jo.post("/config/support-avatar",e,{headers:{"Content-Type":"multipart/form-data"}});w(e=>m(m({},e),{},{support_avatar:a.avatar_url})),Bt.success("Logo atualizada com sucesso!"),qe()}catch(a){Bt.error("Erro ao fazer upload da logo"),console.error("Upload error:",a)}finally{E(!1)}}else Bt.error("Por favor, selecione uma imagem")},className:"hidden"}),(0,Qt.jsx)(zn,{onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.click()},disabled:C,className:"bg-indigo-600 hover:bg-indigo-700",size:"sm",children:C?"Enviando...":"\ud83d\udce4 Fazer Upload da Logo"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Formato: JPG, PNG. Recomendado: 512x512px"})]})]})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udcb0 Chave PIX"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{placeholder:"Digite a chave PIX (CPF, Email, Telefone ou Chave Aleat\xf3ria)",value:j.pix_key||"",onChange:e=>w(m(m({},j),{},{pix_key:e.target.value})),className:"flex-1"}),(0,Qt.jsx)(zn,{onClick:He,className:"bg-emerald-600 hover:bg-emerald-700",children:"\ud83d\udcbe Salvar PIX"})]}),j.pix_key&&(0,Qt.jsxs)("p",{className:"text-sm text-emerald-600 mt-2",children:["\u2705 Chave PIX cadastrada: ",j.pix_key]})]}),(0,Qt.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-lg p-4 mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-amber-900 mb-2",children:"\u26a1 Replicar para Todas as Revendas"}),(0,Qt.jsx)("p",{className:"text-sm text-amber-700 mb-3",children:"Propaga todas as configura\xe7\xf5es desta p\xe1gina (PIX, Dados Permitidos) para TODAS as revendas do sistema."}),(0,Qt.jsx)(zn,{onClick:Ue,className:"bg-amber-600 hover:bg-amber-700 w-full",variant:"default",children:"\ud83d\udd04 Replicar Configura\xe7\xf5es"})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udcc4 CPFs Permitidos"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:"Apenas CPFs cadastrados aqui poder\xe3o ser enviados nas conversas"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"000.000.000-00",id:"new-cpf",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-cpf"),a=e.value.trim();if(a){var t;const n=(null===(t=j.allowed_data)||void 0===t?void 0:t.cpfs)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{cpfs:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-cpf"),t=e.value.trim();if(t){var a;const n=(null===(a=j.allowed_data)||void 0===a?void 0:a.cpfs)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{cpfs:[...n,t]})})),e.value="",He()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(e=j.allowed_data)||void 0===e?void 0:e.cpfs)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=j.allowed_data.cpfs.filter((e,a)=>a!==t);w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{cpfs:e})})),He()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udce7 Emails Permitidos"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"email@exemplo.com",type:"email",id:"new-email",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-email"),a=e.value.trim();if(a){var t;const n=(null===(t=j.allowed_data)||void 0===t?void 0:t.emails)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{emails:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-email"),t=e.value.trim();if(t){var a;const n=(null===(a=j.allowed_data)||void 0===a?void 0:a.emails)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{emails:[...n,t]})})),e.value="",He()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(t=j.allowed_data)||void 0===t?void 0:t.emails)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=j.allowed_data.emails.filter((e,a)=>a!==t);w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{emails:e})})),He()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udcf1 Telefones/WhatsApp Permitidos"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"+55 11 91111-1111",id:"new-phone",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-phone"),a=e.value.trim();if(a){var t;const n=(null===(t=j.allowed_data)||void 0===t?void 0:t.phones)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{phones:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-phone"),t=e.value.trim();if(t){var a;const n=(null===(a=j.allowed_data)||void 0===a?void 0:a.phones)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{phones:[...n,t]})})),e.value="",He()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(a=j.allowed_data)||void 0===a?void 0:a.phones)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=j.allowed_data.phones.filter((e,a)=>a!==t);w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{phones:e})})),He()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udd11 Chaves Aleat\xf3rias PIX"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"UUID ou chave aleat\xf3ria",id:"new-random-key",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-random-key"),a=e.value.trim();if(a){var t;const n=(null===(t=j.allowed_data)||void 0===t?void 0:t.random_keys)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{random_keys:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-random-key"),t=e.value.trim();if(t){var a;const n=(null===(a=j.allowed_data)||void 0===a?void 0:a.random_keys)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{random_keys:[...n,t]})})),e.value="",He()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(n=j.allowed_data)||void 0===n?void 0:n.random_keys)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=j.allowed_data.random_keys.filter((e,a)=>a!==t);w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{random_keys:e})})),He()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udcac Mensagens Permitidas"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:"Mensagens que estar\xe3o salvas aqui poder\xe3o ser enviadas sem restri\xe7\xe3o de seguran\xe7a"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"Digite a mensagem permitida...",id:"new-allowed-message",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-allowed-message"),a=e.value.trim();if(a){var t;const n=(null===(t=j.allowed_data)||void 0===t?void 0:t.allowed_messages)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{allowed_messages:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-allowed-message"),t=e.value.trim();if(t){var a;const n=(null===(a=j.allowed_data)||void 0===a?void 0:a.allowed_messages)||[];w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{allowed_messages:[...n,t]})})),e.value="",He()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(r=j.allowed_data)||void 0===r?void 0:r.allowed_messages)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm flex items-center gap-2 max-w-md truncate",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=j.allowed_data.allowed_messages.filter((e,a)=>a!==t);w(m(m({},j),{},{allowed_data:m(m({},j.allowed_data),{},{allowed_messages:e})})),He()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]})]})}),(0,Qt.jsxs)(Ti,{value:"config",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Auto-Resposta"}),(0,Qt.jsxs)(zn,{"data-testid":"add-auto-reply-btn",size:"sm",onClick:()=>w(m(m({},j),{},{auto_reply:[...j.auto_reply,{q:"",a:""}]})),children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Nova Regra"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:(j.auto_reply||[]).map((e,t)=>(0,Qt.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("h4",{className:"font-medium text-slate-700",children:["Regra ",t+1]}),(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>{const e=j.auto_reply.filter((e,a)=>a!==t);w(m(m({},j),{},{auto_reply:e}))},children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]}),(0,Qt.jsx)(On,{placeholder:"Pergunta do cliente",value:e.q,onChange:e=>{const a=[...j.auto_reply];a[t].q=e.target.value,w(m(m({},j),{},{auto_reply:a}))}}),(0,Qt.jsx)(ll,{placeholder:"Resposta autom\xe1tica",value:e.a,onChange:e=>{const a=[...j.auto_reply];a[t].a=e.target.value,w(m(m({},j),{},{auto_reply:a}))},rows:2})]},t))}),(0,Qt.jsx)(zn,{onClick:He,className:"mt-4 bg-purple-600 hover:bg-purple-700",children:"Salvar Auto-Resposta"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Aplicativos / Tutoriais"}),(0,Qt.jsxs)(zn,{"data-testid":"add-app-btn",size:"sm",onClick:()=>w(m(m({},j),{},{apps:[...j.apps,{cat:"SmartTV",title:"",content:""}]})),children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Novo Item"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:(j.apps||[]).map((e,t)=>(0,Qt.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsxs)(kf,{value:e.cat,onValueChange:e=>{const a=[...j.apps];a[t].cat=e,w(m(m({},j),{},{apps:a}))},children:[(0,Qt.jsx)(Sf,{className:"w-[200px]",children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsx)(Af,{children:["Tv box","SmartTV","Celular IOS","Celular Android","AndroidTV","Projetor","Fire stick TV","Video Game","Chromecast"].map(e=>(0,Qt.jsx)(Tf,{value:e,children:e},e))})]}),(0,Qt.jsx)(On,{placeholder:"T\xedtulo",value:e.title,onChange:e=>{const a=[...j.apps];a[t].title=e.target.value,w(m(m({},j),{},{apps:a}))},className:"flex-1"}),(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>{const e=j.apps.filter((e,a)=>a!==t);w(m(m({},j),{},{apps:e}))},children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]}),(0,Qt.jsx)(ll,{placeholder:"Conte\xfado / instru\xe7\xf5es",value:e.content,onChange:e=>{const a=[...j.apps];a[t].content=e.target.value,w(m(m({},j),{},{apps:a}))},rows:3})]},t))}),(0,Qt.jsx)(zn,{onClick:He,className:"mt-4 bg-purple-600 hover:bg-purple-700",children:"Salvar Aplicativos"})]})]}),(0,Qt.jsxs)(Ti,{value:"notices",className:"space-y-6",children:[(0,Qt.jsx)(Un,{className:"p-6",children:(0,Qt.jsx)(Ax,{onSubmit:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"own",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none";try{await jo.post("/notices",{title:e||"Aviso Importante",message:t||"",recipient_type:a,target_audience:n,target_reseller_ids:[],media_url:s,media_type:r});const o="all"===a?"Todos":"team"===a?"Equipe":"Clientes",l="none"!==r?" com ".concat("photo"===r?"\ud83d\udcf7 foto":"video"===r?"\ud83c\udfa5 v\xeddeo":"\ud83c\udfb5 \xe1udio"):"";Bt.success("\u2705 Aviso publicado para: ".concat(o).concat(l,"!")),qe()}catch(o){Bt.error("Erro ao publicar aviso")}},isAdmin:!0})}),N.map(e=>(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-lg",children:e.title||"Aviso"}),(0,Qt.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-700",children:"all"===e.recipient_type?"\ud83c\udf0d Todos":"team"===e.recipient_type?"\ud83d\udc54 Equipe":"\ud83d\udc64 Clientes"})]}),(0,Qt.jsx)("p",{className:"text-slate-700 whitespace-pre-wrap",children:e.message}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:new Date(e.created_at).toLocaleString("pt-BR")})]}),(0,Qt.jsx)(zn,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar este aviso?"))try{await jo.delete("/notices/".concat(e)),Bt.success("Aviso deletado!"),qe()}catch(n){var t,a;Bt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erro ao deletar aviso")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})},e.id))]}),(0,Qt.jsx)(Ti,{value:"auto-responder",className:"space-y-6",children:(0,Qt.jsx)(Jf,{})}),(0,Qt.jsx)(Ti,{value:"tutorials",className:"space-y-6",children:(0,Qt.jsx)(ex,{})}),(0,Qt.jsx)(Ti,{value:"iptv-apps",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udcfa Gerenciar Aplicativos"}),(0,Qt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nome do App"}),(0,Qt.jsx)(On,{placeholder:"Ex: Meu Sistema",value:D.name,onChange:e=>M(m(m({},D),{},{name:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"URL de Configura\xe7\xe3o"}),(0,Qt.jsx)(On,{placeholder:"http://seu_aplicativo.com/configuracao",value:D.config_url,onChange:e=>M(m(m({},D),{},{config_url:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Template da URL"}),(0,Qt.jsx)(On,{placeholder:"http://seu_aplicativo.com/{usuario}/{senha}",value:D.url_template,onChange:e=>M(m(m({},D),{},{url_template:e.target.value}))}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{","variavel","}"," para campos din\xe2micos"]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Campos (separados por v\xedrgula)"}),(0,Qt.jsx)(On,{placeholder:"username, password, codigo",value:D.fields.join(", "),onChange:e=>M(m(m({},D),{},{fields:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Instru\xe7\xf5es para o Agente"}),(0,Qt.jsx)(ll,{placeholder:"1. Acesse o site...\n2. Cole o c\xf3digo...\n3. Salve",value:D.instructions,onChange:e=>M(m(m({},D),{},{instructions:e.target.value})),rows:5})]}),(0,Qt.jsxs)(zn,{onClick:async()=>{try{await jo.post("/iptv-apps",D),Bt.success("App IPTV criado com sucesso!"),M({name:"",type:"SSIPTV",config_url:"",url_template:"",fields:[],instructions:""}),qe()}catch(e){Bt.error("Erro ao criar app IPTV")}},className:"w-full",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Criar App IPTV"]})]}),(0,Qt.jsxs)("div",{className:"border-t pt-4",children:[(0,Qt.jsxs)("h4",{className:"font-semibold mb-3",children:["Apps Cadastrados (",I.length,")"]}),(0,Qt.jsxs)("div",{className:"space-y-2",children:[I.map(e=>(0,Qt.jsxs)("div",{className:"border rounded-lg p-4 flex justify-between items-start",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h5",{className:"font-medium",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500",children:e.type}),(0,Qt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.config_url}),(0,Qt.jsx)("p",{className:"text-xs bg-gray-100 p-2 rounded mt-2 font-mono",children:e.url_template}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Campos: ",e.fields.join(", ")]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>F(e),children:(0,Qt.jsx)(al,{className:"w-3 h-3"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar este app?"))try{await jo.delete("/iptv-apps/".concat(e)),Bt.success("App deletado!"),qe()}catch(t){Bt.error("Erro ao deletar app")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-3 h-3"})})]})]},e.id)),0===I.length&&(0,Qt.jsx)("p",{className:"text-gray-400 text-center py-4",children:"Nenhum app cadastrado ainda"})]})]})]})}),(0,Qt.jsx)(Ti,{value:"whatsapp-plans",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,Qt.jsx)(To,{className:"w-6 h-6 text-green-600"}),"\ud83d\udcf1 Gerenciar Planos WhatsApp"]}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Configure os planos WhatsApp para cada revenda. Controle quantos n\xfameros cada revenda pode conectar."}),(0,Qt.jsxs)("div",{className:"mb-8",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-4",children:"Planos Dispon\xedveis:"}),(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Qt.jsx)(Un,{className:"p-4 border-2 border-blue-200 bg-blue-50",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-lg font-bold text-blue-900",children:"B\xe1sico"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-blue-600 my-2",children:"1"}),(0,Qt.jsx)("p",{className:"text-sm text-blue-700",children:"n\xfamero"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-blue-900 mt-2",children:"R$ 49/m\xeas"})]})}),(0,Qt.jsx)(Un,{className:"p-4 border-2 border-purple-200 bg-purple-50",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-lg font-bold text-purple-900",children:"Plus"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-purple-600 my-2",children:"2"}),(0,Qt.jsx)("p",{className:"text-sm text-purple-700",children:"n\xfameros"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-purple-900 mt-2",children:"R$ 89/m\xeas"})]})}),(0,Qt.jsx)(Un,{className:"p-4 border-2 border-green-200 bg-green-50",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-lg font-bold text-green-900",children:"Pro"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-green-600 my-2",children:"3"}),(0,Qt.jsx)("p",{className:"text-sm text-green-700",children:"n\xfameros"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-green-900 mt-2",children:"R$ 129/m\xeas"})]})}),(0,Qt.jsx)(Un,{className:"p-4 border-2 border-orange-200 bg-orange-50",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-lg font-bold text-orange-900",children:"Premium"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-orange-600 my-2",children:"5"}),(0,Qt.jsx)("p",{className:"text-sm text-orange-700",children:"n\xfameros"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-orange-900 mt-2",children:"R$ 199/m\xeas"})]})}),(0,Qt.jsx)(Un,{className:"p-4 border-2 border-red-200 bg-red-50",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("p",{className:"text-lg font-bold text-red-900",children:"Enterprise"}),(0,Qt.jsx)("p",{className:"text-3xl font-bold text-red-600 my-2",children:"\u221e"}),(0,Qt.jsx)("p",{className:"text-sm text-red-700",children:"ilimitado"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-red-900 mt-2",children:"R$ 499/m\xeas"})]})})]})]}),(0,Qt.jsx)(Un,{className:"mb-6 bg-yellow-50 border-2 border-yellow-300 p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("div",{className:"text-3xl",children:"\u26a0\ufe0f"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold text-yellow-900 mb-1",children:"Importante: Configure o Mercado Pago primeiro!"}),(0,Qt.jsxs)("p",{className:"text-sm text-yellow-800 mb-2",children:["Antes que as revendas possam fazer pagamentos, voc\xea precisa configurar o Mercado Pago na aba",(0,Qt.jsx)("strong",{children:' "Mercado Pago"'}),"."]}),(0,Qt.jsx)("p",{className:"text-xs text-yellow-700",children:"Sem a configura\xe7\xe3o do Mercado Pago, as revendas ver\xe3o uma mensagem de erro ao tentar gerar QR Code de pagamento."})]})]})}),(0,Qt.jsxs)(Un,{className:"mb-8 bg-gradient-to-r from-emerald-50 to-teal-50 border-2 border-emerald-200 p-6",children:[(0,Qt.jsxs)("h4",{className:"font-semibold mb-4 text-lg flex items-center gap-2",children:[(0,Qt.jsx)(Ko,{className:"w-5 h-5 text-emerald-600"}),"\ud83d\udcb3 Renova\xe7\xe3o Manual de Assinatura"]}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Renove manualmente a assinatura de qualquer revenda"}),(0,Qt.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[(0,Qt.jsxs)("div",{className:"relative reseller-search-container",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Revenda"}),(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(On,{placeholder:"\ud83d\udd0d Pesquisar revenda...",value:ie,onChange:e=>{ce(e.target.value),ue(!0)},onFocus:()=>ue(!0),className:"w-full pr-10"}),(0,Qt.jsx)("button",{onClick:()=>{ue(!de),de||ce("")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-600 hover:text-slate-900",children:(0,Qt.jsx)(sl,{className:"w-5 h-5 transition-transform ".concat(de?"rotate-180":"")})})]}),de&&(0,Qt.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:(ie?Ge:g).length>0?(ie?Ge:g).map(e=>(0,Qt.jsxs)("div",{className:"px-4 py-2 hover:bg-slate-100 cursor-pointer flex items-center justify-between",onClick:()=>{ne(m(m({},ae),{},{reseller_id:e.id})),ce("".concat(e.name," (").concat(e.email,")")),ue(!1)},children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:e.email})]}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),ue(!1),We(e.id)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]},e.id)):(0,Qt.jsx)("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"Nenhuma revenda encontrada"})})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Plano"}),(0,Qt.jsxs)(kf,{value:ae.plan_type,onValueChange:e=>ne(m(m({},ae),{},{plan_type:e})),children:[(0,Qt.jsx)(Sf,{children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsxs)(Af,{children:[(0,Qt.jsx)(Tf,{value:"basico",children:"B\xe1sico - R$ 49/m\xeas"}),(0,Qt.jsx)(Tf,{value:"plus",children:"Plus - R$ 89/m\xeas"}),(0,Qt.jsx)(Tf,{value:"pro",children:"Pro - R$ 129/m\xeas"}),(0,Qt.jsx)(Tf,{value:"premium",children:"Premium - R$ 199/m\xeas"}),(0,Qt.jsx)(Tf,{value:"enterprise",children:"Enterprise - R$ 499/m\xeas"})]})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Meses"}),(0,Qt.jsxs)(kf,{value:ae.months.toString(),onValueChange:e=>ne(m(m({},ae),{},{months:parseInt(e)})),children:[(0,Qt.jsx)(Sf,{children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsxs)(Af,{children:[(0,Qt.jsx)(Tf,{value:"1",children:"1 m\xeas"}),(0,Qt.jsx)(Tf,{value:"3",children:"3 meses"}),(0,Qt.jsx)(Tf,{value:"6",children:"6 meses"}),(0,Qt.jsx)(Tf,{value:"12",children:"12 meses (1 ano)"})]})]})]}),(0,Qt.jsx)("div",{className:"flex items-end",children:(0,Qt.jsx)(zn,{onClick:async()=>{if(ae.reseller_id)try{await jo.post("/admin/subscriptions/manual-renew",ae),Bt.success("\u2705 Assinatura renovada por ".concat(ae.months," ").concat(1===ae.months?"m\xeas":"meses","!")),Be(),ne({reseller_id:"",plan_type:"basico",months:1})}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao renovar assinatura")}else Bt.error("Selecione uma revenda")},className:"w-full bg-emerald-600 hover:bg-emerald-700",children:"\u2705 Renovar Agora"})})]})]}),(0,Qt.jsxs)(Un,{className:"mb-8 p-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-4 text-lg",children:"\ud83d\udccb Assinaturas Ativas"}),(0,Qt.jsxs)("div",{className:"space-y-3",children:[se.map(e=>{var t,a;return(0,Qt.jsx)(Un,{className:"p-4 bg-slate-50",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("p",{className:"font-medium",children:e.reseller_name||"Nome n\xe3o dispon\xedvel"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-600",children:e.reseller_email}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Plano: ",(0,Qt.jsx)("span",{className:"font-semibold text-slate-700",children:null===(t=e.plan_type)||void 0===t?void 0:t.toUpperCase()})]})]}),(0,Qt.jsx)("div",{className:"text-right",children:oe===e.reseller_id?(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{type:"datetime-local",defaultValue:null===(a=e.current_period_end)||void 0===a?void 0:a.split(".")[0],onChange:t=>{const a=t.target.value+":00.000Z";(async(e,t)=>{try{await jo.put("/admin/subscriptions/".concat(e,"/end-date"),{end_date:t}),Bt.success("\u2705 Data de vencimento atualizada!"),Be(),le(null)}catch(s){var a,n;Bt.error((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||"Erro ao atualizar data")}})(e.reseller_id,a)},className:"text-xs"}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>le(null),children:"Cancelar"})]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Vencimento:"}),(0,Qt.jsx)("p",{className:"font-semibold text-sm",children:new Date(e.current_period_end).toLocaleDateString("pt-BR")}),(0,Qt.jsxs)(zn,{size:"sm",variant:"outline",onClick:()=>le(e.reseller_id),className:"mt-2",children:[(0,Qt.jsx)(al,{className:"w-3 h-3 mr-1"}),"Editar Data"]})]})})]})},e.id)}),0===se.length&&(0,Qt.jsx)("p",{className:"text-center text-slate-400 py-4",children:"Nenhuma assinatura encontrada"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-4",children:"Configurar Plano por Revenda:"}),(0,Qt.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("p",{className:"font-semibold",children:e.name}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:e.email})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-xs text-slate-600",children:"Plano WhatsApp:"}),(0,Qt.jsxs)("select",{value:e.whatsapp_plan||"basico",onChange:async t=>{try{await jo.put("/whatsapp/config/plan/".concat(e.id,"?plan=").concat(t.target.value)),alert("\u2705 Plano atualizado com sucesso!"),v(g.map(a=>a.id===e.id?m(m({},a),{},{whatsapp_plan:t.target.value}):a))}catch(s){var a,n;alert("\u274c Erro ao atualizar plano: "+((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||s.message))}},className:"border rounded px-3 py-1 text-sm font-semibold",children:[(0,Qt.jsx)("option",{value:"basico",children:"B\xe1sico (1 - R$ 49)"}),(0,Qt.jsx)("option",{value:"plus",children:"Plus (2 - R$ 89)"}),(0,Qt.jsx)("option",{value:"pro",children:"Pro (3 - R$ 129)"}),(0,Qt.jsx)("option",{value:"premium",children:"Premium (5 - R$ 199)"}),(0,Qt.jsx)("option",{value:"enterprise",children:"Enterprise (\u221e - R$ 499)"})]})]}),(0,Qt.jsxs)(zn,{onClick:()=>window.open("https://".concat(e.test_domain,"/reseller-login"),"_blank"),variant:"outline",size:"sm",children:[(0,Qt.jsx)(rl,{className:"w-4 h-4 mr-1"}),"Acessar Painel"]})]})]})},e.id))})]}),(0,Qt.jsxs)(Un,{className:"p-4 bg-blue-50 border-blue-200 mt-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"\u2139\ufe0f Como Funciona:"}),(0,Qt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Qt.jsx)("li",{children:"Selecione o plano WhatsApp para cada revenda"}),(0,Qt.jsx)("li",{children:"O plano limita quantos n\xfameros a revenda pode conectar"}),(0,Qt.jsx)("li",{children:"Revenda gerencia as conex\xf5es no pr\xf3prio painel (Aba WhatsApp)"}),(0,Qt.jsx)("li",{children:"Voc\xea pode ver as estat\xedsticas de uso de cada revenda"}),(0,Qt.jsx)("li",{children:"Mudan\xe7as de plano s\xe3o aplicadas imediatamente"})]})]})]})}),(0,Qt.jsxs)(Ti,{value:"whatsapp",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6 bg-green-50 border-green-200 mb-4",children:[(0,Qt.jsxs)("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2 text-green-900",children:[(0,Qt.jsx)(To,{className:"w-6 h-6 text-green-600"}),"\ud83d\udcf1 WhatsApp - Conex\xf5es do Admin"]}),(0,Qt.jsx)("p",{className:"text-sm text-green-800",children:"Conecte n\xfameros WhatsApp para seus atendentes. Os tickets chegar\xe3o para os atendentes selecionados nos departamentos."})]}),(0,Qt.jsx)(dx,{})]}),(0,Qt.jsx)(Ti,{value:"mercado-pago",className:"space-y-6",children:(0,Qt.jsx)(gx,{})}),(0,Qt.jsxs)(Ti,{value:"vendas-bot",className:"space-y-6",children:[(0,Qt.jsx)(wx,{}),(0,Qt.jsx)("div",{className:"border-t-4 border-blue-500 my-8"}),(0,Qt.jsxs)(Un,{className:"p-6 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-300",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qt.jsx)("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:(0,Qt.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"text-xl font-bold text-purple-900",children:"Bot\xf5es Interativos WA"}),(0,Qt.jsx)("p",{className:"text-sm text-purple-700",children:"Configure os bot\xf5es do site de vendas"})]})]}),(0,Qt.jsx)(kx,{})]})]}),(0,Qt.jsx)(Ti,{value:"backup",className:"space-y-6",children:(0,Qt.jsx)(_x,{})}),(0,Qt.jsxs)(Ti,{value:"office",className:"space-y-6",children:[(0,Qt.jsx)(Sx,{}),(0,Qt.jsxs)(Un,{className:"p-6 mt-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udd0c Integra\xe7\xe3o API Office"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Configure a API para buscar automaticamente usu\xe1rio e senha dos clientes"}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"URL da API"}),(0,Qt.jsx)(On,{placeholder:"https://api.office.com/v1/...",value:(null===(o=j.api_integration)||void 0===o?void 0:o.api_url)||"",onChange:e=>w(m(m({},j),{},{api_integration:m(m({},j.api_integration),{},{api_url:e.target.value})}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Token de Autentica\xe7\xe3o"}),(0,Qt.jsx)(On,{type:"password",placeholder:"Bearer token ou API key",value:(null===(l=j.api_integration)||void 0===l?void 0:l.api_token)||"",onChange:e=>w(m(m({},j),{},{api_integration:m(m({},j.api_integration),{},{api_token:e.target.value})}))})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",id:"api-enabled",checked:(null===(i=j.api_integration)||void 0===i?void 0:i.api_enabled)||!1,onChange:e=>w(m(m({},j),{},{api_integration:m(m({},j.api_integration),{},{api_enabled:e.target.checked})})),className:"rounded"}),(0,Qt.jsx)("label",{htmlFor:"api-enabled",className:"text-sm font-medium",children:"Ativar integra\xe7\xe3o com API"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{onClick:async()=>{var e;if(null!==(e=j.api_integration)&&void 0!==e&&e.api_url)try{Bt.info("Testando conex\xe3o..."),setTimeout(()=>Bt.success("\u2705 API configurada! (teste futuro)"),1e3)}catch(t){Bt.error("Erro ao testar API")}else Bt.error("Configure a URL da API primeiro")},variant:"outline",children:"\ud83e\uddea Testar Conex\xe3o"}),(0,Qt.jsx)(zn,{onClick:He,className:"bg-blue-600 hover:bg-blue-700",children:"\ud83d\udcbe Salvar Configura\xe7\xe3o"})]}),(null===(c=j.api_integration)||void 0===c?void 0:c.api_enabled)&&(0,Qt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:(0,Qt.jsx)("p",{className:"text-sm text-green-800",children:"\u2705 Integra\xe7\xe3o API ativa! Os atendentes poder\xe3o buscar credenciais automaticamente."})})]})]})]}),(0,Qt.jsx)(Ti,{value:"email",className:"space-y-6",children:(0,Qt.jsx)(Ex,{})})]})}),(0,Qt.jsx)(nu,{open:!!L,onOpenChange:e=>!e&&F(null),children:(0,Qt.jsxs)(lu,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"Editar Aplicativo"})}),L&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nome do App"}),(0,Qt.jsx)(On,{value:L.name,onChange:e=>F(m(m({},L),{},{name:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),(0,Qt.jsxs)(kf,{value:L.type,onValueChange:e=>F(m(m({},L),{},{type:e})),children:[(0,Qt.jsx)(Sf,{children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsxs)(Af,{children:[(0,Qt.jsx)(Tf,{value:"SSIPTV",children:"SS-IPTV"}),(0,Qt.jsx)(Tf,{value:"SMARTONE",children:"SmartOne IPTV"}),(0,Qt.jsx)(Tf,{value:"DUPLEXPLAY",children:"Duplex Play"}),(0,Qt.jsx)(Tf,{value:"IBOPLAYER",children:"IBO Player"}),(0,Qt.jsx)(Tf,{value:"SMARTIPTV",children:"Smart IPTV"}),(0,Qt.jsx)(Tf,{value:"BAYTV",children:"Bay TV"}),(0,Qt.jsx)(Tf,{value:"DUPLECAST",children:"Duplecast"})]})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"URL de Configura\xe7\xe3o"}),(0,Qt.jsx)(On,{value:L.config_url,onChange:e=>F(m(m({},L),{},{config_url:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Template da URL"}),(0,Qt.jsx)(On,{value:L.url_template,onChange:e=>F(m(m({},L),{},{url_template:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Campos (separados por v\xedrgula)"}),(0,Qt.jsx)(On,{value:(null===(d=L.fields)||void 0===d?void 0:d.join(", "))||"",onChange:e=>F(m(m({},L),{},{fields:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Instru\xe7\xf5es"}),(0,Qt.jsx)(ll,{value:L.instructions,onChange:e=>F(m(m({},L),{},{instructions:e.target.value})),rows:5})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(zn,{onClick:()=>(async(e,t)=>{try{await jo.put("/iptv-apps/".concat(e),t),Bt.success("App atualizado!"),F(null),qe()}catch(a){Bt.error("Erro ao atualizar app")}})(L.id,L),className:"flex-1",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4 mr-2"}),"Salvar Altera\xe7\xf5es"]}),(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>F(null),children:"Cancelar"})]})]})]})}),(0,Qt.jsx)(nu,{open:T,onOpenChange:R,children:(0,Qt.jsxs)(lu,{className:"sm:max-w-[500px]",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"flex items-center gap-2 text-xl",children:[(0,Qt.jsx)(Lo,{className:"w-6 h-6 text-purple-600"}),"Aplicar Configura\xe7\xf5es para Todas as Revendas"]})}),(0,Qt.jsxs)("div",{className:"space-y-4 py-4",children:[(0,Qt.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Qt.jsx)("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"\u26a0\ufe0f ATEN\xc7\xc3O:"}),(0,Qt.jsxs)("p",{className:"text-sm text-yellow-700",children:["Esta a\xe7\xe3o ir\xe1 ",(0,Qt.jsx)("strong",{children:"replicar TODAS as configura\xe7\xf5es de sistema"})," do painel admin principal para ",(0,Qt.jsx)("strong",{children:"TODAS as revendas"}),"."]})]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Qt.jsx)("p",{className:"text-sm text-blue-900 font-semibold mb-2",children:"\u2705 Ser\xe1 replicado:"}),(0,Qt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 ml-4 list-disc",children:[(0,Qt.jsx)("li",{children:"Logo do suporte"}),(0,Qt.jsx)("li",{children:"Configura\xe7\xf5es de IA"}),(0,Qt.jsx)("li",{children:"Auto-respostas"}),(0,Qt.jsx)("li",{children:"Tutoriais"}),(0,Qt.jsx)("li",{children:"Apps IPTV (templates)"}),(0,Qt.jsx)("li",{children:"Configura\xe7\xf5es gerais do sistema"})]})]}),(0,Qt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,Qt.jsx)("p",{className:"text-sm text-green-900 font-semibold mb-2",children:"\u274c N\xc3O ser\xe1 replicado:"}),(0,Qt.jsxs)("ul",{className:"text-sm text-green-800 space-y-1 ml-4 list-disc",children:[(0,Qt.jsx)("li",{children:"Agentes criados manualmente"}),(0,Qt.jsx)("li",{children:"Atendentes criados"}),(0,Qt.jsx)("li",{children:"Departamentos criados"}),(0,Qt.jsx)("li",{children:"Clientes/Tickets das revendas"}),(0,Qt.jsx)("li",{children:"Dom\xednios das revendas"})]})]}),(0,Qt.jsx)("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-4",children:(0,Qt.jsx)("p",{className:"text-sm text-red-900 font-bold text-center",children:"\u26a0\ufe0f Esta a\xe7\xe3o IR\xc1 SOBRESCREVER as configura\xe7\xf5es atuais de todas as revendas!"})})]}),(0,Qt.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>R(!1),disabled:P,children:"Cancelar"}),(0,Qt.jsx)(zn,{onClick:Ue,disabled:P,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:P?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Replicando..."]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Lo,{className:"w-4 h-4 mr-2"}),"Confirmar e Aplicar"]})})]})]})}),(0,Qt.jsx)(nu,{open:ee.open,onOpenChange:e=>te({open:e,data:null}),children:(0,Qt.jsxs)(lu,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"flex items-center gap-2 text-xl",children:[(0,Qt.jsx)(Yo,{className:"w-6 h-6 text-green-600"}),"Revenda Criada com Sucesso!"]})}),ee.data&&(0,Qt.jsxs)("div",{className:"space-y-6 py-4",children:[(0,Qt.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[(0,Qt.jsx)(Uo,{className:"w-5 h-5"}),"Informa\xe7\xf5es de Acesso"]}),(0,Qt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Qt.jsxs)("div",{className:"flex justify-between",children:[(0,Qt.jsx)("span",{className:"text-blue-700 font-semibold",children:"Nome:"}),(0,Qt.jsx)("span",{className:"text-blue-900",children:ee.data.name})]}),(0,Qt.jsxs)("div",{className:"flex justify-between",children:[(0,Qt.jsx)("span",{className:"text-blue-700 font-semibold",children:"Email:"}),(0,Qt.jsx)("span",{className:"text-blue-900",children:ee.data.email})]}),(0,Qt.jsxs)("div",{className:"flex justify-between",children:[(0,Qt.jsx)("span",{className:"text-blue-700 font-semibold",children:"Senha:"}),(0,Qt.jsx)("span",{className:"text-blue-900 font-mono bg-blue-100 px-2 py-1 rounded",children:ee.data.password})]})]})]}),(0,Qt.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-green-900 mb-3 flex items-center gap-2",children:[(0,Qt.jsx)(rl,{className:"w-5 h-5"}),"\ud83d\udd17 Link de Acesso Unificado"]}),(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsx)("p",{className:"text-sm text-green-800 font-semibold",children:"A revenda deve usar ESTE link para acessar:"}),(0,Qt.jsx)("div",{className:"bg-white rounded-lg p-3 border-2 border-green-300",children:(0,Qt.jsxs)("a",{href:"".concat(window.location.origin,"/reseller-login"),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 underline font-mono break-all block",children:[window.location.origin,"/reseller-login"]})}),(0,Qt.jsxs)("div",{className:"bg-green-100 rounded-lg p-3",children:[(0,Qt.jsx)("p",{className:"text-xs text-green-800",children:(0,Qt.jsx)("strong",{children:"Instru\xe7\xf5es:"})}),(0,Qt.jsxs)("ol",{className:"text-xs text-green-700 mt-1 ml-4 list-decimal space-y-1",children:[(0,Qt.jsx)("li",{children:"Acesse o link acima"}),(0,Qt.jsx)("li",{children:"Fa\xe7a login com o email e senha informados"}),(0,Qt.jsx)("li",{children:"No primeiro acesso, ser\xe1 solicitado trocar a senha"}),(0,Qt.jsxs)("li",{children:["A revenda ter\xe1 ",(0,Qt.jsx)("strong",{children:"24 horas"})," para configurar dom\xednio pr\xf3prio"]}),(0,Qt.jsxs)("li",{children:["Ap\xf3s configurar o dom\xednio, ela deve ",(0,Qt.jsx)("strong",{children:"avisar voc\xea"})," para ativar"]})]})]})]})]}),(0,Qt.jsxs)("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4",children:[(0,Qt.jsx)("h3",{className:"font-bold text-purple-900 mb-2",children:"\ud83d\ude80 Pr\xf3ximos Passos:"}),(0,Qt.jsxs)("ol",{className:"text-sm text-purple-800 space-y-1 list-decimal ml-5",children:[(0,Qt.jsx)("li",{children:"Acesse o Painel Admin pelo link acima"}),(0,Qt.jsx)("li",{children:"Fa\xe7a login com email e senha fornecidos"}),(0,Qt.jsx)("li",{children:"No primeiro acesso, ser\xe1 solicitado a trocar a senha"}),(0,Qt.jsx)("li",{children:'No menu "Dom\xednio", configure seu dom\xednio oficial quando estiver pronto'})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>te({open:!1,data:null}),children:"Fechar"}),(0,Qt.jsxs)(zn,{onClick:()=>{const e=ee.data,t="\n\ud83c\udf89 *REVENDA CRIADA COM SUCESSO!*\n\n\ud83d\udccb *Informa\xe7\xf5es de Acesso:*\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\ud83d\udc64 *Nome:* ".concat(e.name,"\n\ud83d\udce7 *Email:* ").concat(e.email,"\n\ud83d\udd11 *Senha:* ").concat(e.password,"\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\ud83d\udd17 *ACESSO UNIFICADO - Use ESTE link:*\n\n\ud83d\udfe2 *Login da Revenda (FUNCIONA AGORA):*\n").concat(window.location.origin,"/revenda/login\n\nOU\n\n").concat(window.location.origin,"/reseller-login\n\n\ud83d\udce7 Email: ").concat(e.email,"\n\ud83d\udd11 Senha: ").concat(e.password,'\n\n\u26a0\ufe0f *Importante:*\n\u2022 A revenda deve acessar pelo link acima\n\u2022 Fazer login com email e senha\n\u2022 Ter\xe1 24 horas para configurar dom\xednio pr\xf3prio\n\u2022 Ap\xf3s configurar, avisar voc\xea (Master) para ativar\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u26a0\ufe0f *IMPORTANTE:*\n\u2022 Use o dom\xednio provis\xf3rio para acessar o painel\n\u2022 Ap\xf3s o primeiro login, voc\xea poder\xe1 configurar seu dom\xednio oficial\n\u2022 No menu "Dom\xednio" voc\xea encontra instru\xe7\xf5es para apontar seu dom\xednio pr\xf3prio\n\u2022 Quando ativar o dom\xednio oficial, o dom\xednio de teste ser\xe1 desativado\n\n\ud83d\ude80 *Pr\xf3ximos Passos:*\n1. Acesse o Painel Admin pelo link acima\n2. Fa\xe7a login com email e senha fornecidos\n3. Voc\xea ser\xe1 solicitado a trocar a senha no primeiro acesso\n4. Configure seu dom\xednio oficial quando estiver pronto\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n').trim();navigator.clipboard.writeText(t),Bt.success("\u2705 Informa\xe7\xf5es copiadas! Pronto para enviar ao cliente.")},className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:[(0,Qt.jsx)(el,{className:"w-4 h-4 mr-2"}),"Copiar Tudo"]})]})]})]})})]})]})},Rx=na("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Px=na("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),zx=na("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),Ix=["__scopeScrollArea","type","dir","scrollHideDelay"],Ox=["__scopeScrollArea","children","nonce"],Dx=["forceMount"],Mx=["forceMount"],Lx=["forceMount"],Fx=["forceMount"],Bx=["orientation"],qx=["sizes","onSizesChange"],Ux=["sizes","onSizesChange"],Vx=["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"],Wx=["forceMount"],Hx=["__scopeScrollArea","style"],Gx=["__scopeScrollArea"];var $x="ScrollArea",[Kx,Qx]=ul($x),[Yx,Xx]=Kx($x),Jx=s.forwardRef((e,t)=>{const{__scopeScrollArea:a,type:n="hover",dir:r,scrollHideDelay:o=600}=e,i=l(e,Ix),[c,d]=s.useState(null),[u,p]=s.useState(null),[h,f]=s.useState(null),[x,g]=s.useState(null),[v,b]=s.useState(null),[y,j]=s.useState(0),[w,N]=s.useState(0),[k,_]=s.useState(!1),[S,C]=s.useState(!1),E=ia(t,e=>d(e)),A=zl(r);return(0,Qt.jsx)(Yx,{scope:a,type:n,dir:A,scrollHideDelay:o,scrollArea:c,viewport:u,onViewportChange:p,content:h,onContentChange:f,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:k,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:j,onCornerHeightChange:N,children:(0,Qt.jsx)(El.div,m(m({dir:A},i),{},{ref:E,style:m({position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px"},e.style)}))})});Jx.displayName=$x;var Zx="ScrollAreaViewport",eg=s.forwardRef((e,t)=>{const{__scopeScrollArea:a,children:n,nonce:r}=e,o=l(e,Ox),i=Xx(Zx,a),c=ia(t,s.useRef(null),i.onViewportChange);return(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,Qt.jsx)(El.div,m(m({"data-radix-scroll-area-viewport":""},o),{},{ref:c,style:m({overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden"},e.style),children:(0,Qt.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})}))]})});eg.displayName=Zx;var tg="ScrollAreaScrollbar",ag=s.forwardRef((e,t)=>{const{forceMount:a}=e,n=l(e,Dx),r=Xx(tg,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=r,c="horizontal"===e.orientation;return s.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),"hover"===r.type?(0,Qt.jsx)(ng,m(m({},n),{},{ref:t,forceMount:a})):"scroll"===r.type?(0,Qt.jsx)(sg,m(m({},n),{},{ref:t,forceMount:a})):"auto"===r.type?(0,Qt.jsx)(rg,m(m({},n),{},{ref:t,forceMount:a})):"always"===r.type?(0,Qt.jsx)(og,m(m({},n),{},{ref:t})):null});ag.displayName=tg;var ng=s.forwardRef((e,t)=>{const{forceMount:a}=e,n=l(e,Mx),r=Xx(tg,e.__scopeScrollArea),[o,i]=s.useState(!1);return s.useEffect(()=>{const e=r.scrollArea;let t=0;if(e){const a=()=>{window.clearTimeout(t),i(!0)},n=()=>{t=window.setTimeout(()=>i(!1),r.scrollHideDelay)};return e.addEventListener("pointerenter",a),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",a),e.removeEventListener("pointerleave",n)}}},[r.scrollArea,r.scrollHideDelay]),(0,Qt.jsx)(ei,{present:a||o,children:(0,Qt.jsx)(rg,m(m({"data-state":o?"visible":"hidden"},n),{},{ref:t}))})}),sg=s.forwardRef((e,t)=>{const{forceMount:a}=e,n=l(e,Lx),r=Xx(tg,e.__scopeScrollArea),o="horizontal"===e.orientation,i=_g(()=>d("SCROLL_END"),100),[c,d]=(u="hidden",p={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},s.useReducer((e,t)=>{const a=p[e][t];return null!==a&&void 0!==a?a:e},u));var u,p;return s.useEffect(()=>{if("idle"===c){const e=window.setTimeout(()=>d("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(e)}},[c,r.scrollHideDelay,d]),s.useEffect(()=>{const e=r.viewport,t=o?"scrollLeft":"scrollTop";if(e){let a=e[t];const n=()=>{const n=e[t];a!==n&&(d("SCROLL"),i()),a=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[r.viewport,o,d,i]),(0,Qt.jsx)(ei,{present:a||"hidden"!==c,children:(0,Qt.jsx)(og,m(m({"data-state":"hidden"===c?"hidden":"visible"},n),{},{ref:t,onPointerEnter:il(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:il(e.onPointerLeave,()=>d("POINTER_LEAVE"))}))})}),rg=s.forwardRef((e,t)=>{const a=Xx(tg,e.__scopeScrollArea),{forceMount:n}=e,r=l(e,Fx),[o,i]=s.useState(!1),c="horizontal"===e.orientation,d=_g(()=>{if(a.viewport){const e=a.viewport.offsetWidth<a.viewport.scrollWidth,t=a.viewport.offsetHeight<a.viewport.scrollHeight;i(c?e:t)}},10);return Sg(a.viewport,d),Sg(a.content,d),(0,Qt.jsx)(ei,{present:n||o,children:(0,Qt.jsx)(og,m(m({"data-state":o?"visible":"hidden"},r),{},{ref:t}))})}),og=s.forwardRef((e,t)=>{const{orientation:a="vertical"}=e,n=l(e,Bx),r=Xx(tg,e.__scopeScrollArea),o=s.useRef(null),i=s.useRef(0),[c,d]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=bg(c.viewport,c.content),p=m(m({},n),{},{sizes:c,onSizesChange:d,hasThumb:Boolean(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e});function h(e,t){return function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr";const s=yg(a),r=s/2,o=t||r,l=s-o,i=a.scrollbar.paddingStart+o,c=a.scrollbar.size-a.scrollbar.paddingEnd-l,d=a.content-a.viewport,u="ltr"===n?[0,d]:[-1*d,0];return wg([i,c],u)(e)}(e,i.current,c,t)}return"horizontal"===a?(0,Qt.jsx)(lg,m(m({},p),{},{ref:t,onThumbPositionChange:()=>{if(r.viewport&&o.current){const e=jg(r.viewport.scrollLeft,c,r.dir);o.current.style.transform="translate3d(".concat(e,"px, 0, 0)")}},onWheelScroll:e=>{r.viewport&&(r.viewport.scrollLeft=e)},onDragScroll:e=>{r.viewport&&(r.viewport.scrollLeft=h(e,r.dir))}})):"vertical"===a?(0,Qt.jsx)(ig,m(m({},p),{},{ref:t,onThumbPositionChange:()=>{if(r.viewport&&o.current){const e=jg(r.viewport.scrollTop,c);o.current.style.transform="translate3d(0, ".concat(e,"px, 0)")}},onWheelScroll:e=>{r.viewport&&(r.viewport.scrollTop=e)},onDragScroll:e=>{r.viewport&&(r.viewport.scrollTop=h(e))}})):null}),lg=s.forwardRef((e,t)=>{const{sizes:a,onSizesChange:n}=e,r=l(e,qx),o=Xx(tg,e.__scopeScrollArea),[i,c]=s.useState(),d=s.useRef(null),u=ia(t,d,o.onScrollbarXChange);return s.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,Qt.jsx)(ug,m(m({"data-orientation":"horizontal"},r),{},{ref:u,sizes:a,style:m({bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yg(a)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,a)=>{if(o.viewport){const n=o.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),Ng(n,a)&&t.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:vg(i.paddingLeft),paddingEnd:vg(i.paddingRight)}})}}))}),ig=s.forwardRef((e,t)=>{const{sizes:a,onSizesChange:n}=e,r=l(e,Ux),o=Xx(tg,e.__scopeScrollArea),[i,c]=s.useState(),d=s.useRef(null),u=ia(t,d,o.onScrollbarYChange);return s.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,Qt.jsx)(ug,m(m({"data-orientation":"vertical"},r),{},{ref:u,sizes:a,style:m({top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yg(a)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,a)=>{if(o.viewport){const n=o.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),Ng(n,a)&&t.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:vg(i.paddingTop),paddingEnd:vg(i.paddingBottom)}})}}))}),[cg,dg]=Kx(tg),ug=s.forwardRef((e,t)=>{const{__scopeScrollArea:a,sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:p,onResize:h}=e,f=l(e,Vx),x=Xx(tg,a),[g,v]=s.useState(null),b=ia(t,e=>v(e)),y=s.useRef(null),j=s.useRef(""),w=x.viewport,N=n.content-n.viewport,k=Al(p),_=Al(d),S=_g(h,10);function C(e){if(y.current){const t=e.clientX-y.current.left,a=e.clientY-y.current.top;u({x:t,y:a})}}return s.useEffect(()=>{const e=e=>{const t=e.target;(null===g||void 0===g?void 0:g.contains(t))&&k(e,N)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[w,g,N,k]),s.useEffect(_,[n,_]),Sg(g,S),Sg(x.content,S),(0,Qt.jsx)(cg,{scope:a,scrollbar:g,hasThumb:r,onThumbChange:Al(o),onThumbPointerUp:Al(i),onThumbPositionChange:_,onThumbPointerDown:Al(c),children:(0,Qt.jsx)(El.div,m(m({},f),{},{ref:b,style:m({position:"absolute"},f.style),onPointerDown:il(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),C(e)}}),onPointerMove:il(e.onPointerMove,C),onPointerUp:il(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),y.current=null})}))})}),mg="ScrollAreaThumb",pg=s.forwardRef((e,t)=>{const{forceMount:a}=e,n=l(e,Wx),s=dg(mg,e.__scopeScrollArea);return(0,Qt.jsx)(ei,{present:a||s.hasThumb,children:(0,Qt.jsx)(hg,m({ref:t},n))})}),hg=s.forwardRef((e,t)=>{const{__scopeScrollArea:a,style:n}=e,r=l(e,Hx),o=Xx(mg,a),i=dg(mg,a),{onThumbPositionChange:c}=i,d=ia(t,e=>i.onThumbChange(e)),u=s.useRef(void 0),p=_g(()=>{u.current&&(u.current(),u.current=void 0)},100);return s.useEffect(()=>{const e=o.viewport;if(e){const t=()=>{if(p(),!u.current){const t=kg(e,c);u.current=t,c()}};return c(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[o.viewport,p,c]),(0,Qt.jsx)(El.div,m(m({"data-state":i.hasThumb?"visible":"hidden"},r),{},{ref:d,style:m({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},n),onPointerDownCapture:il(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;i.onThumbPointerDown({x:a,y:n})}),onPointerUp:il(e.onPointerUp,i.onThumbPointerUp)}))});pg.displayName=mg;var fg="ScrollAreaCorner",xg=s.forwardRef((e,t)=>{const a=Xx(fg,e.__scopeScrollArea),n=Boolean(a.scrollbarX&&a.scrollbarY);return"scroll"!==a.type&&n?(0,Qt.jsx)(gg,m(m({},e),{},{ref:t})):null});xg.displayName=fg;var gg=s.forwardRef((e,t)=>{const{__scopeScrollArea:a}=e,n=l(e,Gx),r=Xx(fg,a),[o,i]=s.useState(0),[c,d]=s.useState(0),u=Boolean(o&&c);return Sg(r.scrollbarX,()=>{var e;const t=(null===(e=r.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;r.onCornerHeightChange(t),d(t)}),Sg(r.scrollbarY,()=>{var e;const t=(null===(e=r.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;r.onCornerWidthChange(t),i(t)}),u?(0,Qt.jsx)(El.div,m(m({},n),{},{ref:t,style:m({width:o,height:c,position:"absolute",right:"ltr"===r.dir?0:void 0,left:"rtl"===r.dir?0:void 0,bottom:0},e.style)})):null});function vg(e){return e?parseInt(e,10):0}function bg(e,t){const a=e/t;return isNaN(a)?0:a}function yg(e){const t=bg(e.viewport,e.content),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-a)*t;return Math.max(n,18)}function jg(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr";const n=yg(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=t.scrollbar.size-s,o=t.content-t.viewport,l=r-n,i=du(e,"ltr"===a?[0,o]:[-1*o,0]);return wg([0,o],[0,l])(i)}function wg(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(a-e[0])}}function Ng(e,t){return e>0&&e<t}var kg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},a={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const r={left:e.scrollLeft,top:e.scrollTop},o=a.left!==r.left,l=a.top!==r.top;(o||l)&&t(),a=r,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function _g(e,t){const a=Al(e),n=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),s.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(a,t)},[a,t])}function Sg(e,t){const a=Al(t);Nl(()=>{let t=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(a)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,a])}var Cg=Jx,Eg=eg,Ag=xg;const Tg=["className","children"],Rg=["className","orientation"],Pg=s.forwardRef((e,t)=>{let{className:a,children:n}=e,s=l(e,Tg);return(0,Qt.jsxs)(Cg,m(m({ref:t,className:Tn("relative overflow-hidden",a)},s),{},{children:[(0,Qt.jsx)(Eg,{className:"h-full w-full rounded-[inherit]",children:n}),(0,Qt.jsx)(zg,{}),(0,Qt.jsx)(Ag,{})]}))});Pg.displayName=Cg.displayName;const zg=s.forwardRef((e,t)=>{let{className:a,orientation:n="vertical"}=e,s=l(e,Rg);return(0,Qt.jsx)(ag,m(m({ref:t,orientation:n,className:Tn("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a)},s),{},{children:(0,Qt.jsx)(pg,{className:"relative flex-1 rounded-full bg-border"})}))});zg.displayName=ag.displayName;const Ig=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return 13===t.length?"+".concat(t.slice(0,2)," ").concat(t.slice(2,4)," ").concat(t.slice(4,9),"-").concat(t.slice(9)):12===t.length?"+".concat(t.slice(0,2)," ").concat(t.slice(2,4)," ").concat(t.slice(4,8),"-").concat(t.slice(8)):e},Og=()=>{const e=(new Date).getHours();return e>=9&&e<23},Dg=na("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Mg=e=>{let{src:t,isSentByMe:a=!1}=e;const[n,r]=(0,s.useState)(!1),[o,l]=(0,s.useState)(0),[i,c]=(0,s.useState)(0),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=d.current;if(!e)return;const t=()=>l(e.currentTime),a=()=>c(e.duration),n=()=>r(!1);return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",a),e.addEventListener("ended",n),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",a),e.removeEventListener("ended",n)}},[]);const u=i?o/i*100:0;return(0,Qt.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg ".concat("bg-transparent"," w-full max-w-[250px]"),children:[(0,Qt.jsx)("button",{onClick:()=>{n?d.current.pause():d.current.play(),r(!n)},className:"flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center transition-all ".concat(a?"bg-green-600 hover:bg-green-700":"bg-teal-500 hover:bg-teal-600"," text-white"),children:n?(0,Qt.jsx)(Dg,{className:"w-3 h-3",fill:"white"}):(0,Qt.jsx)(Hf,{className:"w-3 h-3 ml-0.5",fill:"white"})}),(0,Qt.jsx)("div",{className:"flex-1 min-w-0 flex items-center gap-[1.5px] h-6 cursor-pointer overflow-hidden",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),a=(e.clientX-t.left)/t.width;d.current.currentTime=a*i},children:[...Array(35)].map((e,t)=>{const n=16*Math.abs(Math.sin(.3*t))+6,s=2*Math.sin(1.5*t),r=Math.min(22,n+s),o=t/35*100<u;return(0,Qt.jsx)("div",{className:"transition-all duration-100 ".concat(o?a?"bg-green-700":"bg-teal-600":"bg-gray-300"," rounded-full"),style:{height:"".concat(r,"px"),width:"2.5px",flexShrink:0}},t)})}),(0,Qt.jsx)("div",{className:"text-[10px] font-medium ".concat(a?"text-green-800":"text-gray-600"," min-w-[28px] text-right flex-shrink-0"),children:(e=>{if(!e||isNaN(e))return"0:00";const t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,":").concat(a.toString().padStart(2,"0"))})(i-o)}),(0,Qt.jsx)("audio",{ref:d,src:t,preload:"metadata"})]})},Lg=na("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Fg=()=>{var e;const[t,a]=(0,s.useState)(""),[n,r]=(0,s.useState)(!1),[o,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(""),d=async e=>{if(e.preventDefault(),t.trim())try{r(!0),c(""),l(null),console.log("\ud83d\udd0d Buscando cliente:",t);const e=await jo.post("/office/search",{search_term:t.trim()});console.log("\u2705 Resultado:",e.data),l(e.data)}catch(i){var a,n;console.error("\u274c Erro ao buscar:",i),c((null===(a=i.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.detail)||"Erro ao buscar cliente")}finally{r(!1)}else c("Digite um usu\xe1rio ou WhatsApp para buscar")},u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(window.confirm("Renovar ".concat(e," por ").concat(t," dias?")))try{var a;r(!0);const n=await jo.post("/office/renovar",{usuario:e,dias:t,credential_id:null===(a=o.credential_used)||void 0===a?void 0:a.id});n.data.success?(alert("\u2705 ".concat(e," renovado por ").concat(t," dias!")),d({preventDefault:()=>{}})):alert("\u274c ".concat(n.data.error))}catch(i){console.error("\u274c Erro ao renovar:",i),alert("Erro ao renovar cliente")}finally{r(!1)}};return(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qt.jsx)(Rx,{className:"w-6 h-6 text-teal-600"}),(0,Qt.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Pesquisar Credenciais Office"})]}),(0,Qt.jsx)("form",{onSubmit:d,children:(0,Qt.jsxs)("div",{className:"flex gap-3",children:[(0,Qt.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Digite o usu\xe1rio ou WhatsApp do cliente...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",disabled:n}),(0,Qt.jsx)("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:bg-gray-400 transition-colors flex items-center gap-2",children:n?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Of,{className:"w-5 h-5 animate-spin"}),"Buscando..."]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Rx,{className:"w-5 h-5"}),"Buscar"]})})]})}),i&&(0,Qt.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:["\u26a0\ufe0f ",i]})]}),o&&(0,Qt.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.success?(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[(0,Qt.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"\u2705 Cliente Encontrado"}),o.credential_used&&(0,Qt.jsxs)("span",{className:"text-sm text-gray-600",children:["\ud83d\udcc2 ",o.credential_used.nome]})]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.usuario&&(0,Qt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Qt.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udc64 Usu\xe1rio"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-gray-900 mt-1 font-mono",children:o.usuario})]}),o.senha&&(0,Qt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Qt.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udd11 Senha"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-gray-900 mt-1 font-mono",children:o.senha})]}),o.status&&(0,Qt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Qt.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udcca Status"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[o.status.toLowerCase().includes("ativo")?(0,Qt.jsx)(Yo,{className:"w-5 h-5 text-green-600"}):(0,Qt.jsx)(ax,{className:"w-5 h-5 text-red-600"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-gray-900",children:o.status})]})]}),o.vencimento&&(0,Qt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Qt.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udcc5 Vencimento"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Qt.jsx)(Lg,{className:"w-5 h-5 text-gray-600"}),(0,Qt.jsx)("p",{className:"text-lg font-bold text-gray-900",children:o.vencimento})]})]})]}),o.texto_completo&&(0,Qt.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Qt.jsx)("span",{className:"text-sm font-semibold text-blue-900",children:"\ud83d\udcc4 Informa\xe7\xf5es Completas:"}),(0,Qt.jsx)("p",{className:"text-sm text-blue-800 mt-2 whitespace-pre-wrap",children:o.texto_completo})]}),(0,Qt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Qt.jsxs)("button",{onClick:()=>u(o.usuario||t,30),disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 transition-colors flex items-center gap-2",children:[(0,Qt.jsx)(rx,{className:"w-4 h-4"}),"Renovar 30 dias"]}),(0,Qt.jsxs)("button",{onClick:()=>u(o.usuario||t,60),disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 transition-colors flex items-center gap-2",children:[(0,Qt.jsx)(rx,{className:"w-4 h-4"}),"Renovar 60 dias"]}),(null===(e=o.credential_used)||void 0===e?void 0:e.url)&&(0,Qt.jsxs)("a",{href:o.credential_used.url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,Qt.jsx)(rl,{className:"w-4 h-4"}),"Abrir Office"]})]}),o.acoes&&o.acoes.length>0&&(0,Qt.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"\ud83d\udd27 A\xe7\xf5es Dispon\xedveis:"}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:o.acoes.map((e,t)=>{var a;return(0,Qt.jsx)("a",{href:"".concat(null===(a=o.credential_used)||void 0===a?void 0:a.url).concat(e.url),target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:e.texto},t)})})]})]}):(0,Qt.jsxs)("div",{className:"text-center py-8",children:[(0,Qt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cliente n\xe3o encontrado"}),(0,Qt.jsx)("p",{className:"text-gray-600",children:o.error||"Nenhum resultado encontrado para essa busca"})]})}),(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\u2139\ufe0f Como usar:"}),(0,Qt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Qt.jsxs)("li",{children:["\u2022 Digite o ",(0,Qt.jsx)("strong",{children:"usu\xe1rio"})," ou ",(0,Qt.jsx)("strong",{children:"WhatsApp"})," do cliente"]}),(0,Qt.jsx)("li",{children:"\u2022 O sistema busca automaticamente em todos os Offices cadastrados"}),(0,Qt.jsx)("li",{children:"\u2022 Voc\xea pode renovar, editar ou baixar dados diretamente aqui"}),(0,Qt.jsx)("li",{children:'\u2022 Clique em "Abrir Office" para acessar o painel completo'})]})]})]})},Bg="http://151.243.218.223",qg={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},modal:{backgroundColor:"#fff",borderRadius:"12px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column"},header:{padding:"20px",borderBottom:"2px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#4CAF50"},title:{margin:0,color:"#fff",fontSize:"24px"},headerButtons:{display:"flex",gap:"10px",alignItems:"center"},syncButton:{padding:"8px 16px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.3s"},closeButton:{background:"none",border:"none",color:"#fff",fontSize:"28px",cursor:"pointer",padding:"0 10px"},content:{padding:"20px",overflowY:"auto",flex:1},searchBox:{display:"flex",gap:"10px",marginBottom:"15px"},input:{flex:1,padding:"12px",fontSize:"16px",border:"2px solid #ddd",borderRadius:"6px",outline:"none"},searchButton:{padding:"12px 24px",backgroundColor:"#4CAF50",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},searchTimeBox:{padding:"10px",backgroundColor:"#e8f5e9",border:"1px solid #4CAF50",borderRadius:"6px",marginBottom:"15px",textAlign:"center",color:"#2e7d32"},syncStatusBox:{padding:"15px",backgroundColor:"#e3f2fd",border:"2px solid #2196F3",borderRadius:"8px",marginBottom:"15px",color:"#1565c0",fontWeight:"bold",whiteSpace:"pre-line"},errorBox:{padding:"12px",backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"6px",color:"#c62828",marginBottom:"15px"},resultsContainer:{marginTop:"10px"},resultsHeader:{padding:"10px",backgroundColor:"#e3f2fd",border:"1px solid #2196F3",borderRadius:"6px",marginBottom:"15px",fontWeight:"bold",color:"#1976d2"},clientCard:{border:"2px solid #e0e0e0",borderRadius:"8px",padding:"15px",marginBottom:"15px",backgroundColor:"#fafafa"},clientHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"10px",borderBottom:"1px solid #ddd"},clientName:{fontSize:"18px",fontWeight:"bold",color:"#333"},clientStatus:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold",backgroundColor:"#4CAF50",color:"#fff"},clientDetails:{display:"flex",flexDirection:"column",gap:"10px"},detailRow:{display:"flex",justifyContent:"space-between",alignItems:"center"},detailLabel:{fontWeight:"bold",color:"#666",minWidth:"120px"},detailValue:{flex:1,textAlign:"right",fontFamily:"monospace",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"8px"},copyButton:{background:"none",border:"none",cursor:"pointer",fontSize:"16px",padding:"4px"},copyAllButton:{width:"100%",marginTop:"15px",padding:"12px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},noResults:{padding:"20px",textAlign:"center",color:"#666",backgroundColor:"#f5f5f5",borderRadius:"6px"},infoBox:{padding:"20px",backgroundColor:"#fff9e6",border:"2px solid #ffc107",borderRadius:"8px"},infoList:{listStyle:"none",padding:0,margin:"10px 0"},infoSpeed:{marginTop:"15px",fontSize:"14px",color:"#4CAF50",fontWeight:"bold"}},Ug=e=>{let{onClose:t}=e;const[a,n]=(0,s.useState)(""),[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[u,p]=(0,s.useState)(""),[h,f]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),v=async()=>{if(!a.trim())return void p("Digite um termo de busca");o(!0),p(""),i([]),d(null);const e=Date.now();try{const t=localStorage.getItem("token"),n=await fo.post("".concat(Bg,"/api/office-sync/search-clients"),{search:a.trim()},{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}),s=Date.now()-e;n.data.success?(i(n.data.clients||[]),d(s)):p("Erro na busca")}catch(Mv){var t,n;console.error("Erro ao buscar:",Mv),p((null===(t=Mv.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erro ao buscar cliente")}finally{o(!1)}},b=e=>{navigator.clipboard.writeText(e),alert("Copiado!")};return(0,Qt.jsx)("div",{style:qg.overlay,children:(0,Qt.jsxs)("div",{style:qg.modal,children:[(0,Qt.jsxs)("div",{style:qg.header,children:[(0,Qt.jsx)("h2",{style:qg.title,children:"\ud83d\ude80 Busca R\xe1pida Office"}),(0,Qt.jsxs)("div",{style:qg.headerButtons,children:[(0,Qt.jsx)("button",{onClick:async()=>{if(h)return;if(window.confirm("\ud83d\udd04 Sincronizar todos os clientes?\n\nIsso vai buscar TODOS os clientes de TODOS os pain\xe9is Office.\nPode demorar 10-15 minutos.\n\nDeseja continuar?")){f(!0),g("Iniciando sincroniza\xe7\xe3o...");try{const e=localStorage.getItem("token");(await fo.post("".concat(Bg,"/api/office-sync/sync-now"),{},{headers:{Authorization:"Bearer ".concat(e)}})).data.success?(g("\u2705 Sincroniza\xe7\xe3o iniciada em background!"),setTimeout(async()=>{try{const t=await fo.get("".concat(Bg,"/api/office-sync/sync-status"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.data.last_sync){const e=t.data.last_sync.summary;g("\u2705 \xdaltima sincroniza\xe7\xe3o:\n"+"   \u2022 Total: ".concat(e.total_clients," clientes\n")+"   \u2022 Novos: ".concat(e.new_clients,"\n")+"   \u2022 Atualizados: ".concat(e.updated_clients))}}catch(Mv){console.error("Erro ao verificar status:",Mv)}},5e3)):g("\u274c Erro ao iniciar sincroniza\xe7\xe3o")}catch(Mv){var e,t;console.error("Erro ao sincronizar:",Mv),g("\u274c Erro: "+((null===(e=Mv.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||Mv.message))}finally{f(!1)}}},disabled:h,style:m(m({},qg.syncButton),{},{opacity:h?.6:1}),title:"Sincronizar todos os clientes de todos os pain\xe9is",children:h?"\ud83d\udd04 Sincronizando...":"\ud83d\udd04 Sincronizar"}),(0,Qt.jsx)("button",{onClick:t,style:qg.closeButton,children:"\u2715"})]})]}),(0,Qt.jsxs)("div",{style:qg.content,children:[x&&(0,Qt.jsx)("div",{style:qg.syncStatusBox,children:x.split("\n").map((e,t)=>(0,Qt.jsx)("div",{children:e},t))}),(0,Qt.jsxs)("div",{style:qg.searchBox,children:[(0,Qt.jsx)("input",{type:"text",value:a,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"===e.key&&v()},placeholder:"Digite telefone ou usu\xe1rio...",style:qg.input,autoFocus:!0}),(0,Qt.jsx)("button",{onClick:v,disabled:r,style:qg.searchButton,children:r?"\ud83d\udd0d Buscando...":"\ud83d\udd0d Buscar"})]}),null!==c&&(0,Qt.jsxs)("div",{style:qg.searchTimeBox,children:["\u26a1 Busca conclu\xedda em ",(0,Qt.jsxs)("strong",{children:[c,"ms"]})," (",(c/1e3).toFixed(2),"s)"]}),u&&(0,Qt.jsxs)("div",{style:qg.errorBox,children:["\u274c ",u]}),l.length>0&&(0,Qt.jsxs)("div",{style:qg.resultsContainer,children:[(0,Qt.jsxs)("div",{style:qg.resultsHeader,children:["\u2705 Encontrados ",l.length," cliente(s)"]}),l.map((e,t)=>(0,Qt.jsxs)("div",{style:qg.clientCard,children:[(0,Qt.jsxs)("div",{style:qg.clientHeader,children:[(0,Qt.jsx)("span",{style:qg.clientName,children:e.nome||e.usuario}),(0,Qt.jsx)("span",{style:qg.clientStatus,children:e.status})]}),(0,Qt.jsxs)("div",{style:qg.clientDetails,children:[(0,Qt.jsxs)("div",{style:qg.detailRow,children:[(0,Qt.jsx)("span",{style:qg.detailLabel,children:"\ud83d\udc64 Usu\xe1rio:"}),(0,Qt.jsxs)("span",{style:qg.detailValue,children:[e.usuario,(0,Qt.jsx)("button",{onClick:()=>b(e.usuario),style:qg.copyButton,children:"\ud83d\udccb"})]})]}),(0,Qt.jsxs)("div",{style:qg.detailRow,children:[(0,Qt.jsx)("span",{style:qg.detailLabel,children:"\ud83d\udd11 Senha:"}),(0,Qt.jsxs)("span",{style:qg.detailValue,children:[e.senha,(0,Qt.jsx)("button",{onClick:()=>b(e.senha),style:qg.copyButton,children:"\ud83d\udccb"})]})]}),e.telefone&&(0,Qt.jsxs)("div",{style:qg.detailRow,children:[(0,Qt.jsx)("span",{style:qg.detailLabel,children:"\ud83d\udcf1 Telefone:"}),(0,Qt.jsx)("span",{style:qg.detailValue,children:e.telefone})]}),(0,Qt.jsxs)("div",{style:qg.detailRow,children:[(0,Qt.jsx)("span",{style:qg.detailLabel,children:"\ud83d\udcc5 Vencimento:"}),(0,Qt.jsx)("span",{style:qg.detailValue,children:e.vencimento})]}),(0,Qt.jsxs)("div",{style:qg.detailRow,children:[(0,Qt.jsx)("span",{style:qg.detailLabel,children:"\ud83d\udce1 Conex\xf5es:"}),(0,Qt.jsx)("span",{style:qg.detailValue,children:e.conexoes})]}),(0,Qt.jsxs)("div",{style:qg.detailRow,children:[(0,Qt.jsx)("span",{style:qg.detailLabel,children:"\ud83c\udfe2 Painel:"}),(0,Qt.jsx)("span",{style:qg.detailValue,children:e.office_account})]})]}),(0,Qt.jsx)("button",{onClick:()=>b((e=>"\ud83d\udcfa Dados do Cliente\n\n\ud83d\udc64 Nome: ".concat(e.nome||"N/A","\n\ud83c\udd94 Usu\xe1rio: ").concat(e.usuario,"\n\ud83d\udd11 Senha: ").concat(e.senha,"\n\ud83d\udcf1 Telefone: ").concat(e.telefone||"N/A","\n\ud83d\udcc5 Vencimento: ").concat(e.vencimento,"\n\ud83d\udfe2 Status: ").concat(e.status,"\n\ud83d\udce1 Conex\xf5es: ").concat(e.conexoes,"\n\ud83c\udfe2 Painel: ").concat(e.office_account))(e)),style:qg.copyAllButton,children:"\ud83d\udccb Copiar Tudo"})]},t))]}),!r&&0===l.length&&a&&!u&&(0,Qt.jsx)("div",{style:qg.noResults,children:"\u2139\ufe0f Nenhum cliente encontrado com esse termo"}),!a&&!r&&(0,Qt.jsxs)("div",{style:qg.infoBox,children:[(0,Qt.jsx)("p",{children:(0,Qt.jsx)("strong",{children:"\ud83d\udca1 Como usar:"})}),(0,Qt.jsxs)("ul",{style:qg.infoList,children:[(0,Qt.jsxs)("li",{children:["Digite um ",(0,Qt.jsx)("strong",{children:"telefone"})," (ex: 11999999999)"]}),(0,Qt.jsxs)("li",{children:["Ou digite um ",(0,Qt.jsx)("strong",{children:"usu\xe1rio"})," (ex: 3334567oro)"]}),(0,Qt.jsx)("li",{children:"Pressione Enter ou clique em Buscar"})]}),(0,Qt.jsxs)("p",{style:qg.infoSpeed,children:["\u26a1 Busca instant\xe2nea em ",(0,Qt.jsx)("strong",{children:"8.785 clientes"}),"!"]})]})]})]})})},Vg=e=>{let{ticket:t,onClose:a,onSchedule:n}=e;const[r,o]=(0,s.useState)(""),[l,i]=(0,s.useState)("relative"),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(0),[p,h]=(0,s.useState)(30),[f,x]=(0,s.useState)(!1);return(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6",children:[(0,Qt.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[(0,Qt.jsx)(Xo,{className:"w-6 h-6 text-blue-600"}),"Agendar Mensagem"]}),(0,Qt.jsxs)("div",{className:"mb-4 p-3 bg-gray-100 rounded",children:[(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Cliente:"}),(0,Qt.jsx)("p",{className:"font-semibold",children:t.client_name||t.whatsapp})]}),(0,Qt.jsxs)("div",{className:"mb-4",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Agendamento"}),(0,Qt.jsxs)("div",{className:"flex gap-4",children:[(0,Qt.jsxs)("label",{className:"flex items-center",children:[(0,Qt.jsx)("input",{type:"radio",value:"relative",checked:"relative"===l,onChange:e=>i(e.target.value),className:"mr-2"}),"Tempo Relativo (daqui X tempo)"]}),(0,Qt.jsxs)("label",{className:"flex items-center",children:[(0,Qt.jsx)("input",{type:"radio",value:"datetime",checked:"datetime"===l,onChange:e=>i(e.target.value),className:"mr-2"}),"Data/Hora Espec\xedfica"]})]})]}),"relative"===l?(0,Qt.jsxs)("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Horas"}),(0,Qt.jsx)("input",{type:"number",min:"0",max:"48",value:u,onChange:e=>m(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Minutos"}),(0,Qt.jsx)("input",{type:"number",min:"0",max:"59",value:p,onChange:e=>h(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded"})]}),(0,Qt.jsxs)("div",{className:"col-span-2 text-sm text-gray-600",children:["Ser\xe1 enviada em: ",u,"h ",p,"min"]})]}):(0,Qt.jsxs)("div",{className:"mb-4",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Data e Hora"}),(0,Qt.jsx)("input",{type:"datetime-local",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded",min:(new Date).toISOString().slice(0,16)})]}),(0,Qt.jsxs)("div",{className:"mb-4",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Mensagem"}),(0,Qt.jsx)("textarea",{value:r,onChange:e=>o(e.target.value),placeholder:"Digite a mensagem que ser\xe1 enviada...",rows:"5",className:"w-full px-3 py-2 border rounded resize-none"})]}),(0,Qt.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Qt.jsx)("button",{onClick:a,className:"px-4 py-2 border rounded hover:bg-gray-100",disabled:f,children:"Cancelar"}),(0,Qt.jsxs)("button",{onClick:async()=>{if(r.trim())if("datetime"!==l||c)if("relative"!==l||0!==u||0!==p){x(!0);try{const e={ticket_id:t.id,message:r,schedule_type:l};"datetime"===l?e.datetime=c:(e.hours=u,e.minutes=p),await n(e),alert("Mensagem agendada com sucesso!"),a()}catch(e){console.error("Erro ao agendar:",e),alert("Erro ao agendar mensagem")}finally{x(!1)}}else alert("Defina o tempo de espera");else alert("Selecione data e hora");else alert("Digite uma mensagem")},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",disabled:f,children:[(0,Qt.jsx)(Cx,{className:"w-4 h-4"}),f?"Agendando...":"Agendar Mensagem"]})]})]})})},Wg=()=>{const e=ge(),{userData:t}=ko(),[a,n]=(0,s.useState)("EM_ESPERA"),[r,o]=(0,s.useState)(!1),l=e=>{navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{Bt.success("Copiado!",{duration:2e3})}).catch(()=>{i(e)}):i(e)},i=e=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),Bt.success("Copiado!",{duration:2e3})}catch(Mv){Bt.error("Erro ao copiar",{duration:2e3})}document.body.removeChild(t)},[c,d]=(0,s.useState)([]),[u,p]=(0,s.useState)([]),[h,f]=(0,s.useState)(null),[x,g]=(0,s.useState)([]),[v,b]=(0,s.useState)(""),[y,j]=(0,s.useState)({EM_ESPERA:0,ATENDENDO:0,FINALIZADAS:0}),[w,N]=(0,s.useState)({EM_ESPERA:0,ATENDENDO:0,FINALIZADAS:0}),[k,_]=(0,s.useState)({quick_blocks:[],support_avatar:""}),[S,C]=(0,s.useState)([]),[E,A]=(0,s.useState)(!1),[T,R]=(0,s.useState)(!1),[P,z]=(0,s.useState)(!1),[I,O]=(0,s.useState)(!1),[D,M]=(0,s.useState)([]),[L,F]=(0,s.useState)(!1),[B,q]=(0,s.useState)(""),[U,V]=(0,s.useState)(""),[W,H]=(0,s.useState)(""),[G,$]=(0,s.useState)({pinned_user:"",pinned_pass:""}),[K,Q]=(0,s.useState)([]),[Y,X]=(0,s.useState)("all"),[J,Z]=(0,s.useState)(!0),[ee,te]=(0,s.useState)(""),[ae,ne]=(0,s.useState)([]),[se,re]=(0,s.useState)(!1),[oe,le]=(0,s.useState)([]),[ie,ce]=(0,s.useState)(0),de=(0,s.useRef)(null),ue=(0,s.useRef)(null),me=(0,s.useRef)(null),pe=(0,s.useRef)(null),he=(0,s.useRef)(0),fe=(0,s.useRef)(null),[xe,ve]=(0,s.useState)(!1),[be,ye]=(0,s.useState)(!0),[je,we]=(0,s.useState)(0),[Ne,ke]=(0,s.useState)(!1),[_e,Se]=(0,s.useState)(null),[Ce,Ee]=(0,s.useState)("wa_suporte"),[Ae,Te]=(0,s.useState)(!1),[Re,Pe]=(0,s.useState)([]),[ze,Ie]=(0,s.useState)(!1),[Oe,De]=(0,s.useState)(null),[Me,Le]=(0,s.useState)({}),[Fe,Be]=(0,s.useState)("");(0,s.useEffect)(()=>{Ge(),He(),$e(),Qe(),Ke(),Ve()},[]),(0,s.useEffect)(()=>{Ue()},[a]);const qe=(0,s.useMemo)(()=>u.filter(e=>{if(e.ticket_origin)return e.ticket_origin===Ce;if(e.department_origin)return e.department_origin===Ce;const t=!0===e.whatsapp_origin||e.whatsapp_instance||e.whatsapp_connection_id||!0===e.is_whatsapp,a=e.ai_agent_id||!0===e.ai_enabled||!0===e.ai_responding;return"whatsapp_starter"===Ce?t:"ia"===Ce?a:"wa_suporte"!==Ce||!t&&!a}),[Ce,u]);(0,s.useEffect)(()=>{d(qe),We()},[qe]),(0,s.useEffect)(()=>{fe.current=h},[h]),(0,s.useEffect)(()=>{if(null===t||void 0===t||!t.id)return;let e=!0,a=null;const n=()=>{const s=wo(t.id);s.onopen=()=>{he.current=0,o(!0),e=!1},s.onmessage=e=>{const t=JSON.parse(e.data);if("message"===t.type||"new_message"===t.type){var a;const e=null===(a=fe.current)||void 0===a?void 0:a.id;e&&t.message.ticket_id===e?g(e=>{var a;if(e.some(e=>e.id===t.message.id))return console.log("\u26a0\ufe0f Mensagem duplicada ignorada"),e;if(console.log("\u2705 Nova mensagem adicionada ao chat ativo:",null===(a=t.message.text)||void 0===a?void 0:a.substring(0,50)),"client"===t.message.from_type)try{const e=new Audio("/notification.mp3");e.volume=.7,e.play().catch(()=>{})}catch(Dv){}return setTimeout(()=>{var e;null===(e=ue.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100),[...e,t.message]}):(console.log("\u2139\ufe0f Mensagem de outro ticket, update local"),p(e=>{const a=e.map(e=>{var a;return e.id===t.message.ticket_id?m(m({},e),{},{unread_count:(e.unread_count||0)+1,last_message:(null===(a=t.message.text)||void 0===a?void 0:a.substring(0,100))||"",last_message_time:t.message.created_at,updated_at:(new Date).toISOString()}):e});return!e.some(e=>e.id===t.message.ticket_id)&&t.message.ticket_id&&setTimeout(()=>{jo.get("/tickets/".concat(t.message.ticket_id)).then(e=>{let{data:t}=e;p(e=>[t,...e])}).catch(()=>{})},100),a}),j(e=>{if("client"===t.message.from_type){const a="open"===t.message.status?"EM_ESPERA":"ATENDENDO"===t.message.status?"ATENDENDO":"FINALIZADAS";return m(m({},e),{},{[a]:e[a]+1})}return e}))}},s.onerror=e=>{console.error("\u274c WebSocket erro:",e)},s.onclose=e=>{o(!1),he.current+=1,a=setTimeout(()=>{null!==t&&void 0!==t&&t.id&&n()},100)},s.onerror=()=>{};const r=setInterval(()=>{s.readyState===WebSocket.OPEN&&s.send(JSON.stringify({type:"ping"}))},3e4);de.current=s,de.current.keepaliveInterval=r};return n(),()=>{a&&clearTimeout(a),de.current&&(de.current.keepaliveInterval&&clearInterval(de.current.keepaliveInterval),de.current.onclose=null,de.current.close())}},[t,e]),(0,s.useEffect)(()=>{var e;console.log("\ud83d\udfe2\ud83d\udfe2\ud83d\udfe2 AGENTDASHBOARD VERS\xc3O NOVA CARREGADA! \ud83d\udfe2\ud83d\udfe2\ud83d\udfe2"),console.log("\u2705 Lista tickets: maxHeight 480px"),console.log("\u2705 Mensagens: altura fixa com calc"),console.log("\u2705 Input: fixo na parte inferior"),null===(e=ue.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[x]),(0,s.useEffect)(()=>{console.log("\ud83d\udd04 Tickets atualizados:",c.length)},[c]);const Ue=async function(){try{const e="EM_ESPERA"===a?"open":a,[t,n]=await Promise.all([jo.get("/tickets",{params:{status:e,limit:20}}),jo.get("/tickets/counts")]);p(t.data),j(n.data),We()}catch(e){console.error("\u274c Error loading tickets:",e)}},Ve=async()=>{try{const{data:e}=await jo.get("/vendas/ai-sessions");console.log("\ud83e\udd16 Sess\xf5es IA recebidas:",e.sessions.length),le(e.sessions),ce(e.total)}catch(e){console.error("\u274c Error loading AI sessions:",e)}},We=()=>{N({EM_ESPERA:y.EM_ESPERA||0,ATENDENDO:y.ATENDENDO||0,FINALIZADAS:y.FINALIZADAS||0})},He=async()=>{try{const{data:e}=await jo.get("/agents/me");Q(e.department_ids||[])}catch(e){console.error("Error loading departments:",e)}},Ge=async()=>{try{const{data:e}=await jo.get("/config");_(e)}catch(e){console.error("Error loading config:",e)}},$e=async()=>{try{const{data:e}=await jo.get("/config/tutorials");C(e.filter(e=>e.active)||[])}catch(e){console.error("Error loading tutorials:",e)}},Ke=async()=>{try{const{data:e}=await jo.get("/notices");M(Array.isArray(e)?e:[])}catch(e){console.error("Error loading notices:",e)}},Qe=async()=>{try{const{data:e}=await jo.get("/iptv-apps");Pe(e||[])}catch(e){console.error("Error loading IPTV apps:",e)}},[Ye,Xe]=(0,s.useState)([]),[Je,Ze]=(0,s.useState)(!1),[et,tt]=(0,s.useState)(null),at=()=>{te(""),re(!1),ne([])},nt=e=>{if(!e)return[{type:"text",content:e||""}];const t=/(usuario|usu\xe1rio|senha|codigo|c\xf3digo|login|email|telefone|cpf|chave):\s*([^\s,;.\n]+)/gi;let a=[],n=0;e.replace(/(https?:\/\/[^\s]+|www\.[^\s]+)/gi,(t,s)=>{s>n&&a.push({type:"text",content:e.substring(n,s)});const r=t.startsWith("www.")?"https://".concat(t):t;a.push({type:"link",content:t,url:r}),n=s+t.length}),n<e.length&&a.push({type:"text",content:e.substring(n)}),0===a.length&&a.push({type:"text",content:e});const s=[];return a.forEach(e=>{if("text"===e.type){const a=[];let n=0;e.content.replace(t,(t,s,r,o)=>{o>n&&a.push({type:"text",content:e.content.substring(n,o)}),a.push({type:"highlight",label:s,value:r}),n=o+t.length}),n<e.content.length&&a.push({type:"text",content:e.content.substring(n)}),a.length>0?s.push(...a):s.push(e)}else s.push(e)}),s},st=async e=>{f(e),async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{console.log("\ud83d\udd0d Carregando mensagens do ticket:",e);const{data:a}=await jo.get("/messages/".concat(e));console.log("\u2705 Mensagens carregadas:",a.length,"mensagens"),console.log("\ud83d\udce8 Primeiras 3 mensagens:",a.slice(0,3)),g(a),we(0),ye(!1),t&&setTimeout(()=>{var e;null===(e=ue.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)}catch(a){console.error("\u274c Erro ao carregar mensagens:",a),Bt.error("Erro ao carregar mensagens")}}(e.id);try{await jo.post("/tickets/".concat(e.id,"/mark-as-read")),console.log("\u2705 Mensagens marcadas como lidas"),Ue()}catch(n){console.error("Error marking as read:",n)}try{await jo.put("/tickets/".concat(e.id,"/assign"),{}),console.log("Ticket atribu\xeddo ao atendente")}catch(n){console.error("Error assigning ticket:",n)}const t=e.ai_disabled_until;if(t){const e=new Date(t),a=new Date;Z(a>=e)}else Z(!0);if(e.unread_count>0)try{await jo.post("/tickets/".concat(e.id,"/mark-read")),Ue(a)}catch(n){console.error("Error marking as read:",n)}try{const{data:t}=await jo.get("/users/".concat(e.client_id,"/credentials"));$({pinned_user:t.pinned_user||"",pinned_pass:t.pinned_pass||""})}catch(n){console.error("Error loading client credentials:",n),$({pinned_user:"",pinned_pass:""})}try{const{data:t}=await jo.get("/ticket/".concat(e.id,"/credentials-status"));t.success&&t.credentials_found&&t.credentials_data&&($({pinned_user:t.credentials_data.usuario||"",pinned_pass:t.credentials_data.senha||""}),console.log("\u2705 Credenciais autom\xe1ticas carregadas:",t.credentials_data))}catch(n){console.debug("Credenciais autom\xe1ticas n\xe3o dispon\xedveis")}},rt=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!h||!v.trim()||Ne)return;ke(!0);const a=v.trim(),n={id:"temp-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),ticket_id:h.id,from_type:"agent",from_id:t.id,to_type:"client",to_id:h.client_id,kind:"text",text:a,file_url:"",created_at:(new Date).toISOString(),is_read:!1};g(e=>[...e,n]),b(""),setTimeout(()=>{ue.current&&ue.current.scrollIntoView({behavior:"smooth"})},100);try{const s=await jo.post("/messages",{ticket_id:h.id,from_type:"agent",from_id:t.id,to_type:"client",to_id:h.client_id,kind:"text",text:a,file_url:""});s.data&&s.data.id&&g(e=>e.map(e=>e.id===n.id?m({},s.data):e)),e&&(await jo.post("/tickets/".concat(h.id,"/status"),{status:e}),Ue()),console.log("\u2705 Mensagem do agente enviada e exibida localmente")}catch(o){var s,r;g(e=>e.filter(e=>e.id!==n.id)),Bt.error((null===(s=o.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"Erro ao enviar mensagem"),b(a)}finally{ke(!1)}};return(0,Qt.jsxs)("div",{className:"h-screen bg-slate-50 flex flex-col overflow-hidden",children:[(0,Qt.jsx)("header",{className:"bg-white border-b border-slate-200 flex-shrink-0",children:(0,Qt.jsxs)("div",{className:"max-w-full mx-auto px-4 py-3 flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsxs)("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center relative",children:[(0,Qt.jsx)(Co,{className:"w-6 h-6 text-white"}),(0,Qt.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white ".concat(r?"bg-green-500":"bg-red-500")})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Painel do Atendente"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:null===t||void 0===t?void 0:t.name})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)(On,{placeholder:"Buscar em conversas...",value:ee,onChange:e=>(async e=>{if(te(e),!e||""===e.trim())return re(!1),void ne([]);re(!0);try{const[a,n,s]=await Promise.all([jo.get("/tickets",{params:{status:"EM_ESPERA"}}),jo.get("/tickets",{params:{status:"ATENDENDO"}}),jo.get("/tickets",{params:{status:"FINALIZADAS"}})]),r=[...a.data||[],...n.data||[],...s.data||[]],o=e.toLowerCase(),l=[];for(const e of r){let a=!1,n=[];e.client_id&&e.client_id.toLowerCase().includes(o)&&(a=!0,n.push("WhatsApp"));try{const{data:t}=await jo.get("/messages/".concat(e.id));for(const e of t)if(e.text&&e.text.toLowerCase().includes(o)){a=!0,n.includes("Mensagem")||n.push("Mensagem");break}}catch(t){console.error("Erro ao buscar mensagens do ticket ".concat(e.id,":"),t)}a&&l.push(m(m({},e),{},{matchDetails:n.join(", ")}))}ne(l),Bt.success("".concat(l.length," resultado(s) encontrado(s)"))}catch(t){console.error("Erro na pesquisa:",t),Bt.error("Erro ao realizar pesquisa")}})(e.target.value),className:"w-64 pr-20 h-9"}),se&&ee&&(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:at,className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",title:"Limpar pesquisa",children:(0,Qt.jsx)(Xd,{className:"w-4 h-4"})}),(0,Qt.jsx)(Rx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),Re.length>0&&(0,Qt.jsxs)(zn,{onClick:()=>Ie(!0),variant:"outline",size:"sm",className:"bg-blue-50 hover:bg-blue-100 border-blue-300",children:[(0,Qt.jsx)($o,{className:"w-4 h-4 mr-2"}),"Subir Listas"]}),S.length>0&&(0,Qt.jsxs)(zn,{onClick:()=>A(!0),variant:"outline",size:"sm",className:"bg-purple-50 hover:bg-purple-100 border-purple-300",children:[(0,Qt.jsx)(Go,{className:"w-4 h-4 mr-2"}),"Tutoriais (",S.length,")"]}),(0,Qt.jsxs)(zn,{onClick:()=>z(!0),variant:"outline",size:"sm",className:"bg-green-50 hover:bg-green-100 border-green-400",title:"Busca INSTANT\xc2NEA - 8.785 clientes (0.4ms)",children:[(0,Qt.jsx)(rl,{className:"w-4 h-4 mr-2"}),"\u26a1 Office R\xe1pido"]}),(0,Qt.jsxs)(zn,{onClick:()=>R(!0),variant:"outline",size:"sm",className:"bg-teal-50 hover:bg-teal-100 border-teal-300",title:"Buscar credenciais no Office (m\xe9todo antigo - ~30s)",children:[(0,Qt.jsx)(rl,{className:"w-4 h-4 mr-2"}),"Office (Antigo)"]}),(0,Qt.jsxs)(zn,{onClick:()=>O(!0),variant:"outline",size:"sm",className:"bg-amber-50 hover:bg-amber-100 border-amber-300",title:"Ver avisos importantes",children:[(0,Qt.jsx)(Bo,{className:"w-4 h-4 mr-2"}),"Avisos"]}),(0,Qt.jsxs)(zn,{"data-testid":"agent-logout-btn",onClick:()=>{_o(),e("/")},variant:"outline",size:"sm",children:[(0,Qt.jsx)(Fo,{className:"w-4 h-4 mr-2"}),"Sair"]})]})]})}),(0,Qt.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,Qt.jsxs)("div",{className:"w-80 bg-white border-r border-slate-200 flex flex-col overflow-hidden",children:[(0,Qt.jsxs)("div",{className:"p-3 border-b border-slate-200 space-y-2 flex-shrink-0",children:[(0,Qt.jsxs)("div",{className:"space-y-1",children:[(0,Qt.jsx)("label",{className:"text-xs font-medium text-slate-700",children:"Fixar Credenciais"}),(0,Qt.jsxs)("div",{className:"flex gap-1",children:[(0,Qt.jsx)(On,{"data-testid":"pin-user-input",placeholder:"Usu\xe1rio",value:B,onChange:e=>q(e.target.value),className:"text-sm h-8"}),(0,Qt.jsx)(On,{"data-testid":"pin-pass-input",placeholder:"Senha",value:U,onChange:e=>V(e.target.value),className:"text-sm h-8"})]}),(0,Qt.jsx)(zn,{"data-testid":"pin-credentials-btn",onClick:async()=>{if(h)try{await jo.put("/users/".concat(h.client_id,"/pin-credentials"),{pinned_user:B,pinned_pass:U}),$({pinned_user:B,pinned_pass:U}),Bt.success("Credenciais fixadas!"),q(""),V("")}catch(e){Bt.error("Erro ao fixar credenciais")}},size:"sm",className:"w-full h-7 text-xs",children:"Fixar"})]}),(0,Qt.jsxs)("div",{className:"space-y-1",children:[(0,Qt.jsx)("label",{className:"text-xs font-medium text-slate-700",children:"Resetar PIN"}),(0,Qt.jsxs)("div",{className:"flex gap-1",children:[(0,Qt.jsx)(On,{"data-testid":"reset-phone-input",placeholder:"WhatsApp",value:W,onChange:e=>H(e.target.value),className:"text-sm h-8"}),(0,Qt.jsx)(zn,{"data-testid":"reset-pin-btn",onClick:async()=>{try{await jo.post("/users/reset-pin",{whatsapp:W}),Bt.success("PIN resetado!"),H("")}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao resetar PIN")}},size:"sm",className:"h-8 px-2",children:(0,Qt.jsx)(rx,{className:"w-4 h-4"})})]})]})]}),se?(0,Qt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Qt.jsxs)("div",{className:"p-3 bg-amber-50 border-b border-amber-200 flex items-center justify-between flex-shrink-0",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Rx,{className:"w-4 h-4 text-amber-600"}),(0,Qt.jsxs)("span",{className:"text-sm font-medium text-amber-900",children:['Resultados da Pesquisa: "',ee,'"']}),(0,Qt.jsxs)("span",{className:"text-xs bg-amber-200 text-amber-800 px-2 py-0.5 rounded-full",children:[ae.length," encontrado(s)"]})]}),(0,Qt.jsxs)(zn,{size:"sm",variant:"ghost",onClick:at,children:[(0,Qt.jsx)(Xd,{className:"w-4 h-4 mr-1"}),"Limpar"]})]}),(0,Qt.jsx)("div",{className:"flex-1 overflow-y-auto px-2 pb-2 pt-2",children:(0,Qt.jsx)("div",{className:"space-y-2",children:0===ae.length?(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,Qt.jsx)(Rx,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),(0,Qt.jsx)("p",{className:"text-sm",children:"Nenhum resultado encontrado"}),(0,Qt.jsx)("p",{className:"text-xs mt-1",children:"Tente buscar por WhatsApp ou conte\xfado de mensagens"})]}):ae.map(e=>(0,Qt.jsxs)(Un,{className:"p-3 cursor-pointer transition-all hover:shadow-md relative ".concat((null===h||void 0===h?void 0:h.id)===e.id?"border-2 border-indigo-500 bg-indigo-50":""),onClick:()=>st(e),children:[e.unread_count>0&&(0,Qt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:e.unread_count}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[e.client_avatar&&(0,Qt.jsx)("img",{src:e.client_avatar,alt:"",className:"w-10 h-10 rounded-full object-cover"}),(0,Qt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qt.jsx)("p",{className:"font-medium text-sm text-slate-900 truncate",children:e.client_name||Ig(e.client_whatsapp)}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 truncate",children:Ig(e.client_whatsapp)}),(0,Qt.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,Qt.jsx)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:e.matchDetails}),(0,Qt.jsxs)("span",{className:"text-xs text-slate-400",children:["Status: ","EM_ESPERA"===e.status?"Espera":"ATENDENDO"===e.status?"Atendendo":"Finalizado"]})]})]})]})]},e.id))})})]}):(0,Qt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Qt.jsxs)("div",{className:"flex gap-1 p-2 bg-slate-50 border-b flex-shrink-0",children:[(0,Qt.jsx)(zn,{variant:"wa_suporte"===Ce?"default":"outline",size:"sm",onClick:()=>{Ee("wa_suporte"),Te(!1)},className:"flex-1 text-xs font-semibold transition-all whitespace-nowrap ".concat("wa_suporte"===Ce?"bg-red-600 hover:bg-red-700 text-white border-red-600":"bg-white hover:bg-red-50 text-red-700 border-red-300"),children:"WA Suporte"}),(0,Qt.jsx)(zn,{variant:"whatsapp_starter"===Ce?"default":"outline",size:"sm",onClick:()=>{Ee("whatsapp_starter"),Te(!1)},className:"flex-1 text-xs font-semibold transition-all whitespace-nowrap ".concat("whatsapp_starter"===Ce?"bg-green-600 hover:bg-green-700 text-white border-green-600":"bg-white hover:bg-green-50 text-green-700 border-green-300"),children:"WhatsApp"}),(0,Qt.jsxs)(zn,{variant:"ia"===Ce?"default":"outline",size:"sm",onClick:()=>{Ee("ia"),Te(!1)},className:"flex-1 text-xs font-semibold transition-all whitespace-nowrap ".concat("ia"===Ce?"bg-purple-600 hover:bg-purple-700 text-white border-purple-600":"bg-white hover:bg-purple-50 text-purple-700 border-purple-300"),children:["\ud83e\udd16 I.A ",ie>0&&(0,Qt.jsx)("span",{className:"ml-1 px-1.5 py-0.5 bg-purple-100 text-purple-700 rounded-full text-[10px]",children:ie})]})]}),"ia"!==Ce?(0,Qt.jsxs)(Ci,{value:a,onValueChange:e=>{n(e),Te(!1)},className:"flex-1 flex flex-col overflow-hidden",children:[(0,Qt.jsxs)(Ei,{className:"grid grid-cols-3 m-2 flex-shrink-0",children:[(0,Qt.jsxs)(Ai,{value:"EM_ESPERA","data-testid":"tab-em-espera",className:"text-xs",children:["Espera ",(0,Qt.jsx)("span",{className:"ml-1 px-1.5 py-0.5 bg-red-100 text-red-700 rounded-full text-[10px]",children:w.EM_ESPERA})]}),(0,Qt.jsxs)(Ai,{value:"ATENDENDO","data-testid":"tab-atendendo",className:"text-xs",children:["Atendendo ",(0,Qt.jsx)("span",{className:"ml-1 px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded-full text-[10px]",children:w.ATENDENDO})]}),(0,Qt.jsxs)(Ai,{value:"FINALIZADAS","data-testid":"tab-finalizadas",className:"text-xs",children:["Finalizadas ",(0,Qt.jsx)("span",{className:"ml-1 px-1.5 py-0.5 bg-green-100 text-green-700 rounded-full text-[10px]",children:w.FINALIZADAS})]})]}),(0,Qt.jsx)("div",{className:"flex-1 overflow-y-auto px-2 pb-2",children:(0,Qt.jsxs)("div",{className:"space-y-2",children:[c.slice(0,Ae?c.length:5).map(e=>(0,Qt.jsxs)(Un,{"data-testid":"ticket-".concat(e.id),className:"p-3 cursor-pointer transition-all hover:shadow-md relative ".concat((null===h||void 0===h?void 0:h.id)===e.id?"border-2 border-indigo-500 bg-indigo-50":""),onClick:()=>st(e),children:[e.unread_count>0&&(0,Qt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:e.unread_count}),(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:e.client_avatar?(0,Qt.jsx)("img",{src:e.client_avatar,alt:"Cliente",className:"w-full h-full object-cover"}):(0,Qt.jsx)(Eo,{className:"w-6 h-6 text-gray-400"})}),(0,Qt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qt.jsx)("p",{className:"font-medium text-sm text-slate-900 truncate",children:e.client_name||Ig(e.client_whatsapp)}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 truncate",children:Ig(e.client_whatsapp)}),e.last_message&&(0,Qt.jsx)("p",{className:"text-xs text-slate-400 truncate mt-1",children:e.last_message.text?e.last_message.text.length>20?e.last_message.text.substring(0,20)+"...":e.last_message.text:"\ud83d\udcce Arquivo"})]})]})]},e.id)),!Ae&&c.length>5&&(0,Qt.jsxs)("div",{className:"pt-3 pb-2 px-2",children:[(0,Qt.jsxs)(zn,{variant:"default",className:"w-full text-sm font-semibold bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white shadow-md",onClick:()=>Te(!0),children:[(0,Qt.jsx)(sl,{className:"w-4 h-4 mr-2"}),"Ver Todas as Conversas (",c.length-5," restantes)"]}),(0,Qt.jsx)("p",{className:"text-xs text-center text-gray-500 mt-2",children:"\ud83d\udcca Mostrando apenas 5 conversas para melhor performance"})]}),Ae&&c.length>5&&(0,Qt.jsxs)("div",{className:"pt-2 pb-1 px-2",children:[(0,Qt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 text-center",children:(0,Qt.jsxs)("span",{className:"text-xs font-medium text-green-700",children:["\u2705 Mostrando todas as ",c.length," conversas"]})}),(0,Qt.jsx)(zn,{variant:"outline",size:"sm",className:"w-full mt-2 text-xs",onClick:()=>Te(!1),children:"Mostrar apenas 5"})]})]})})]}):(0,Qt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Qt.jsxs)("div",{className:"p-3 bg-purple-50 border-b border-purple-200 flex-shrink-0",children:[(0,Qt.jsxs)("h3",{className:"text-sm font-semibold text-purple-900 flex items-center gap-2",children:["\ud83e\udd16 Conversas com IA Ativa",(0,Qt.jsxs)("span",{className:"text-xs bg-purple-200 text-purple-800 px-2 py-0.5 rounded-full",children:[ie," ativa(s)"]})]}),(0,Qt.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"Clique para visualizar ou assumir conversa"})]}),(0,Qt.jsx)("div",{className:"flex-1 overflow-y-auto px-2 pb-2 pt-2",children:(0,Qt.jsx)("div",{className:"space-y-2",children:0===oe.length?(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,Qt.jsx)(Zo,{className:"w-12 h-12 mx-auto mb-2 opacity-30 text-purple-400"}),(0,Qt.jsx)("p",{className:"text-sm",children:"Nenhuma conversa ativa com IA"}),(0,Qt.jsx)("p",{className:"text-xs mt-1",children:"Quando clientes iniciarem conversas no /vendas, elas aparecer\xe3o aqui"})]}):oe.map(e=>(0,Qt.jsx)(Un,{className:"p-3 cursor-pointer transition-all hover:shadow-md border-purple-200 hover:border-purple-400 bg-purple-50/50",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center flex-shrink-0",children:(0,Qt.jsx)(Zo,{className:"w-5 h-5 text-white"})}),(0,Qt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Qt.jsxs)("p",{className:"font-medium text-sm text-slate-900",children:["Sess\xe3o: ",e.session_id.substring(0,8),"..."]}),(0,Qt.jsx)("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-0.5 rounded-full font-semibold",children:"IA Ativa"})]}),e.whatsapp&&(0,Qt.jsxs)("p",{className:"text-xs text-slate-600 mb-2",children:["\ud83d\udcf1 ",Ig(e.whatsapp)]}),e.last_message&&(0,Qt.jsxs)("div",{className:"bg-white rounded p-2 mb-2",children:[(0,Qt.jsx)("p",{className:"text-xs text-slate-600 line-clamp-2",children:e.last_message.text}),(0,Qt.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:new Date(e.last_message.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),(0,Qt.jsx)("div",{className:"flex gap-2",children:(0,Qt.jsxs)(zn,{size:"sm",className:"flex-1 h-7 text-xs bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>(async e=>{try{console.log("\ud83c\udfaf Assumindo conversa IA:",e.session_id);const{data:a}=await jo.post("/vendas/assume-ai-session",{session_id:e.session_id,whatsapp:e.whatsapp,agent_id:t.id});console.log("\u2705 Ticket criado/assumido:",a.ticket_id);const s={id:a.ticket_id,whatsapp:e.whatsapp,status:"ATENDENDO",agent_id:t.id,vendas_session_id:e.session_id};st(s),n("ATENDENDO"),await Ue(),await Ve(),Bt.success("Conversa assumida com sucesso!")}catch(a){console.error("\u274c Erro ao assumir conversa:",a),Bt.error("Erro ao assumir conversa")}})(e),children:[(0,Qt.jsx)(Px,{className:"w-3 h-3 mr-1"}),"ASSUMIR CONVERSA"]})})]})]})},e.session_id))})})]})]})]}),(0,Qt.jsx)("div",{className:"flex-1 bg-slate-100 flex flex-col",children:h?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("div",{className:"bg-white border-b border-slate-200 p-4 flex-shrink-0",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"w-14 h-14 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:h.client_avatar?(0,Qt.jsx)("img",{src:h.client_avatar,alt:"Cliente",className:"w-full h-full object-cover"}):(0,Qt.jsx)(Eo,{className:"w-7 h-7 text-gray-400"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-semibold text-lg text-slate-900",children:h.client_name||Ig(h.client_whatsapp)}),(0,Qt.jsxs)("p",{className:"text-sm text-slate-600 flex items-center gap-2",children:[(0,Qt.jsx)(To,{className:"w-3 h-3"}),(0,Qt.jsx)("span",{className:"font-mono",children:Ig(h.client_whatsapp)}),(0,Qt.jsx)("button",{onClick:()=>l(h.client_whatsapp),className:"ml-1 p-1 hover:bg-slate-200 rounded transition-colors",title:"Copiar telefone",children:(0,Qt.jsx)(el,{className:"w-3 h-3 text-slate-500"})})]})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 items-center",children:["EM_ESPERA"===a&&(0,Qt.jsx)("span",{className:"px-3 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:"Em Espera"}),"ATENDENDO"===a&&(0,Qt.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:"Atendendo"}),"FINALIZADAS"===a&&(0,Qt.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Finalizado"}),(0,Qt.jsxs)(zn,{size:"sm",variant:!1===h.ai_enabled?"outline":"default",className:!1===h.ai_enabled?"border-red-300 text-red-600 hover:bg-red-50":"bg-purple-600 hover:bg-purple-700 text-white",onClick:async()=>{try{const e=!1===h.ai_enabled&&null;await jo.put("/tickets/".concat(h.id,"/toggle-ai"),{enabled:e});const t=c.map(t=>t.id===h.id?m(m({},t),{},{ai_enabled:e,ai_manually_controlled:null!==e}):t);d(t),f(m(m({},h),{},{ai_enabled:e,ai_manually_controlled:null!==e})),Bt.success(!1===e?"\ud83d\udd34 IA desativada para este cliente":"\ud83d\udfe2 IA reativada (seguindo configura\xe7\xe3o global)")}catch(e){console.error("Error toggling AI:",e),Bt.error("Erro ao alterar IA")}},title:!1===h.ai_enabled?"IA desativada para este cliente. Clique para reativar":"IA ativa para este cliente. Clique para desativar",children:[(0,Qt.jsx)(Zo,{className:"w-4 h-4 mr-1"}),!1===h.ai_enabled?"IA Desativada":"IA Ativa"]})]})]}),(G.pinned_user||G.pinned_pass)&&(0,Qt.jsxs)("div",{className:"mt-3 p-3 bg-gradient-to-r from-cyan-50 to-blue-50 border-l-4 border-cyan-500 rounded-lg",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(bx,{className:"w-4 h-4 text-cyan-600"}),(0,Qt.jsx)("span",{className:"font-semibold text-cyan-900 text-sm",children:"Credenciais do Cliente:"})]}),(0,Qt.jsxs)("div",{className:"mt-2 font-mono text-sm text-cyan-800",children:[(0,Qt.jsx)("span",{className:"font-semibold",children:"Usu\xe1rio:"})," ",G.pinned_user," \u2022"," ",(0,Qt.jsx)("span",{className:"font-semibold",children:"Senha:"})," ",G.pinned_pass]})]}),(0,Qt.jsxs)("div",{className:"mt-3",children:[(0,Qt.jsx)("button",{onClick:async()=>{if(h)try{const{data:e}=await jo.post("/tickets/".concat(h.id,"/toggle-ai"),{});Z(e.ai_enabled),Bt.success(e.message),Ue(a)}catch(e){Bt.error("Erro ao alterar status da IA")}},className:"w-full px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-all font-medium ".concat(J?"bg-green-100 text-green-700 hover:bg-green-200 border-2 border-green-300":"bg-red-100 text-red-700 hover:bg-red-200 border-2 border-red-300"),children:J?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Zo,{className:"w-4 h-4"}),(0,Qt.jsx)("span",{children:"IA Ativa - Clique para Desativar (1h)"})]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Zo,{className:"w-4 h-4"}),(0,Qt.jsx)("span",{children:"IA Desativada - Clique para Reativar"})]})}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1 text-center",children:J?"IA responder\xe1 automaticamente nesta conversa":"IA n\xe3o responder\xe1 nesta conversa at\xe9 ser reativada"})]})]}),(0,Qt.jsx)("div",{ref:pe,className:"flex-1 overflow-y-auto bg-slate-50 p-4",style:{minHeight:"400px"},children:(0,Qt.jsxs)("div",{className:"space-y-3",children:[console.log("\ud83c\udfa8 Renderizando mensagens:",x.length,"total"),0===x.length?(0,Qt.jsxs)("div",{className:"text-center text-slate-500 py-8 bg-white rounded-lg shadow-sm",children:[(0,Qt.jsx)("p",{className:"font-medium",children:"Nenhuma mensagem ainda"}),(0,Qt.jsx)("p",{className:"text-sm mt-2",children:"Aguardando mensagens do cliente..."})]}):Array.from(new Map(x.map(e=>[e.id||"fallback-".concat(Math.random()),e])).values()).map((e,t)=>{var a;console.log("\ud83d\udcdd Mensagem ".concat(t,":"),e.from_type,null===(a=e.text)||void 0===a?void 0:a.substring(0,30));const n=Array.from(new Map(x.map(e=>[e.id||"fallback-".concat(Math.random()),e])).values()),s=0===t||new Date(n[t-1].created_at).toDateString()!==new Date(e.created_at).toDateString();return(0,Qt.jsxs)("div",{children:[s&&(0,Qt.jsx)("div",{className:"flex justify-center my-3",children:(0,Qt.jsx)("span",{className:"bg-slate-200 text-slate-600 text-xs px-3 py-1 rounded-full",children:new Date(e.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})})}),(0,Qt.jsxs)("div",{className:"flex gap-2 items-end ".concat("agent"===e.from_type?"justify-end":"justify-start"," animate-fadeIn group"),children:["client"===e.from_type&&(0,Qt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:null!==h&&void 0!==h&&h.client_avatar?(0,Qt.jsx)("img",{src:h.client_avatar,alt:"Cliente",className:"w-full h-full object-cover"}):(0,Qt.jsx)(Eo,{className:"w-4 h-4 text-gray-400"})}),(0,Qt.jsxs)("div",{className:"flex items-end gap-1",children:[(0,Qt.jsxs)("div",{className:"max-w-[70%] p-3 rounded-2xl shadow-sm ".concat("agent"===e.from_type?"bg-indigo-600 text-white rounded-br-sm":"ai"===e.from_type?"bg-purple-100 text-purple-900 rounded-bl-sm border border-purple-200":"bg-white text-slate-900 rounded-bl-sm border border-slate-200"),children:[e.text&&"pix"!==e.kind&&(0,Qt.jsx)("div",{className:"whitespace-pre-wrap break-words text-sm mb-2",children:nt(e.text).map((e,t)=>"link"===e.type?(0,Qt.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline break-all",children:e.content},t):"highlight"===e.type?(0,Qt.jsxs)("span",{children:[(0,Qt.jsxs)("span",{children:[e.label,": "]}),(0,Qt.jsx)("strong",{className:"bg-yellow-100 px-2 py-0.5 rounded font-bold text-yellow-900",children:e.value})]},t):(0,Qt.jsx)("span",{children:e.content},t))}),"image"===e.kind&&(e.media_expired?(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg text-gray-500 text-sm max-w-[250px]",children:[(0,Qt.jsx)("span",{children:"\ud83d\udcf7"}),(0,Qt.jsx)("span",{children:"Imagem expirada (7 dias)"})]}):e.file_url?(0,Qt.jsx)("img",{src:e.file_url,alt:"Imagem",className:"max-w-[250px] max-h-[250px] w-auto h-auto object-contain rounded-lg cursor-pointer hover:opacity-80 transition-opacity block",onClick:()=>window.open(e.file_url,"_blank"),onError:t=>{console.error("Erro ao carregar imagem:",e.file_url),t.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><text x="50%" y="50%" text-anchor="middle" dy=".3em">\u274c Erro</text></svg>'}}):null),"video"===e.kind&&(e.media_expired?(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg text-gray-500 text-sm max-w-[250px]",children:[(0,Qt.jsx)("span",{children:"\ud83c\udfa5"}),(0,Qt.jsx)("span",{children:"V\xeddeo expirado (7 dias)"})]}):e.file_url?(0,Qt.jsx)("video",{src:e.file_url,controls:!0,preload:"metadata",className:"max-w-[250px] max-h-[250px] w-auto h-auto rounded-lg block bg-black",onError:t=>{console.error("Erro ao carregar v\xeddeo:",e.file_url)},children:"Seu navegador n\xe3o suporta v\xeddeo."}):null),"audio"===e.kind&&(e.media_expired?(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg text-gray-500 text-sm max-w-[250px]",children:[(0,Qt.jsx)("span",{children:"\ud83c\udfb5"}),(0,Qt.jsx)("span",{children:"\xc1udio expirado (7 dias)"})]}):e.file_url?(0,Qt.jsx)(Mg,{src:e.file_url,isSentByMe:"agent"===e.sender_type}):null),"pix"===e.kind&&(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-semibold mb-2 text-sm",children:"\ud83d\udcb0 Chave PIX"}),(0,Qt.jsx)("code",{className:"text-xs bg-black/10 px-2 py-1 rounded block",children:e.text})]}),(0,Qt.jsxs)("div",{className:"flex items-center justify-between mt-1 gap-2",children:["client"===e.from_type&&(null===h||void 0===h?void 0:h.client_name)&&(0,Qt.jsx)("span",{className:"text-[10px] font-semibold opacity-80",children:h.client_name}),(0,Qt.jsx)("p",{className:"text-[10px] opacity-70 ml-auto",children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),"client"===e.from_type&&e.text&&(0,Qt.jsx)("button",{onClick:()=>l(e.text),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1.5 hover:bg-slate-200 rounded-full mb-2",title:"Copiar mensagem",children:(0,Qt.jsx)(el,{className:"w-3.5 h-3.5 text-slate-600"})})]}),"agent"===e.from_type&&(0,Qt.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:k.support_avatar?(0,Qt.jsx)("img",{src:k.support_avatar,alt:"Agente",className:"w-full h-full object-cover"}):(0,Qt.jsx)(Co,{className:"w-4 h-4 text-indigo-600"})})]})]},e.id||"msg-".concat(t,"-").concat(Date.now()))}),(0,Qt.jsx)("div",{ref:ue})]})}),k.quick_blocks&&k.quick_blocks.length>0&&(0,Qt.jsxs)("div",{className:"bg-white border-t border-slate-200 px-4 py-2 flex-shrink-0",style:{minHeight:"60px"},children:[(0,Qt.jsx)("p",{className:"text-xs font-semibold text-slate-700 mb-2",children:"\u26a1 Mensagens R\xe1pidas:"}),(0,Qt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[k.pix_key&&(0,Qt.jsx)(zn,{size:"sm",className:"text-xs h-7 bg-emerald-600 hover:bg-emerald-700 text-white font-medium",onClick:()=>b("\ud83d\udcb0 CHAVE PIX:\n\n".concat(k.pix_key,"\n\n\ud83d\udc47 Copie a chave clicando no bot\xe3o abaixo")),children:"\ud83d\udcb0 PIX"}),k.quick_blocks.map((e,t)=>(0,Qt.jsx)(zn,{"data-testid":"quick-block-".concat(t),size:"sm",variant:"outline",onClick:()=>b(e.text),className:"text-xs h-7 hover:bg-indigo-50 hover:border-indigo-400 hover:text-indigo-700 transition-all",children:e.name},t))]})]}),(0,Qt.jsx)("div",{className:"bg-white border-t-2 border-slate-300 p-4 flex-shrink-0 shadow-lg",style:{minHeight:"140px"},children:(0,Qt.jsxs)("div",{className:"flex gap-3",children:[(0,Qt.jsx)("input",{ref:me,type:"file",className:"hidden",onChange:e=>e.target.files[0]&&(async e=>{if(!h)return;const a=new FormData;a.append("file",e);const n={id:"temp-file-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),ticket_id:h.id,from_type:"agent",from_id:t.id,to_type:"client",to_id:h.client_id,kind:"image",text:"",file_url:"uploading",created_at:(new Date).toISOString(),is_read:!1};g(e=>[...e,n]);try{const{data:e}=await jo.post("/upload",a,{headers:{"Content-Type":"multipart/form-data"}}),s=await jo.post("/messages",{ticket_id:h.id,from_type:"agent",from_id:t.id,to_type:"client",to_id:h.client_id,kind:e.kind,text:"",file_url:e.url});g(t=>t.map(t=>t.id===n.id?m(m({},s.data),{},{file_url:e.url,kind:e.kind}):t)),Bt.success("Arquivo enviado!"),console.log("\u2705 Arquivo do agente enviado e exibido localmente")}catch(s){g(e=>e.filter(e=>e.id!==n.id)),Bt.error("Erro ao enviar arquivo")}})(e.target.files[0])}),(0,Qt.jsx)(zn,{"data-testid":"attach-file-btn",variant:"outline",size:"icon",onClick:()=>{var e;return null===(e=me.current)||void 0===e?void 0:e.click()},className:"flex-shrink-0 h-20 w-12 hover:bg-slate-100",title:"Anexar arquivo",children:(0,Qt.jsx)(zx,{className:"w-5 h-5"})}),(0,Qt.jsx)(ll,{"data-testid":"message-input",placeholder:"Digite sua mensagem... (Enter para enviar, Shift+Enter para nova linha)",value:v,onChange:e=>b(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),rt("ATENDENDO"))},className:"flex-1 resize-none border-2 border-slate-300 focus:border-indigo-500 rounded-lg p-3",style:{height:"80px",minHeight:"80px",maxHeight:"80px"}}),(0,Qt.jsxs)("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[(0,Qt.jsxs)(zn,{"data-testid":"send-and-continue-btn",onClick:()=>rt("ATENDENDO"),disabled:Ne||!v.trim(),className:"bg-indigo-600 hover:bg-indigo-700 h-[26px] px-4 font-medium disabled:opacity-50",title:"Enviar e continuar atendendo",children:[Ne?(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-1"}):(0,Qt.jsx)(Cx,{className:"w-4 h-4 mr-1"}),"Enviar"]}),(0,Qt.jsx)(zn,{"data-testid":"send-and-wait-btn",onClick:()=>rt("EM_ESPERA"),disabled:Ne||!v.trim(),variant:"outline",className:"h-[26px] px-4 hover:bg-amber-50 hover:border-amber-400 hover:text-amber-700 disabled:opacity-50",title:"Enviar e colocar em espera",children:"\u23f8\ufe0f Espera"}),(0,Qt.jsx)(zn,{"data-testid":"send-and-finish-btn",onClick:()=>rt("FINALIZADAS"),variant:"outline",className:"h-[26px] px-4 hover:bg-green-50 hover:border-green-400 hover:text-green-700",title:"Enviar e finalizar atendimento",children:"\u2713 Finalizar"}),(0,Qt.jsx)(zn,{onClick:()=>F(!0),variant:"outline",className:"h-[26px] px-4 hover:bg-purple-50 hover:border-purple-400 hover:text-purple-700",title:"Agendar mensagem",children:"\ud83d\udd50 Agendar"})]})]})})]}):(0,Qt.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Qt.jsxs)("div",{className:"text-center text-slate-400",children:[(0,Qt.jsx)(Co,{className:"w-20 h-20 mx-auto mb-4 opacity-30"}),(0,Qt.jsx)("p",{className:"text-lg font-medium",children:"Selecione um ticket para iniciar o atendimento"}),(0,Qt.jsx)("p",{className:"text-sm mt-2",children:"Escolha um cliente da lista ao lado"})]})})})]}),(0,Qt.jsx)(nu,{open:E,onOpenChange:A,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\ud83d\udcda Tutoriais e Aplicativos"})}),(0,Qt.jsx)("div",{className:"space-y-4 mt-4",children:0===S.length?(0,Qt.jsx)("p",{className:"text-center text-slate-500 py-8",children:"Nenhum tutorial dispon\xedvel no momento."}):S.map(e=>(0,Qt.jsxs)(Un,{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200",children:[(0,Qt.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"font-bold text-lg text-purple-900",children:e.category}),(0,Qt.jsx)("p",{className:"font-semibold text-indigo-700",children:e.appName})]}),(0,Qt.jsxs)(zn,{size:"sm",onClick:()=>(e=>{let t="\ud83d\udcda ".concat(e.category," - ").concat(e.appName,"\n\n");e.code&&(t+="\ud83d\udd11 C\xf3digo/Provedor: ".concat(e.code,"\n\n")),e.instructions&&(t+="\ud83d\udcdd Instru\xe7\xf5es:\n".concat(e.instructions,"\n\n")),e.videoUrl&&(t+="\ud83c\udfa5 V\xeddeo Tutorial: ".concat(e.videoUrl)),b(t),A(!1),Bt.success("Tutorial adicionado ao campo de mensagem!")})(e),className:"bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(Cx,{className:"w-4 h-4 mr-2"}),"Enviar ao Cliente"]})]}),e.code&&(0,Qt.jsxs)("div",{className:"mb-2",children:[(0,Qt.jsx)("span",{className:"text-xs font-semibold text-slate-600",children:"C\xf3digo/Provedor:"}),(0,Qt.jsx)("p",{className:"text-sm font-mono bg-white px-2 py-1 rounded border border-slate-300 mt-1",children:e.code})]}),e.instructions&&(0,Qt.jsxs)("div",{className:"mb-2",children:[(0,Qt.jsx)("span",{className:"text-xs font-semibold text-slate-600",children:"Instru\xe7\xf5es:"}),(0,Qt.jsx)("p",{className:"text-sm whitespace-pre-wrap bg-white px-3 py-2 rounded border border-slate-300 mt-1",children:e.instructions})]}),e.videoUrl&&(0,Qt.jsx)("div",{className:"mt-2",children:(0,Qt.jsx)("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline flex items-center gap-1",children:"\ud83c\udfa5 Assistir v\xeddeo tutorial"})})]},e.id))})]})}),P&&(0,Qt.jsx)(Ug,{onClose:()=>z(!1)}),(0,Qt.jsx)(nu,{open:T,onOpenChange:R,children:(0,Qt.jsxs)(lu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\ud83c\udfe2 Buscar no Office (gestor.my)"})}),(0,Qt.jsx)("div",{className:"mt-4",children:(0,Qt.jsx)(Fg,{})})]})}),(0,Qt.jsx)(nu,{open:I,onOpenChange:O,children:(0,Qt.jsxs)(lu,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\ud83d\udce2 Avisos Importantes"})}),(0,Qt.jsx)("div",{className:"space-y-4 mt-4",children:0===D.length?(0,Qt.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Nenhum aviso no momento"}):D.map(e=>(0,Qt.jsxs)("div",{className:"border-l-4 border-amber-500 bg-amber-50 p-4 rounded",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-amber-900 mb-2",children:e.title}),(0,Qt.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:e.content}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:new Date(e.created_at).toLocaleString("pt-BR")})]},e.id))})]})}),(0,Qt.jsx)(nu,{open:ze,onOpenChange:Ie,children:(0,Qt.jsxs)(lu,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\ud83d\udcfa Subir Listas - Aplicativos"})}),Oe?(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"border-2 border-blue-500 rounded-lg p-4 bg-blue-50",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[(0,Qt.jsx)("span",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"1"}),"Preencha os dados do cliente"]}),(0,Qt.jsx)("div",{className:"space-y-3",children:Oe.fields.map(e=>(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1 capitalize",children:e.replace("_"," ")}),(0,Qt.jsx)(On,{placeholder:"Digite ".concat(e,"..."),value:Me[e]||"",onChange:t=>Le(m(m({},Me),{},{[e]:t.target.value})),className:"bg-white"})]},e))})]}),Object.keys(Me).length>0&&Object.values(Me).every(e=>e)&&"SSIPTV"===(null===Oe||void 0===Oe?void 0:Oe.type)&&(0,Qt.jsxs)("div",{className:"border-2 border-green-500 rounded-lg p-4 bg-gradient-to-br from-green-50 to-emerald-50",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[(0,Qt.jsx)("span",{className:"bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"\ud83e\udd16"}),"Configura\xe7\xe3o Autom\xe1tica (SS-IPTV)"]}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Sistema autom\xe1tico exclusivo para SS-IPTV! Configura\xe7\xe3o r\xe1pida e inteligente."}),(0,Qt.jsx)(zn,{onClick:async()=>{if(!Oe)return;if(Oe.fields.every(e=>Me[e])){Xe([]),Ze(!0),tt(null),Bt.loading("\ud83e\udd16 Iniciando automa\xe7\xe3o inteligente...",{id:"automation"});try{const{data:e}=await jo.post("/iptv-apps/".concat(Oe.id,"/automate"),{form_data:Me});e.logs&&e.logs.length>0&&Xe(e.logs),tt(e),e.success||e.ok?(Bt.success("\u2705 Configura\xe7\xe3o automatizada com sucesso! Score: ".concat(e.automation_score||0,"%"),{id:"automation"}),Be(e.final_url),e.logs&&e.logs.length>0&&console.log("\ud83d\udccb Logs da automa\xe7\xe3o:",e.logs)):(Bt.error("\u26a0\ufe0f ".concat(e.message||"Automa\xe7\xe3o falhou. Use o modo manual abaixo."),{id:"automation"}),e.logs&&e.logs.length>0&&console.error("\u274c Logs de erro:",e.logs))}catch(e){console.error("Automation error:",e),Bt.error("\u274c Erro na automa\xe7\xe3o. Use o m\xe9todo manual abaixo.",{id:"automation"}),tt({success:!1,message:"Erro de comunica\xe7\xe3o com o servidor",error:e.message})}finally{Ze(!1)}}else Bt.error("Preencha todos os campos primeiro!")},disabled:Je,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",size:"lg",children:Je?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("span",{className:"animate-spin mr-2",children:"\u2699\ufe0f"}),"Configurando automaticamente..."]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("span",{className:"text-xl mr-2",children:"\u26a1"}),"Configurar Automaticamente"]})}),(0,Qt.jsx)("p",{className:"text-xs text-center text-gray-500 mt-2",children:"\u2728 Sistema inteligente com retry autom\xe1tico e valida\xe7\xe3o"}),Ye.length>0&&(0,Qt.jsxs)("div",{className:"mt-4 bg-gray-900 rounded-lg p-3 max-h-48 overflow-y-auto",children:[(0,Qt.jsx)("h4",{className:"text-xs font-bold text-green-400 mb-2",children:"\ud83d\udccb Logs da Automa\xe7\xe3o:"}),Ye.map((e,t)=>(0,Qt.jsxs)("div",{className:"text-xs font-mono mb-1",children:[(0,Qt.jsxs)("span",{className:"text-gray-500",children:["[",e.time,"]"]})," ",(0,Qt.jsx)("span",{className:"error"===e.level?"text-red-400":"warning"===e.level?"text-yellow-400":"text-green-400",children:e.message})]},t))]}),et&&!Je&&(0,Qt.jsx)("div",{className:"mt-4 p-3 rounded-lg border-2 ".concat(et.success?"bg-green-50 border-green-500":"bg-red-50 border-red-500"),children:(0,Qt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Qt.jsx)("span",{className:"text-2xl",children:et.success?"\u2705":"\u26a0\ufe0f"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("p",{className:"text-sm font-semibold mb-1",children:et.message}),et.final_url&&(0,Qt.jsxs)("p",{className:"text-xs text-gray-600 break-all",children:["\ud83d\udd17 URL: ",et.final_url]}),et.automation_score&&(0,Qt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["\ud83d\udcca Score de automa\xe7\xe3o: ",et.automation_score,"%"]}),!et.success&&(0,Qt.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"\ud83d\udc49 Use o m\xe9todo manual abaixo para configurar"})]})]})})]}),Object.keys(Me).length>0&&Object.values(Me).every(e=>e)&&(0,Qt.jsxs)("div",{className:"flex items-center gap-3 my-4",children:[(0,Qt.jsx)("div",{className:"flex-1 h-px bg-gray-300"}),(0,Qt.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"OU CONFIGURE MANUALMENTE"}),(0,Qt.jsx)("div",{className:"flex-1 h-px bg-gray-300"})]}),(0,Qt.jsxs)("div",{className:"border-2 border-blue-500 rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[(0,Qt.jsx)("span",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"2"}),"Abra o site de configura\xe7\xe3o (Manual)"]}),(0,Qt.jsxs)(zn,{onClick:()=>window.open(Oe.config_url,"_blank"),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",size:"lg",children:[(0,Qt.jsx)(rl,{className:"w-5 h-5 mr-2"}),"Abrir ",Oe.name," \ud83d\ude80"]}),(0,Qt.jsx)("p",{className:"text-xs text-center text-gray-600 mt-2",children:"O site abrir\xe1 em uma nova aba"})]}),(0,Qt.jsxs)("div",{className:"border-2 border-green-500 rounded-lg p-4 bg-green-50",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[(0,Qt.jsx)("span",{className:"bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"3"}),"Copie e cole no site (cada campo)"]}),Object.keys(Me).length>0&&Object.values(Me).every(e=>e)?(0,Qt.jsxs)("div",{className:"space-y-3",children:[Oe.fields.map((e,t)=>(0,Qt.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qt.jsxs)("span",{className:"text-xs font-semibold text-green-700 uppercase",children:["#",t+1," - ",e.replace("_"," ")]}),(0,Qt.jsxs)(zn,{size:"sm",onClick:()=>l(Me[e]),className:"h-7",children:[(0,Qt.jsx)(el,{className:"w-3 h-3 mr-1"}),"Copiar"]})]}),(0,Qt.jsx)("div",{className:"bg-gray-50 p-2 rounded border font-mono text-sm break-all",children:Me[e]})]},e)),(0,Qt.jsxs)("div",{className:"mt-4 pt-4 border-t border-green-300",children:[(0,Qt.jsx)("p",{className:"text-sm font-semibold mb-2",children:"\ud83d\udccb URL Final (Cole na \xfaltima etapa):"}),(0,Qt.jsx)("div",{className:"bg-white p-3 rounded-lg border border-green-200 mb-2",children:(0,Qt.jsx)("div",{className:"bg-gray-50 p-2 rounded border font-mono text-xs break-all",children:Oe.url_template.replace(/\{([^}]+)\}/g,(e,t)=>Me[t]||e)})}),(0,Qt.jsxs)(zn,{size:"sm",onClick:()=>l(Oe.url_template.replace(/\{([^}]+)\}/g,(e,t)=>Me[t]||e)),className:"w-full",children:[(0,Qt.jsx)(el,{className:"w-3 h-3 mr-2"}),"Copiar URL Completa"]})]})]}):(0,Qt.jsx)("div",{className:"text-center py-8 text-gray-400",children:(0,Qt.jsx)("p",{className:"text-sm",children:"Preencha todos os campos acima primeiro"})})]}),Oe.instructions&&(0,Qt.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:[(0,Qt.jsx)("h3",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:"\ud83d\udca1 Instru\xe7\xf5es Passo a Passo:"}),(0,Qt.jsx)("p",{className:"text-xs whitespace-pre-line text-gray-700",children:Oe.instructions})]}),(0,Qt.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>{De(null),Be(""),Le({})},className:"flex-1",children:"\u2190 Voltar"}),(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>{Ie(!1),De(null),Le({})},className:"flex-1",children:"Fechar"})]})]}):(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Selecione um app para configurar:"}),Re.map(e=>(0,Qt.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition",onClick:()=>(e=>{De(e);const t={};e.fields.forEach(e=>{t[e]=""}),Le(t),Be("")})(e),children:(0,Qt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-lg",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.type}),(0,Qt.jsxs)("p",{className:"text-xs text-blue-600 mb-2",children:["\ud83d\udd17 ",e.config_url]}),e.instructions&&(0,Qt.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 rounded text-xs",children:[(0,Qt.jsx)("p",{className:"font-medium mb-1",children:"\ud83d\udccb Instru\xe7\xf5es:"}),(0,Qt.jsx)("p",{className:"whitespace-pre-line",children:e.instructions})]})]}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",children:"Configurar \u2192"})]})},e.id))]})]})}),_e&&(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>Se(null),children:(0,Qt.jsxs)("div",{className:"relative max-w-5xl max-h-full",children:[(0,Qt.jsx)("img",{src:_e,alt:"Imagem ampliada",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:e=>e.stopPropagation()}),(0,Qt.jsx)("button",{onClick:()=>Se(null),className:"absolute top-4 right-4 bg-white text-black rounded-full w-10 h-10 flex items-center justify-center hover:bg-gray-200 transition-colors",children:"\u2715"})]})}),L&&h&&(0,Qt.jsx)(Vg,{ticket:h,onClose:()=>F(!1),onSchedule:async e=>{try{if((await jo.post("/schedule-message",e)).data.success)return Bt.success("Mensagem agendada com sucesso!"),!0}catch(t){throw console.error("Erro ao agendar mensagem:",t),t}}})]})},Hg=na("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Gg=na("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),$g=na("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Kg=na("infinity",[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]]);var Qg,Yg=Object.defineProperty,Xg=Object.getOwnPropertySymbols,Jg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,ev=(e,t,a)=>t in e?Yg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,tv=(e,t)=>{for(var a in t||(t={}))Jg.call(t,a)&&ev(e,a,t[a]);if(Xg)for(var a of Xg(t))Zg.call(t,a)&&ev(e,a,t[a]);return e},av=(e,t)=>{var a={};for(var n in e)Jg.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&Xg)for(var n of Xg(e))t.indexOf(n)<0&&Zg.call(e,n)&&(a[n]=e[n]);return a};(e=>{const t=class t{constructor(e,a,n,r){if(this.version=e,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let t=0;t<this.size;t++)o.push(!1);for(let t=0;t<this.size;t++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const l=this.addEccAndInterleave(n);if(this.drawCodewords(l),-1==r){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const a=this.getPenaltyScore();a<e&&(r=t,e=a),this.applyMask(t)}}s(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}static encodeText(a,n){const s=e.QrSegment.makeSegments(a);return t.encodeSegments(s,n)}static encodeBinary(a,n){const s=e.QrSegment.makeBytes(a);return t.encodeSegments([s],n)}static encodeSegments(e,n){let r,l,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=i&&i<=c&&c<=t.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");for(r=i;;r++){const a=8*t.getNumDataCodewords(r,n),s=o.getTotalBits(e,r);if(s<=a){l=s;break}if(r>=c)throw new RangeError("Data too long")}for(const a of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&l<=8*t.getNumDataCodewords(r,a)&&(n=a);let m=[];for(const t of e){a(t.mode.modeBits,4,m),a(t.numChars,t.mode.numCharCountBits(r),m);for(const e of t.getData())m.push(e)}s(m.length==l);const p=8*t.getNumDataCodewords(r,n);s(m.length<=p),a(0,Math.min(4,p-m.length),m),a(0,(8-m.length%8)%8,m),s(m.length%8==0);for(let t=236;m.length<p;t^=253)a(t,8,m);let h=[];for(;8*h.length<m.length;)h.push(0);return m.forEach((e,t)=>h[t>>>3]|=e<<7-(7&t)),new t(r,n,h,d)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let a=0;a<t;a++)for(let n=0;n<t;n++)0==a&&0==n||0==a&&n==t-1||a==t-1&&0==n||this.drawAlignmentPattern(e[a],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let a=t;for(let n=0;n<10;n++)a=a<<1^1335*(a>>>9);const r=21522^(t<<10|a);s(r>>>15==0);for(let s=0;s<=5;s++)this.setFunctionModule(8,s,n(r,s));this.setFunctionModule(8,7,n(r,6)),this.setFunctionModule(8,8,n(r,7)),this.setFunctionModule(7,8,n(r,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,n(r,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,n(r,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,n(r,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let a=0;a<12;a++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;s(t>>>18==0);for(let a=0;a<18;a++){const e=n(t,a),s=this.size-11+a%3,r=Math.floor(a/3);this.setFunctionModule(s,r,e),this.setFunctionModule(r,s,e)}}drawFinderPattern(e,t){for(let a=-4;a<=4;a++)for(let n=-4;n<=4;n++){const s=Math.max(Math.abs(n),Math.abs(a)),r=e+n,o=t+a;0<=r&&r<this.size&&0<=o&&o<this.size&&this.setFunctionModule(r,o,2!=s&&4!=s)}}drawAlignmentPattern(e,t){for(let a=-2;a<=2;a++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+a,1!=Math.max(Math.abs(n),Math.abs(a)))}setFunctionModule(e,t,a){this.modules[t][e]=a,this.isFunction[t][e]=!0}addEccAndInterleave(e){const a=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(a,n))throw new RangeError("Invalid argument");const r=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][a],o=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][a],l=Math.floor(t.getNumRawDataModules(a)/8),i=r-l%r,c=Math.floor(l/r);let d=[];const u=t.reedSolomonComputeDivisor(o);for(let s=0,p=0;s<r;s++){let a=e.slice(p,p+c-o+(s<i?0:1));p+=a.length;const n=t.reedSolomonComputeRemainder(a,u);s<i&&a.push(0),d.push(a.concat(n))}let m=[];for(let t=0;t<d[0].length;t++)d.forEach((e,a)=>{(t!=c-o||a>=i)&&m.push(e[t])});return s(m.length==l),m}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let a=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let s=0;s<this.size;s++)for(let r=0;r<2;r++){const o=t-r,l=0==(t+1&2)?this.size-1-s:s;!this.isFunction[l][o]&&a<8*e.length&&(this.modules[l][o]=n(e[a>>>3],7-(7&a)),a++)}}s(a==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let a=0;a<this.size;a++){let n;switch(e){case 0:n=(a+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=a%3==0;break;case 3:n=(a+t)%3==0;break;case 4:n=(Math.floor(a/3)+Math.floor(t/2))%2==0;break;case 5:n=a*t%2+a*t%3==0;break;case 6:n=(a*t%2+a*t%3)%2==0;break;case 7:n=((a+t)%2+a*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][a]&&n&&(this.modules[t][a]=!this.modules[t][a])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let a=!1,n=0,r=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[s][o]==a?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,r),a||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),a=this.modules[s][o],n=1);e+=this.finderPenaltyTerminateAndCount(a,n,r)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let a=!1,n=0,r=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][s]==a?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,r),a||(e+=this.finderPenaltyCountPatterns(r)*t.PENALTY_N3),a=this.modules[o][s],n=1);e+=this.finderPenaltyTerminateAndCount(a,n,r)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let a=0;a<this.size-1;a++){const n=this.modules[s][a];n==this.modules[s][a+1]&&n==this.modules[s+1][a]&&n==this.modules[s+1][a+1]&&(e+=t.PENALTY_N2)}let a=0;for(const t of this.modules)a=t.reduce((e,t)=>e+(t?1:0),a);const n=this.size*this.size,r=Math.ceil(Math.abs(20*a-10*n)/n)-1;return s(0<=r&&r<=9),e+=r*t.PENALTY_N4,s(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let a=[6];for(let n=this.size-7;a.length<e;n-=t)a.splice(1,0,n);return a}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let a=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;a-=(25*t-10)*t-55,e>=7&&(a-=36)}return s(208<=a&&a<=29648),a}static getNumDataCodewords(e,a){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let a=[];for(let t=0;t<e-1;t++)a.push(0);a.push(1);let n=1;for(let s=0;s<e;s++){for(let e=0;e<a.length;e++)a[e]=t.reedSolomonMultiply(a[e],n),e+1<a.length&&(a[e]^=a[e+1]);n=t.reedSolomonMultiply(n,2)}return a}static reedSolomonComputeRemainder(e,a){let n=a.map(e=>0);for(const s of e){const e=s^n.shift();n.push(0),a.forEach((a,s)=>n[s]^=t.reedSolomonMultiply(a,e))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let a=0;for(let n=7;n>=0;n--)a=a<<1^285*(a>>>7),a^=(t>>>n&1)*e;return s(a>>>8==0),a}finderPenaltyCountPatterns(e){const t=e[1];s(t<=3*this.size);const a=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(a&&e[0]>=4*t&&e[6]>=t?1:0)+(a&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,a){return e&&(this.finderPenaltyAddHistory(t,a),t=0),t+=this.size,this.finderPenaltyAddHistory(t,a),this.finderPenaltyCountPatterns(a)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function a(e,t,a){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)a.push(e>>>n&1)}function n(e,t){return 0!=(e>>>t&1)}function s(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;const r=class e{constructor(e,t,a){if(this.mode=e,this.numChars=t,this.bitData=a,t<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}static makeBytes(t){let n=[];for(const e of t)a(e,8,n);return new e(e.Mode.BYTE,t.length,n)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let n=[];for(let e=0;e<t.length;){const s=Math.min(t.length-e,3);a(parseInt(t.substring(e,e+s),10),3*s+1,n),e+=s}return new e(e.Mode.NUMERIC,t.length,n)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let n,s=[];for(n=0;n+2<=t.length;n+=2){let r=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));r+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),a(r,11,s)}return n<t.length&&a(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,s),new e(e.Mode.ALPHANUMERIC,t.length,s)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)a(t,8,n);else if(t<16384)a(2,2,n),a(t,14,n);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");a(6,3,n),a(t,21,n)}return new e(e.Mode.ECI,0,n)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let a=0;for(const n of e){const e=n.mode.numCharCountBits(t);if(n.numChars>=1<<e)return 1/0;a+=4+e+n.bitData.length}return a}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let a=0;a<e.length;a++)"%"!=e.charAt(a)?t.push(e.charCodeAt(a)):(t.push(parseInt(e.substring(a+1,a+3),16)),a+=2);return t}};r.NUMERIC_REGEX=/^[0-9]*$/,r.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,r.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=r;e.QrSegment=r})(Qg||(Qg={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2);e.Ecc=t})(t=e.QrCode||(e.QrCode={}))})(Qg||(Qg={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t})(t=e.QrSegment||(e.QrSegment={}))})(Qg||(Qg={}));var nv=Qg,sv={L:nv.QrCode.Ecc.LOW,M:nv.QrCode.Ecc.MEDIUM,Q:nv.QrCode.Ecc.QUARTILE,H:nv.QrCode.Ecc.HIGH},rv=128,ov="L",lv="#FFFFFF",iv="#000000",cv=!1,dv=1;function uv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=[];return e.forEach(function(e,n){let s=null;e.forEach(function(r,o){if(!r&&null!==s)return a.push("M".concat(s+t," ").concat(n+t,"h").concat(o-s,"v1H").concat(s+t,"z")),void(s=null);if(o!==e.length-1)r&&null===s&&(s=o);else{if(!r)return;null===s?a.push("M".concat(o+t,",").concat(n+t," h1v1H").concat(o+t,"z")):a.push("M".concat(s+t,",").concat(n+t," h").concat(o+1-s,"v1H").concat(s+t,"z"))}})}),a.join("")}function mv(e,t){return e.slice().map((e,a)=>a<t.y||a>=t.y+t.h?e:e.map((e,a)=>(a<t.x||a>=t.x+t.w)&&e))}function pv(e){let{value:t,level:a,minVersion:n,includeMargin:r,marginSize:o,imageSettings:l,size:i,boostLevel:c}=e,d=s.useMemo(()=>{const e=(Array.isArray(t)?t:[t]).reduce((e,t)=>(e.push(...nv.QrSegment.makeSegments(t)),e),[]);return nv.QrCode.encodeSegments(e,sv[a],n,void 0,void 0,c)},[t,a,n,c]);const{cells:u,margin:m,numCells:p,calculatedImageSettings:h}=s.useMemo(()=>{let e=d.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(r,o),a=e.length+2*t,n=function(e,t,a,n){if(null==n)return null;const s=e.length+2*a,r=Math.floor(.1*t),o=s/t,l=(n.width||r)*o,i=(n.height||r)*o,c=null==n.x?e.length/2-l/2:n.x*o,d=null==n.y?e.length/2-i/2:n.y*o,u=null==n.opacity?1:n.opacity;let m=null;if(n.excavate){let e=Math.floor(c),t=Math.floor(d);m={x:e,y:t,w:Math.ceil(l+c-e),h:Math.ceil(i+d-t)}}return{x:c,y:d,h:i,w:l,excavation:m,opacity:u,crossOrigin:n.crossOrigin}}(e,i,t,l);return{cells:e,margin:t,numCells:a,calculatedImageSettings:n}},[d,i,l,r,o]);return{qrcode:d,margin:m,cells:u,numCells:p,calculatedImageSettings:h}}var hv=function(){try{(new Path2D).addPath(new Path2D)}catch(Dv){return!1}return!0}(),fv=s.forwardRef(function(e,t){const a=e,{value:n,size:r=rv,level:o=ov,bgColor:l=lv,fgColor:i=iv,includeMargin:c=cv,minVersion:d=dv,boostLevel:u,marginSize:m,imageSettings:p}=a,h=av(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=h,x=av(h,["style"]),g=null==p?void 0:p.src,v=s.useRef(null),b=s.useRef(null),y=s.useCallback(e=>{v.current=e,"function"===typeof t?t(e):t&&(t.current=e)},[t]),[j,w]=s.useState(!1),{margin:N,cells:k,numCells:_,calculatedImageSettings:S}=pv({value:n,level:o,minVersion:d,boostLevel:u,includeMargin:c,marginSize:m,imageSettings:p,size:r});s.useEffect(()=>{if(null!=v.current){const e=v.current,t=e.getContext("2d");if(!t)return;let a=k;const n=b.current,s=null!=S&&null!==n&&n.complete&&0!==n.naturalHeight&&0!==n.naturalWidth;s&&null!=S.excavation&&(a=mv(k,S.excavation));const o=window.devicePixelRatio||1;e.height=e.width=r*o;const c=r/_*o;t.scale(c,c),t.fillStyle=l,t.fillRect(0,0,_,_),t.fillStyle=i,hv?t.fill(new Path2D(uv(a,N))):k.forEach(function(e,a){e.forEach(function(e,n){e&&t.fillRect(n+N,a+N,1,1)})}),S&&(t.globalAlpha=S.opacity),s&&t.drawImage(n,S.x+N,S.y+N,S.w,S.h)}}),s.useEffect(()=>{w(!1)},[g]);const C=tv({height:r,width:r},f);let E=null;return null!=g&&(E=s.createElement("img",{src:g,key:g,style:{display:"none"},onLoad:()=>{w(!0)},ref:b,crossOrigin:null==S?void 0:S.crossOrigin})),s.createElement(s.Fragment,null,s.createElement("canvas",tv({style:C,height:r,width:r,ref:y,role:"img"},x)),E)});fv.displayName="QRCodeCanvas";var xv=s.forwardRef(function(e,t){const a=e,{value:n,size:r=rv,level:o=ov,bgColor:l=lv,fgColor:i=iv,includeMargin:c=cv,minVersion:d=dv,boostLevel:u,title:m,marginSize:p,imageSettings:h}=a,f=av(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:x,cells:g,numCells:v,calculatedImageSettings:b}=pv({value:n,level:o,minVersion:d,boostLevel:u,includeMargin:c,marginSize:p,imageSettings:h,size:r});let y=g,j=null;null!=h&&null!=b&&(null!=b.excavation&&(y=mv(g,b.excavation)),j=s.createElement("image",{href:h.src,height:b.h,width:b.w,x:b.x+x,y:b.y+x,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const w=uv(y,x);return s.createElement("svg",tv({height:r,width:r,viewBox:"0 0 ".concat(v," ").concat(v),ref:t,role:"img"},f),!!m&&s.createElement("title",null,m),s.createElement("path",{fill:l,d:"M0,0 h".concat(v,"v").concat(v,"H0z"),shapeRendering:"crispEdges"}),s.createElement("path",{fill:i,d:w,shapeRendering:"crispEdges"}),j)});xv.displayName="QRCodeSVG";const gv="http://151.243.218.223",vv=()=>{var e,t,a,n,r,o,l;const[i,c]=(0,s.useState)(null),[d,u]=(0,s.useState)({}),[m,p]=(0,s.useState)(!0),[h,f]=(0,s.useState)(null),[x,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>{k(),_()},[]);const k=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat(gv,"/api/subscription/status"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();c(e)}}catch(e){console.error("Error fetching subscription:",e)}},_=async()=>{try{const e=await fetch("".concat(gv,"/api/subscription/plans"));if(e.ok){const t=await e.json();u(t.plans)}}catch(e){console.error("Error fetching plans:",e)}finally{p(!1)}},S=e=>({basico:"from-blue-500 to-blue-600",plus:"from-purple-500 to-purple-600",pro:"from-orange-500 to-orange-600",premium:"from-pink-500 to-pink-600",enterprise:"from-green-500 to-green-600"}[e]||"from-gray-500 to-gray-600");if(m)return(0,Qt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const C=(null===i||void 0===i||null===(e=i.subscription)||void 0===e?void 0:e.plan_type)||"basico",E=(null===i||void 0===i?void 0:i.bonus_balance)||0,A=(null===i||void 0===i?void 0:i.days_left)||0,T=(null===i||void 0===i||null===(t=i.subscription)||void 0===t?void 0:t.status)||"trial";return(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsx)(Un,{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:(0,Qt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Minha Assinatura"}),(0,Qt.jsxs)("p",{className:"text-blue-100",children:["Plano Atual: ",(0,Qt.jsx)("span",{className:"font-bold",children:(null===(a=d[C])||void 0===a?void 0:a.name)||"B\xe1sico"})]}),(0,Qt.jsxs)("p",{className:"text-blue-100",children:["Status: ",(0,Qt.jsx)("span",{className:"font-bold capitalize",children:"trial"===T?"Trial Gr\xe1tis":"active"===T?"Ativo":"Expirado"})]})]}),(0,Qt.jsxs)("div",{className:"text-right",children:[(0,Qt.jsx)("p",{className:"text-sm text-blue-100",children:"Dias Restantes"}),(0,Qt.jsx)("p",{className:"text-4xl font-bold",children:A})]})]})}),E>0&&(0,Qt.jsx)(Un,{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-500 flex items-center justify-center",children:(0,Qt.jsx)($g,{className:"w-6 h-6 text-white"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"B\xd4NUS DISPON\xcdVEL"}),(0,Qt.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["R$ ",E.toFixed(2)]}),(0,Qt.jsx)("p",{className:"text-xs text-green-600",children:"Ser\xe1 usado automaticamente como desconto"})]})]})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Escolha seu Plano"}),(0,Qt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(d).map(e=>{let[t,a]=e;const n=(e=>({basico:Hg,plus:Ho,pro:Gg,premium:$g,enterprise:Kg}[e]||Hg))(t),s=C===t,r=h===t;return(0,Qt.jsxs)(Un,{className:"relative overflow-hidden cursor-pointer transition-all ".concat(r?"ring-4 ring-blue-500 shadow-lg scale-105":"hover:shadow-md"," ").concat(s?"border-2 border-green-500":""),onClick:()=>(e=>{f(e)})(t),children:[s&&(0,Qt.jsx)("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Plano Atual"}),(0,Qt.jsx)("div",{className:"h-2 bg-gradient-to-r ".concat(S(t))}),(0,Qt.jsxs)("div",{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qt.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r ".concat(S(t)," flex items-center justify-center"),children:(0,Qt.jsx)(n,{className:"w-6 h-6 text-white"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-bold text-lg",children:a.name}),(0,Qt.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",a.price.toFixed(2),(0,Qt.jsx)("span",{className:"text-sm text-gray-500",children:"/m\xeas"})]})]})]}),(0,Qt.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Qt.jsx)(xf,{className:"w-4 h-4 text-green-500"}),(0,Qt.jsxs)("span",{children:[-1===a.whatsapp_limit?"\u221e Ilimitado":"".concat(a.whatsapp_limit," n\xfamero").concat(a.whatsapp_limit>1?"s":"")," WhatsApp"]})]}),a.features.map((e,t)=>(0,Qt.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Qt.jsx)(xf,{className:"w-4 h-4 text-green-500"}),(0,Qt.jsx)("span",{children:e})]},t))]}),E>0&&(0,Qt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-2 mb-3",children:(0,Qt.jsxs)("p",{className:"text-xs text-green-700",children:["Com b\xf4nus: ",(0,Qt.jsxs)("span",{className:"font-bold",children:["R$ ",Math.max(.01,a.price-E).toFixed(2)]})]})}),(0,Qt.jsx)(zn,{className:"w-full ".concat(r?"bg-blue-600":"bg-gray-200 text-gray-700"),disabled:s,children:s?"Plano Atual":r?"Selecionado":"Selecionar"})]})]},t)})})]}),h&&(0,Qt.jsx)(Un,{className:"p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("h3",{className:"text-lg font-bold text-green-900 mb-1",children:["Plano ",null===(n=d[h])||void 0===n?void 0:n.name," Selecionado"]}),(0,Qt.jsxs)("p",{className:"text-sm text-green-700",children:["Valor: R$ ",null===(r=d[h])||void 0===r?void 0:r.price.toFixed(2),E>0&&(0,Qt.jsxs)("span",{children:[" - B\xf4nus: R$ ",E.toFixed(2)," = ",(0,Qt.jsxs)("span",{className:"font-bold",children:["R$ ",Math.max(.01,(null===(o=d[h])||void 0===o?void 0:o.price)-E).toFixed(2)]})]})]})]}),(0,Qt.jsx)(zn,{onClick:async()=>{if(h){N(!0);try{const t=localStorage.getItem("token"),a=localStorage.getItem("user_data"),n=a?JSON.parse(a):{};console.log("\ud83d\udd0d [PAYMENT] Dados do usu\xe1rio:",n),console.log("\ud83d\udd0d [PAYMENT] Plano selecionado:",h);const s=n.reseller_id||n.id;if(console.log("\ud83d\udd0d [PAYMENT] Reseller ID encontrado:",s),!s)return console.error("\u274c [PAYMENT] Reseller ID n\xe3o encontrado no localStorage!"),console.error("\u274c [PAYMENT] Dados dispon\xedveis:",Object.keys(n)),console.error("\u274c [PAYMENT] Conte\xfado completo:",n),alert("Erro: ID da revenda n\xe3o encontrado. Fa\xe7a logout e login novamente."),void N(!1);const r={plan_type:h,reseller_id:s,customer_name:n.name||"Cliente",customer_email:n.email||"cliente@email.com"};console.log("\ud83d\udce4 [PAYMENT] Enviando requisi\xe7\xe3o:",r);const o=await fetch("".concat(gv,"/api/payment/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)});if(console.log("\ud83d\udce5 [PAYMENT] Status da resposta:",o.status),o.ok){const e=await o.json();console.log("\u2705 [PAYMENT] Pagamento criado:",e),g(e),b(!0)}else{var e;const t=await o.json();console.error("\u274c [PAYMENT] Erro na resposta:",t),503===o.status&&null!==(e=t.detail)&&void 0!==e&&e.includes("Mercado Pago n\xe3o configurado")?alert("\u26a0\ufe0f Sistema de Pagamento n\xe3o configurado!\n\nO administrador ainda n\xe3o configurou o Mercado Pago.\n\nEntre em contato com o suporte para ativar os pagamentos."):alert("Erro ao criar pagamento: ".concat(t.detail||"Erro desconhecido"))}}catch(t){console.error("\u274c [PAYMENT] Erro cr\xedtico:",t),alert("Erro ao criar pagamento. Tente novamente.")}finally{N(!1)}}},disabled:w,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-6 text-lg",children:w?(0,Qt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Gerando PIX..."]}):(0,Qt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(lx,{className:"w-5 h-5"}),"Pagar com PIX"]})})]})}),(0,Qt.jsx)(nu,{open:v,onOpenChange:b,children:(0,Qt.jsxs)(lu,{className:"max-w-md",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{className:"text-center text-xl",children:"Pagamento PIX"})}),x&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Valor a pagar:"}),(0,Qt.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["R$ ",x.amount.toFixed(2)]}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Plano: ",null===(l=d[x.plan_type])||void 0===l?void 0:l.name]})]}),(0,Qt.jsx)("div",{className:"flex justify-center bg-white p-4 rounded-lg border-2 border-gray-200",children:(0,Qt.jsx)(xv,{value:x.qr_code,size:256})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm font-medium mb-2",children:"Ou copie o c\xf3digo PIX:"}),(0,Qt.jsxs)("div",{className:"bg-gray-100 p-3 rounded border border-gray-300 relative",children:[(0,Qt.jsx)("p",{className:"text-xs font-mono break-all pr-8",children:x.copy_paste_code}),(0,Qt.jsx)(zn,{size:"sm",onClick:()=>{return e=x.copy_paste_code,navigator.clipboard.writeText(e),j(!0),void setTimeout(()=>j(!1),2e3);var e},className:"absolute top-2 right-2",children:y?(0,Qt.jsx)(xf,{className:"w-4 h-4"}):(0,Qt.jsx)(el,{className:"w-4 h-4"})})]})]}),(0,Qt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,Qt.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Qt.jsx)("strong",{children:"Instru\xe7\xf5es:"}),(0,Qt.jsx)("br",{}),"1. Abra seu app de banco",(0,Qt.jsx)("br",{}),"2. Escolha pagar com PIX",(0,Qt.jsx)("br",{}),"3. Escaneie o QR Code ou cole o c\xf3digo",(0,Qt.jsx)("br",{}),"4. Confirme o pagamento",(0,Qt.jsx)("br",{}),(0,Qt.jsx)("br",{}),"A confirma\xe7\xe3o \xe9 autom\xe1tica em at\xe9 5 minutos!"]})}),(0,Qt.jsx)(zn,{onClick:()=>{b(!1),k()},className:"w-full",variant:"outline",children:"Fechar"})]})]})})]})},bv=e=>{var t,a;let{onNavigateToPayments:n}=e;const[r,o]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{u();const e=setInterval(()=>{u()},432e5);return()=>clearInterval(e)},[]);const u=async()=>{try{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if("reseller"!==(t?JSON.parse(t):{}).user_type)return;const a=await fetch("".concat("http://151.243.218.223","/api/subscription/status"),{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){const e=await a.json();if(i(e),e.show_expiration_warning){const e=(new Date).toDateString();localStorage.getItem("last_expiration_warning")!==e&&(o(!0),localStorage.setItem("last_expiration_warning",e))}}}catch(e){console.error("Error checking subscription:",e)}};if(!l||!r)return null;const m=l.days_left||0,p=m<=0,h=(null===(t=l.subscription)||void 0===t||t.status,(null===(a=l.subscription)||void 0===a?void 0:a.plan_type)||"b\xe1sico");return(0,Qt.jsx)(nu,{open:r,onOpenChange:o,children:(0,Qt.jsxs)(lu,{className:"max-w-md",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"flex items-center gap-3 text-xl",children:[(0,Qt.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(p?"bg-red-500":"bg-yellow-500"," flex items-center justify-center"),children:p?(0,Qt.jsx)(Xd,{className:"w-6 h-6 text-white"}):(0,Qt.jsx)(tx,{className:"w-6 h-6 text-white"})}),p?"Assinatura Expirada!":"Sua Assinatura Est\xe1 Vencendo!"]})}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsx)("div",{className:"p-6 rounded-lg ".concat(p?"bg-red-50 border-2 border-red-200":"bg-yellow-50 border-2 border-yellow-200"),children:(0,Qt.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,Qt.jsx)(Xo,{className:"w-12 h-12 ".concat(p?"text-red-600":"text-yellow-600")}),(0,Qt.jsx)("div",{className:"text-center",children:p?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Assinatura Expirada"}),(0,Qt.jsx)("p",{className:"text-4xl font-bold text-red-900",children:"0"}),(0,Qt.jsx)("p",{className:"text-xs text-red-600",children:"dias restantes"})]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)("p",{className:"text-sm text-yellow-700 font-medium",children:"Dias Restantes"}),(0,Qt.jsx)("p",{className:"text-5xl font-bold text-yellow-900",children:m}),(0,Qt.jsx)("p",{className:"text-xs text-yellow-600",children:1===m?"dia":"dias"})]})})]})}),(0,Qt.jsx)("div",{className:"space-y-2",children:p?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("p",{className:"text-center text-gray-700 font-medium",children:["Sua assinatura do plano ",(0,Qt.jsx)("span",{className:"font-bold uppercase",children:h})," expirou!"]}),(0,Qt.jsx)("p",{className:"text-center text-sm text-gray-600",children:"Para continuar usando a plataforma, renove sua assinatura agora."})]}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("p",{className:"text-center text-gray-700 font-medium",children:["Sua assinatura do plano ",(0,Qt.jsx)("span",{className:"font-bold uppercase",children:h})," vence em ",m," ",1===m?"dia":"dias","!"]}),(0,Qt.jsx)("p",{className:"text-center text-sm text-gray-600",children:"Renove agora para n\xe3o perder acesso aos recursos da plataforma."})]})}),l.bonus_balance>0&&(0,Qt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:(0,Qt.jsx)("span",{className:"text-white font-bold",children:"%"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Voc\xea tem b\xf4nus dispon\xedvel!"}),(0,Qt.jsxs)("p",{className:"text-xs text-green-700",children:["R$ ",l.bonus_balance.toFixed(2)," de desconto"]})]})]})}),(0,Qt.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,Qt.jsx)(zn,{onClick:()=>{o(!1)},variant:"outline",className:"flex-1",children:"Lembrar Depois"}),(0,Qt.jsxs)(zn,{onClick:()=>{o(!1),n&&n()},className:"flex-1 ".concat(p?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"," text-white"),children:[(0,Qt.jsx)(Ko,{className:"w-4 h-4 mr-2"}),"Renovar Agora"]})]}),(0,Qt.jsx)("p",{className:"text-xs text-center text-gray-500",children:"Este aviso aparece 2x ao dia quando faltam 5 dias ou menos para o vencimento."})]})]})})},yv=na("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),jv=e=>{let{resellerData:t,onUpdate:a}=e;const[n,r]=(0,s.useState)(!1),[o,l]=(0,s.useState)((null===t||void 0===t?void 0:t.custom_domain)||""),[i,c]=(0,s.useState)(!1),d="34.57.15.54",u=(null===t||void 0===t?void 0:t.domain)||"revenda.suporte.help",m=(null===t||void 0===t?void 0:t.custom_domain)||u,p=e=>{navigator.clipboard.writeText(e),Bt.success("Copiado!")};return(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Qt.jsx)(qo,{className:"w-6 h-6 text-blue-600"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Configura\xe7\xe3o de Dom\xednio"})]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Qt.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Dom\xednio Atual:"}),(0,Qt.jsx)(yv,{className:"w-5 h-5 text-blue-600"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("code",{className:"text-lg font-mono text-blue-700 bg-white px-3 py-2 rounded flex-1",children:m}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>p(m),children:(0,Qt.jsx)(el,{className:"w-4 h-4"})})]})]}),n?(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Dom\xednio Customizado:"}),(0,Qt.jsx)(On,{value:o,onChange:e=>l(e.target.value),placeholder:"Ex: ajuda.vip ou suporte.empresa.com"}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Deixe vazio para usar o dom\xednio padr\xe3o (",u,")"]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{onClick:async()=>{c(!0);try{await jo.put("/resellers/".concat(t.id),{custom_domain:o.trim()}),Bt.success("Dom\xednio atualizado com sucesso!"),r(!1),a&&a()}catch(e){Bt.error("Erro ao atualizar dom\xednio"),console.error(e)}finally{c(!1)}},disabled:i,children:i?"Salvando...":"Salvar"}),(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"})]})]}):(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>r(!0),children:null!==t&&void 0!==t&&t.custom_domain?"Alterar Dom\xednio":"Configurar Dom\xednio Customizado"})]}),(0,Qt.jsxs)(Un,{className:"p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"\ud83d\udce1 Configura\xe7\xe3o DNS"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Para usar um dom\xednio customizado, configure o DNS do seu dom\xednio com o seguinte registro:"}),(0,Qt.jsx)("div",{className:"bg-white border-2 border-purple-200 rounded-lg p-4",children:(0,Qt.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("span",{className:"font-semibold text-purple-700",children:"Tipo:"}),(0,Qt.jsx)("p",{className:"font-mono mt-1",children:"A"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("span",{className:"font-semibold text-purple-700",children:"Nome:"}),(0,Qt.jsx)("p",{className:"font-mono mt-1",children:"@"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("span",{className:"font-semibold text-purple-700",children:"IP:"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Qt.jsx)("code",{className:"font-mono font-bold text-purple-900",children:d}),(0,Qt.jsx)(zn,{size:"sm",variant:"ghost",onClick:()=>p(d),children:(0,Qt.jsx)(el,{className:"w-3 h-3"})})]})]})]})}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-3",children:"\u26a0\ufe0f A propaga\xe7\xe3o DNS pode levar at\xe9 48 horas"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udd17 Links do Sistema"}),(0,Qt.jsx)("div",{className:"space-y-3",children:[{path:"/",label:"Chat do Cliente",description:"Interface de atendimento para seus clientes"},{path:"/revenda/login",label:"Painel Revenda",description:"Seu painel de administra\xe7\xe3o"},{path:"/atendente/login",label:"Painel Atendente",description:"Login dos seus atendentes"},{path:"/vendas",label:"Funil de Vendas",description:"Bot de vendas automatizado"}].map(e=>{const t="https://".concat(m).concat(e.path);return(0,Qt.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("span",{className:"font-medium text-slate-900",children:e.label}),(0,Qt.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700",children:(0,Qt.jsx)(rl,{className:"w-4 h-4"})})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:e.description}),(0,Qt.jsx)("code",{className:"text-xs text-slate-600 mt-1 block",children:t})]}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>p(t),children:(0,Qt.jsx)(el,{className:"w-4 h-4"})})]},e.path)})})]})]})},wv="http://151.243.218.223";const Nv=function(){var e,t,a,n,r,o,l,i,c,d,u,p,h;const[f,x]=(0,s.useState)({empresa_nome:"CyberTV",usa_ia:!0,api_teste_url:"https://gesth.io/api/get-teste?hash=TG1OTW5QWHlaTW5Q",agent_id:null,custom_instructions:"",agent_profile:{name:"Assistente Virtual",photo:"",show_verified_badge:!0},ia_inline:{name:"Vendedor IA",personality:"Amig\xe1vel, profissional e focado em vendas",instructions:"",llm_provider:"openai",llm_model:"gpt-4o-mini",temperature:.7,max_tokens:500,api_key:""}}),[g,v]=(0,s.useState)([]),[b,y]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!0);(0,s.useEffect)(()=>{N(),k()},[]);const N=async()=>{try{w(!0);const e=await fetch("".concat(wv,"/api/admin/vendas-bot/simple-config"));if(e.ok){const t=await e.json();t.ia_inline||(t.ia_inline={name:"Vendedor IA",personality:"Amig\xe1vel, profissional e focado em vendas",instructions:t.custom_instructions||"",llm_provider:"openai",llm_model:"gpt-4o-mini",temperature:.7,max_tokens:500,api_key:""}),t.agent_profile||(t.agent_profile={name:"Assistente Virtual",photo:"",show_verified_badge:!0}),x(t)}}catch(e){console.error("Erro ao carregar config:",e)}finally{w(!1)}},k=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat(wv,"/api/ai/agents"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();v(Array.isArray(e)?e:[])}}catch(e){console.error("Erro ao carregar agentes:",e)}};return j?(0,Qt.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Qt.jsx)("p",{className:"text-gray-600",children:"Carregando..."})]})}):(0,Qt.jsxs)("div",{className:"space-y-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)(Wo,{className:"text-blue-600",size:24}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h2",{className:"text-2xl font-bold",children:"WA Site - Configura\xe7\xe3o"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-600",children:"Configure o chat de vendas do seu site"})]})]}),(0,Qt.jsxs)("button",{onClick:async()=>{try{y(!0);if(!(await fetch("".concat(wv,"/api/admin/vendas-bot/simple-config"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok)throw new Error("Erro ao salvar");alert("\u2705 Configura\xe7\xe3o salva com sucesso!"),await N()}catch(e){console.error("Erro ao salvar:",e),alert("\u274c Erro ao salvar configura\xe7\xe3o")}finally{y(!1)}},disabled:b,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Qt.jsx)(Qo,{size:18}),b?"Salvando...":"Salvar"]})]}),(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[(0,Qt.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,Qt.jsx)(Mo,{size:20,className:"text-blue-600"}),"Configura\xe7\xf5es B\xe1sicas"]}),(0,Qt.jsxs)("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50 space-y-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-blue-900 flex items-center gap-2",children:"\ud83d\udc64 Perfil do Agente Virtual"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Agente (vis\xedvel para o cliente)"}),(0,Qt.jsx)("input",{type:"text",value:(null===(e=f.agent_profile)||void 0===e?void 0:e.name)||"Assistente Virtual",onChange:e=>x(m(m({},f),{},{agent_profile:m(m({},f.agent_profile||{}),{},{name:e.target.value})})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Atendente Virtual, Assistente Maria, etc"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udcf8 Foto do Agente (URL)"}),(0,Qt.jsx)("input",{type:"url",value:(null===(t=f.agent_profile)||void 0===t?void 0:t.photo)||"",onChange:e=>x(m(m({},f),{},{agent_profile:m(m({},f.agent_profile||{}),{},{photo:e.target.value})})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"https://exemplo.com/foto-agente.jpg"}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udca1 Cole a URL de uma imagem. Recomendado: foto quadrada, tamanho m\xednimo 200x200px"}),(null===(a=f.agent_profile)||void 0===a?void 0:a.photo)&&(0,Qt.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,Qt.jsx)("img",{src:f.agent_profile.photo,alt:"Preview",className:"w-16 h-16 rounded-full object-cover border-2 border-blue-300",onError:e=>{e.target.style.display="none"}}),(0,Qt.jsx)("span",{className:"text-sm text-gray-600",children:"Preview da foto"})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",id:"verified-badge",checked:!1!==(null===(n=f.agent_profile)||void 0===n?void 0:n.show_verified_badge),onChange:e=>x(m(m({},f),{},{agent_profile:m(m({},f.agent_profile||{}),{},{show_verified_badge:e.target.checked})})),className:"w-4 h-4 rounded"}),(0,Qt.jsx)("label",{htmlFor:"verified-badge",className:"text-sm font-medium",children:"\u2713 Mostrar selo de verificado ao lado do nome"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Empresa"}),(0,Qt.jsx)("input",{type:"text",value:f.empresa_nome,onChange:e=>x(m(m({},f),{},{empresa_nome:e.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: CyberTV"}),(0,Qt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Nome que aparecer\xe1 no cabe\xe7alho do chat"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:f.usa_ia,onChange:e=>x(m(m({},f),{},{usa_ia:e.target.checked})),className:"rounded text-blue-600 h-5 w-5"}),(0,Qt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Usar IA para responder automaticamente"})]}),(0,Qt.jsx)("p",{className:"text-sm text-gray-500 mt-1 ml-7",children:"A IA ir\xe1 responder os clientes e enviar o bot\xe3o de teste quando apropriado"})]}),f.usa_ia&&(0,Qt.jsxs)("div",{className:"space-y-4 border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[(0,Qt.jsxs)("h4",{className:"font-semibold text-blue-900 flex items-center gap-2",children:[(0,Qt.jsx)(Zo,{size:20,className:"text-blue-600"}),"Configura\xe7\xe3o da IA"]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Agente IA"}),(0,Qt.jsx)("input",{type:"text",value:(null===(r=f.ia_inline)||void 0===r?void 0:r.name)||"Vendedor IA",onChange:e=>x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{name:e.target.value})})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Vendedor Virtual, Assistente CyberTV"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personalidade"}),(0,Qt.jsx)("input",{type:"text",value:(null===(o=f.ia_inline)||void 0===o?void 0:o.personality)||"",onChange:e=>x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{personality:e.target.value})})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Amig\xe1vel, profissional e focado em vendas"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udcdd Instru\xe7\xf5es para a IA (Curtas)"}),(0,Qt.jsx)("textarea",{value:(null===(l=f.ia_inline)||void 0===l?void 0:l.instructions)||f.custom_instructions||"",onChange:e=>x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{instructions:e.target.value}),custom_instructions:e.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",rows:"4",placeholder:"Instru\xe7\xf5es r\xe1pidas ou resumo... (se tiver instru\xe7\xf5es completas abaixo, este campo ser\xe1 ignorado)"})]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"\ud83c\udf10 URL das Instru\xe7\xf5es Completas (Recomendado para instru\xe7\xf5es grandes)"}),(0,Qt.jsx)("input",{type:"url",value:(null===(i=f.ia_inline)||void 0===i?void 0:i.instructions_url)||"",onChange:e=>x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{instructions_url:e.target.value})})),className:"w-full border border-blue-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"https://pastebin.com/raw/sua-instrucao ou Google Docs (p\xfablico)"}),(0,Qt.jsxs)("p",{className:"text-xs text-blue-700 mt-2",children:["\ud83d\udca1 ",(0,Qt.jsx)("strong",{children:"Como usar:"})," Coloque suas instru\xe7\xf5es em um site p\xfablico (Pastebin, Google Docs p\xfablico, etc) e cole a URL aqui.",(0,Qt.jsx)("br",{}),"\u2705 A IA vai buscar e usar essas instru\xe7\xf5es automaticamente.",(0,Qt.jsx)("br",{}),'\u26a0\ufe0f Se preencher URL, o campo "Instru\xe7\xf5es Curtas" acima ser\xe1 ignorado.']}),(0,Qt.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["\ud83d\udccc ",(0,Qt.jsx)("strong",{children:"Sites recomendados:"})," pastebin.com/raw, justpaste.it/raw, hastebin.com/raw"]})]}),(0,Qt.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"\ud83d\udcc4 Upload de Instru\xe7\xf5es Completas (.txt) \u2b50 Recomendado"}),(0,Qt.jsx)("input",{type:"file",accept:".txt",onChange:async e=>{const t=e.target.files[0];if(t)if(t.name.endsWith(".txt"))try{const e=new FormData;e.append("file",t);const a=await fetch("".concat("http://151.243.218.223","/api/admin/vendas-bot/upload-instructions"),{method:"POST",body:e});if(!a.ok)throw new Error("Erro no upload");const n=await a.json();alert("\u2705 Arquivo carregado com sucesso!\n\n".concat(n.filename,"\nTamanho: ").concat(n.size," caracteres")),x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{instructions_file:n.filename})})),N()}catch(a){console.error("Error uploading file:",a),alert("Erro ao fazer upload do arquivo. Tente novamente.")}else alert("Apenas arquivos .txt s\xe3o permitidos")},className:"w-full text-sm border border-purple-300 rounded-lg p-2 bg-white"}),(null===(c=f.ia_inline)||void 0===c?void 0:c.instructions_file)&&(0,Qt.jsxs)("div",{className:"mt-3 flex items-center gap-2 p-2 bg-green-50 border border-green-200 rounded",children:[(0,Qt.jsxs)("span",{className:"text-sm text-green-700 flex-1",children:["\u2705 Arquivo ativo: ",f.ia_inline.instructions_file]}),(0,Qt.jsx)("button",{onClick:async()=>{if(window.confirm('\u274c Remover arquivo de instru\xe7\xf5es?\n\nA IA voltar\xe1 a usar o campo "Instru\xe7\xf5es Curtas" ou URL.'))try{if(!(await fetch("".concat("http://151.243.218.223","/api/admin/vendas-bot/instructions-file"),{method:"DELETE"})).ok)throw new Error("Erro ao remover");alert("\u2705 Arquivo removido com sucesso!"),x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{instructions_file:null})})),N()}catch(e){alert("Erro ao remover arquivo")}},className:"text-red-600 hover:text-red-700 text-sm font-medium px-2 py-1 hover:bg-red-100 rounded",children:"\u274c Remover"})]}),(0,Qt.jsxs)("p",{className:"text-xs text-purple-700 mt-2",children:["\ud83d\udca1 ",(0,Qt.jsx)("strong",{children:"Como usar:"})," Crie um arquivo .txt com todas as suas instru\xe7\xf5es e fa\xe7a upload aqui.",(0,Qt.jsx)("br",{}),"\u2705 A IA vai usar o conte\xfado do arquivo automaticamente.",(0,Qt.jsx)("br",{}),"\u26a0\ufe0f ",(0,Qt.jsx)("strong",{children:"Prioridade:"})," Arquivo .txt > URL > Campo de Instru\xe7\xf5es Curtas"]}),(0,Qt.jsxs)("p",{className:"text-xs text-purple-600 mt-1",children:["\ud83d\udccc ",(0,Qt.jsx)("strong",{children:"Vantagem:"})," Sem limite de tamanho! Perfeito para instru\xe7\xf5es detalhadas."]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udd11 OpenAI API Key (Obrigat\xf3ria)"}),(0,Qt.jsx)("input",{type:"password",value:(null===(d=f.ia_inline)||void 0===d?void 0:d.api_key)||"",onChange:e=>x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{api_key:e.target.value})})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",placeholder:"sk-..."}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udd17 Obtenha sua chave em: ",(0,Qt.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",className:"text-blue-600 hover:underline",children:"platform.openai.com/api-keys"})]}),!(null!==(u=f.ia_inline)&&void 0!==u&&u.api_key)&&(0,Qt.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded",children:(0,Qt.jsxs)("p",{className:"text-xs text-red-700",children:["\u26a0\ufe0f ",(0,Qt.jsx)("strong",{children:"API Key obrigat\xf3ria!"})," Sem ela, a IA n\xe3o funcionar\xe1."]})})]}),(0,Qt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo LLM"}),(0,Qt.jsxs)("select",{value:(null===(p=f.ia_inline)||void 0===p?void 0:p.llm_model)||"gpt-4o-mini",onChange:e=>x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{llm_model:e.target.value})})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500",children:[(0,Qt.jsx)("option",{value:"gpt-4o",children:"GPT-4o (Melhor)"}),(0,Qt.jsx)("option",{value:"gpt-4o-mini",children:"GPT-4o-mini (R\xe1pido)"}),(0,Qt.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),(0,Qt.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Econ\xf4mico)"})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperatura (Criatividade)"}),(0,Qt.jsx)("input",{type:"number",min:"0",max:"1",step:"0.1",value:(null===(h=f.ia_inline)||void 0===h?void 0:h.temperature)||.7,onChange:e=>x(m(m({},f),{},{ia_inline:m(m({},f.ia_inline||{}),{},{temperature:parseFloat(e.target.value)})})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500"}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0 = Preciso, 1 = Criativo"})]})]}),(0,Qt.jsx)("div",{className:"bg-blue-100 border border-blue-300 rounded p-3",children:(0,Qt.jsxs)("p",{className:"text-sm text-blue-800",children:["\u2705 ",(0,Qt.jsx)("strong",{children:"Configura\xe7\xe3o inline:"}),' A IA ser\xe1 configurada direto aqui, sem precisar criar na aba "Agentes IA"']})})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API de Teste IPTV"}),(0,Qt.jsx)("input",{type:"text",value:f.api_teste_url,onChange:e=>x(m(m({},f),{},{api_teste_url:e.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"https://..."}),(0,Qt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"URL da API que gera os testes IPTV"})]})]}),(0,Qt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"\u2139\ufe0f Como Funciona"}),(0,Qt.jsxs)("ol",{className:"space-y-2 text-sm text-blue-800",children:[(0,Qt.jsxs)("li",{children:["1. Cliente acessa ",(0,Qt.jsx)("code",{className:"bg-blue-200 px-2 py-1 rounded",children:"/vendas"})," no seu site"]}),(0,Qt.jsxs)("li",{children:["2. Cliente digita ",(0,Qt.jsx)("strong",{children:'"12"'})," \u2192 Abre modal para WhatsApp + PIN"]}),(0,Qt.jsxs)("li",{children:["3. Sistema salva dados e mostra link do app ",(0,Qt.jsx)("strong",{children:"WA Vendas"})]}),(0,Qt.jsx)("li",{children:"4. IA responde e oferece teste gr\xe1tis quando apropriado"}),(0,Qt.jsxs)("li",{children:["5. Cliente clica no bot\xe3o ",(0,Qt.jsx)("strong",{children:'"CRIAR TESTE GR\xc1TIS"'})]}),(0,Qt.jsx)("li",{children:"6. Sistema gera teste via API e envia credenciais (3 horas)"})]})]}),(0,Qt.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"\ud83d\udcb0 Cr\xe9ditos da IA (Universal Key)"}),(0,Qt.jsx)("p",{className:"text-sm text-purple-800 mb-3",children:"Para ver seu saldo e adicionar cr\xe9ditos:"}),(0,Qt.jsxs)("ol",{className:"space-y-2 text-sm text-purple-800 ml-4",children:[(0,Qt.jsx)("li",{children:"1. Saia do Admin Dashboard"}),(0,Qt.jsxs)("li",{children:["2. Volte para a tela principal da ",(0,Qt.jsx)("strong",{children:"Plataforma Emergent"})]}),(0,Qt.jsxs)("li",{children:["3. No menu ou perfil, procure ",(0,Qt.jsx)("strong",{children:'"Universal Key"'})]}),(0,Qt.jsx)("li",{children:'4. L\xe1 voc\xea ver\xe1: Saldo atual + Bot\xe3o "Add Balance"'})]}),(0,Qt.jsx)("div",{className:"mt-3 p-3 bg-purple-100 rounded-lg",children:(0,Qt.jsxs)("p",{className:"text-sm text-purple-900",children:[(0,Qt.jsx)("strong",{children:"\ud83d\udca1 Dica:"}),' Ative o "Auto Top-Up" para nunca ficar sem cr\xe9dito!']})})]}),(0,Qt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udc41\ufe0f Preview do Link"}),(0,Qt.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4",children:[(0,Qt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Link para an\xfancios / redes sociais:"}),(0,Qt.jsxs)("code",{className:"bg-white px-4 py-2 rounded border border-gray-300 block text-center text-blue-600 font-semibold",children:[window.location.origin,"/vendas"]}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Cole este link nos seus an\xfancios do Facebook, Instagram, etc."})]})]})]})},kv=e=>{let{onSubmit:t}=e;const[a,n]=(0,s.useState)("text"),[r,o]=(0,s.useState)(""),[l,i]=(0,s.useState)(null);return(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)(kf,{value:a,onValueChange:n,children:[(0,Qt.jsx)(Sf,{children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsxs)(Af,{children:[(0,Qt.jsx)(Tf,{value:"text",children:"Texto"}),(0,Qt.jsx)(Tf,{value:"image",children:"Imagem"}),(0,Qt.jsx)(Tf,{value:"video",children:"V\xeddeo"}),(0,Qt.jsx)(Tf,{value:"audio",children:"\xc1udio"})]})]}),"text"===a&&(0,Qt.jsx)(ll,{placeholder:"Mensagem do aviso",value:r,onChange:e=>o(e.target.value),rows:3}),"text"!==a&&(0,Qt.jsx)(On,{type:"file",accept:"image"===a?"image/*":"video"===a?"video/*":"audio/*",onChange:e=>i(e.target.files[0])}),(0,Qt.jsxs)(zn,{"data-testid":"publish-notice-btn",onClick:()=>{t(a,r,l),o(""),i(null)},className:"bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(Bo,{className:"w-4 h-4 mr-2"}),"Publicar Aviso"]})]})},_v=()=>{var e,t,a,n,r,o,l,i,c;const d=ge(),[u,p]=(0,s.useState)([]),[h,f]=(0,s.useState)([]),[x,g]=(0,s.useState)([]),[v,b]=(0,s.useState)({hierarchy:[]}),[y,j]=(0,s.useState)({quick_blocks:[],auto_reply:[],apps:[],pix_key:"",manual_away_mode:!1,allowed_data:{cpfs:[],emails:[],phones:[],random_keys:[]},api_integration:{api_url:"",api_token:"",api_enabled:!1},ai_agent:{name:"Assistente IA",personality:"",instructions:"",llm_provider:"openai",llm_model:"gpt-4",temperature:.7,max_tokens:500,mode:"standby",active_hours:"24/7",enabled:!1,can_access_credentials:!0,knowledge_base:""}}),[w,N]=(0,s.useState)([]),[k,_]=(0,s.useState)(!0),[S,C]=(0,s.useState)(!1),[E,A]=(0,s.useState)(!1),T=(0,s.useRef)(null),R=(0,s.useRef)(null),[P,z]=(0,s.useState)("https://customer-assets.emergentagent.com/job_535f0fc0-1515-4938-9910-2bc0af524212/artifacts/qwn9iyvo_image.png"),[I,O]=(0,s.useState)(""),[D,M]=(0,s.useState)([]),[L,F]=(0,s.useState)({name:"",type:"SSIPTV",config_url:"",url_template:"",fields:[],instructions:""}),[B,q]=(0,s.useState)(null),[U,V]=(0,s.useState)({name:"",login:"",password:"",avatar:"",department_ids:[]}),[W,H]=(0,s.useState)(null),[G,$]=(0,s.useState)({name:"",email:"",password:"",domain:"",parent_id:null}),[K,Q]=(0,s.useState)(null),[Y,X]=(0,s.useState)(new Set),[J,Z]=(0,s.useState)("dashboard"),[ee,te]=(0,s.useState)(!1),[ae,ne]=(0,s.useState)({open:!1,reseller:null}),[se,re]=(0,s.useState)("list"),[oe,le]=(0,s.useState)({open:!1,data:null}),[ie,ce]=(0,s.useState)({}),[de,ue]=(0,s.useState)([]),[me,pe]=(0,s.useState)([]),[he,fe]=(0,s.useState)(!0),[xe,ve]=(0,s.useState)([]),[be,ye]=(0,s.useState)(null);(0,s.useEffect)(()=>{je(),"dashboard"===J&&we();const e=setInterval(()=>{"dashboard"===J&&we()},3e4);return()=>clearInterval(e)},[J]),(0,s.useEffect)(()=>{ee&&"payments"!==J&&(Z("payments"),Bt.error("\u26a0\ufe0f Sua assinatura expirou! Renove para acessar o painel.",{duration:5e3}))},[ee,J]);const je=async()=>{try{const[e,t,a,n,s,r,o,l]=await Promise.all([jo.get("/agents").catch(()=>({data:[]})),jo.get("/resellers").catch(()=>({data:[]})),jo.get("/resellers/hierarchy").catch(()=>({data:{hierarchy:[]}})),jo.get("/config").catch(()=>({data:{quick_blocks:[],auto_reply:[],apps:[],pix_key:"",allowed_data:{},api_integration:{},ai_agent:{}}})),jo.get("/notices").catch(()=>({data:[]})),jo.get("/ai/departments").catch(()=>({data:[]})),jo.get("/iptv-apps").catch(()=>({data:[]})),jo.get("/resellers/me").catch(()=>({data:null}))]);p(Array.isArray(e.data)?e.data:[]),g(Array.isArray(t.data)?t.data:[]),b(a.data||{hierarchy:[]}),j(n.data||{quick_blocks:[],auto_reply:[],apps:[],pix_key:"",allowed_data:{},api_integration:{},ai_agent:{}}),N(Array.isArray(s.data)?s.data:[]),f(Array.isArray(r.data)?r.data:[]),M(Array.isArray(o.data)?o.data:[]),l.data&&ye(l.data),l.data&&l.data.client_logo_url&&z(l.data.client_logo_url),l.data&&!1===l.data.subscription_active&&(te(!0),Z("payments"))}catch(e){console.error("Error loading data:",e),Bt.error("Erro ao carregar dados")}finally{_(!1)}},we=async()=>{fe(!0);try{const[e,t,a,n]=await Promise.all([jo.get("/reseller/dashboard/stats"),jo.get("/reseller/dashboard/agents-online"),jo.get("/reseller/dashboard/ai-agents-status"),jo.get("/reseller/dashboard/important-alerts")]);ce(e.data),ue(t.data),pe(a.data),ve(n.data.alerts||[])}catch(e){console.error("Error loading dashboard:",e)}finally{fe(!1)}},Ne=async()=>{if(K)try{const e={};K.name&&(e.name=K.name),K.email&&(e.email=K.email),K.password&&(e.password=K.password),void 0!==K.custom_domain&&(e.custom_domain=K.custom_domain),void 0!==K.is_active&&(e.is_active=K.is_active),await jo.put("/resellers/".concat(K.id),e),Bt.success("Revenda atualizada com sucesso!"),Q(null),je()}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao atualizar revenda")}},ke=async()=>{try{await jo.put("/config",y),Bt.success("Configura\xe7\xf5es salvas!")}catch(e){Bt.error("Erro ao salvar configura\xe7\xf5es")}},_e=async e=>{try{const t=(await jo.get("/resellers/me")).data.id;await jo.put("/resellers/".concat(t),{client_logo_url:e}),z(e),Bt.success("Foto de perfil atualizada com sucesso!")}catch(t){Bt.error("Erro ao atualizar foto de perfil"),console.error("Update error:",t)}};return k?(0,Qt.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,Qt.jsx)("p",{className:"mt-4 text-slate-600",children:"Carregando..."})]})}):(0,Qt.jsxs)("div",{className:"h-screen flex flex-col bg-slate-50",children:[(0,Qt.jsx)("header",{className:"bg-white border-b border-slate-200 flex-shrink-0 z-10",children:(0,Qt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 bg-purple-600 rounded-xl flex items-center justify-center",children:(0,Qt.jsx)(sa,{className:"w-6 h-6 text-white"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Admin Dashboard"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Gerenciamento completo"})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-50 rounded-lg border border-slate-200",children:[(0,Qt.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Status:"}),(0,Qt.jsx)("button",{onClick:async()=>{try{const e=!y.manual_away_mode;await jo.put("/config",{manual_away_mode:e}),j(t=>m(m({},t),{},{manual_away_mode:e})),Bt.success(e?'\u26a0\ufe0f Modo Ausente ativado - Clientes ver\xe3o status "Ausente"':"\u2705 Modo Online ativado - Clientes ver\xe3o status normal",{duration:3e3})}catch(e){console.error("Erro ao alternar modo ausente:",e),Bt.error("Erro ao alterar status")}},className:"\n                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors\n                  ".concat(y.manual_away_mode?"bg-orange-500":"bg-green-500","\n                "),title:y.manual_away_mode?"Clique para ativar modo Online":"Clique para ativar modo Ausente",children:(0,Qt.jsx)("span",{className:"\n                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform\n                    ".concat(y.manual_away_mode?"translate-x-6":"translate-x-1","\n                  ")})}),(0,Qt.jsx)("span",{className:"text-sm font-semibold ".concat(y.manual_away_mode?"text-orange-600":"text-green-600"),children:y.manual_away_mode?"\u26a0\ufe0f Ausente":"\u2705 Online"})]}),(0,Qt.jsxs)(zn,{"data-testid":"logout-btn",onClick:()=>{_o(),d("/")},variant:"outline",size:"sm",children:[(0,Qt.jsx)(Fo,{className:"w-4 h-4 mr-2"}),"Sair"]})]})]})}),(0,Qt.jsx)(bv,{onNavigateToPayments:()=>Z("payments")}),(0,Qt.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,Qt.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,Qt.jsxs)(Ci,{value:J,onValueChange:e=>{ee&&"payments"!==e?Bt.error("\u26a0\ufe0f Renove sua assinatura para acessar outras \xe1reas do painel!",{duration:3e3}):Z(e)},className:"space-y-6",children:[(0,Qt.jsxs)(Ei,{className:"grid grid-cols-5 md:grid-cols-11 gap-2 bg-transparent h-auto p-0",children:[(0,Qt.jsxs)(Ai,{value:"dashboard","data-testid":"tab-dashboard",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Bo,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),(0,Qt.jsxs)(Ai,{value:"resellers","data-testid":"tab-resellers",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Uo,{className:"w-4 h-4 mr-1"}),"Revendas"]}),(0,Qt.jsxs)(Ai,{value:"agents","data-testid":"tab-agents",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Uo,{className:"w-4 h-4 mr-1"}),"Atendentes"]}),(0,Qt.jsxs)(Ai,{value:"ai-agents","data-testid":"tab-ai-agents",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Zo,{className:"w-4 h-4 mr-1"}),"Agentes IA"]}),(0,Qt.jsxs)(Ai,{value:"departments","data-testid":"tab-departments",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Vo,{className:"w-4 h-4 mr-1"}),"Departamentos"]}),(0,Qt.jsxs)(Ai,{value:"quick","data-testid":"tab-quick",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Wo,{className:"w-4 h-4 mr-1"}),"Msg R\xe1pidas"]}),(0,Qt.jsxs)(Ai,{value:"security","data-testid":"tab-security",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(sa,{className:"w-4 h-4 mr-1"}),"Dados Permitidos"]}),(0,Qt.jsxs)(Ai,{value:"api","data-testid":"tab-api",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Mo,{className:"w-4 h-4 mr-1"}),"API"]}),(0,Qt.jsxs)(Ai,{value:"notices","data-testid":"tab-notices",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Bo,{className:"w-4 h-4 mr-1"}),"Avisos"]}),(0,Qt.jsxs)(Ai,{value:"auto-responder","data-testid":"tab-auto-responder",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Ho,{className:"w-4 h-4 mr-1"}),"Auto-Responder"]}),(0,Qt.jsxs)(Ai,{value:"domain","data-testid":"tab-domain",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white hover:bg-blue-50",children:[(0,Qt.jsx)(qo,{className:"w-4 h-4 mr-1"}),"Dom\xednio"]}),(0,Qt.jsxs)(Ai,{value:"tutorials","data-testid":"tab-tutorials",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Go,{className:"w-4 h-4 mr-1"}),"Tutoriais/Apps"]}),(0,Qt.jsxs)(Ai,{value:"iptv-apps","data-testid":"tab-iptv-apps",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)($o,{className:"w-4 h-4 mr-1"}),"Aplicativos"]}),(0,Qt.jsxs)(Ai,{value:"whatsapp","data-testid":"tab-whatsapp",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(To,{className:"w-4 h-4 mr-1"}),"WhatsApp"]}),(0,Qt.jsxs)(Ai,{value:"vendas-bot","data-testid":"tab-vendas-bot",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white hover:bg-blue-50",children:[(0,Qt.jsx)(Zo,{className:"w-4 h-4 mr-1"}),"WA Site"]}),(0,Qt.jsxs)(Ai,{value:"payments","data-testid":"tab-payments",className:"data-[state=active]:bg-teal-500 data-[state=active]:text-white hover:bg-teal-50",children:[(0,Qt.jsx)(Ko,{className:"w-4 h-4 mr-1"}),"Pagamentos"]})]}),(0,Qt.jsx)(Ti,{value:"dashboard",className:"space-y-6",children:he?(0,Qt.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Qt.jsxs)("div",{className:"text-center",children:[(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),(0,Qt.jsx)("p",{className:"text-slate-600",children:"Carregando dashboard..."})]})}):(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,Qt.jsx)(Wo,{className:"w-6 h-6 text-blue-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Em Entrada"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:ie.tickets_entrada||0})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Aguardando atendimento"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,Qt.jsx)(Uo,{className:"w-6 h-6 text-green-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Em Atendimento"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:ie.tickets_atendimento||0})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Conversas ativas"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-purple-50 rounded-lg",children:(0,Qt.jsx)(Yo,{className:"w-6 h-6 text-purple-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Finalizadas Hoje"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:ie.tickets_finalizadas_hoje||0})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Conversas conclu\xeddas"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Qt.jsx)("div",{className:"p-3 bg-orange-50 rounded-lg",children:(0,Qt.jsx)(Xo,{className:"w-6 h-6 text-orange-600"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Tempo M\xe9dio"}),(0,Qt.jsx)("h3",{className:"text-2xl font-bold",children:ie.tempo_medio_resposta||"N/A"})]})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"Resposta inicial"})]})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Uo,{className:"w-5 h-5 text-teal-600"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Atendentes Online"})]}),(0,Qt.jsxs)("span",{className:"text-sm bg-green-100 text-green-700 px-3 py-1 rounded-full",children:[de.online_count||0," online"]})]}),de.online_agents&&de.online_agents.length>0?(0,Qt.jsx)("div",{className:"space-y-3",children:de.online_agents.map(e=>(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()}),(0,Qt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-medium",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:e.email}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:["\ud83d\udcca ",e.active_tickets," conversas ativas"]})]})]}),(0,Qt.jsxs)(zn,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>Bt.info("Funcionalidade de monitoramento em breve!"),children:[(0,Qt.jsx)(Jo,{className:"w-4 h-4"}),"Monitorar"]})]},e.id))}):(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,Qt.jsx)(Uo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Qt.jsx)("p",{children:"Nenhum atendente online no momento"})]}),de.offline_agents&&de.offline_agents.length>0&&(0,Qt.jsxs)("details",{className:"mt-4",children:[(0,Qt.jsxs)("summary",{className:"cursor-pointer text-sm text-slate-600 hover:text-slate-900",children:["Ver ",de.offline_count," atendente(s) offline"]}),(0,Qt.jsx)("div",{className:"mt-3 space-y-2",children:de.offline_agents.map(e=>(0,Qt.jsxs)("div",{className:"flex items-center gap-3 p-2 text-sm",children:[(0,Qt.jsx)("div",{className:"w-8 h-8 bg-slate-300 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("p",{className:"text-slate-600",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-slate-400",children:e.email})]}),(0,Qt.jsx)("span",{className:"text-xs text-slate-400",children:"Offline"})]},e.id))})]})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)(Zo,{className:"w-5 h-5 text-teal-600"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Agentes de IA"})]}),(0,Qt.jsxs)("span",{className:"text-sm bg-purple-100 text-purple-700 px-3 py-1 rounded-full",children:[me.active_count||0," ativos"]})]}),me.agents&&me.agents.length>0?(0,Qt.jsx)("div",{className:"space-y-3",children:me.agents.map((e,t)=>(0,Qt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 ".concat("active"===e.status?"bg-teal-600":"bg-slate-400"," rounded-full flex items-center justify-center text-white"),children:(0,Qt.jsx)(Zo,{className:"w-6 h-6"})}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-medium",children:e.name}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-500",children:["Modelo: ",e.model]}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:["\ud83d\udcac ",e.interactions_today," intera\xe7\xf5es hoje"]})]})]}),(0,Qt.jsx)("div",{className:"px-3 py-1 rounded-full text-xs ".concat("active"===e.status?"bg-green-100 text-green-700":"disabled"===e.status?"bg-yellow-100 text-yellow-700":"bg-slate-100 text-slate-700"),children:"active"===e.status?"Ativo":"disabled"===e.status?"Desabilitado":"N\xe3o Configurado"})]},t))}):(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,Qt.jsx)(Zo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Qt.jsx)("p",{children:"Nenhum agente de IA configurado"})]})]}),(0,Qt.jsxs)(Un,{className:"p-6 border-2 border-orange-200 bg-orange-50/30",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Qt.jsx)(Bo,{className:"w-5 h-5 text-orange-600 animate-pulse"}),(0,Qt.jsx)("h3",{className:"text-lg font-semibold text-orange-900",children:"\u26a0\ufe0f Avisos Importantes"})]}),xe&&xe.length>0?(0,Qt.jsx)("div",{className:"space-y-3",children:xe.map((e,t)=>(0,Qt.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat("warning"===e.severity?"bg-yellow-50 border-yellow-300":"error"===e.severity?"bg-red-50 border-red-300":"bg-blue-50 border-blue-300"),children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("span",{className:"text-2xl",children:e.icon}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-semibold text-slate-900",children:e.title}),(0,Qt.jsx)("p",{className:"text-sm text-slate-700 mt-1",children:e.message}),"whatsapp"===e.type&&(0,Qt.jsx)(zn,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>Z("whatsapp"),children:"Verificar WhatsApp"}),"ai"===e.type&&(0,Qt.jsx)(zn,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>Z("ai-agents"),children:"Configurar IA"})]})]})},t))}):(0,Qt.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,Qt.jsx)(Yo,{className:"w-12 h-12 mx-auto mb-2 opacity-50 text-green-500"}),(0,Qt.jsx)("p",{className:"text-green-700 font-medium",children:"\u2705 Tudo funcionando perfeitamente!"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Nenhum aviso importante no momento"})]})]})]})}),(0,Qt.jsxs)(Ti,{value:"resellers",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Nova Revenda"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Crie sub-revendas com isolamento completo de dados"}),(0,Qt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Qt.jsx)(On,{placeholder:"Nome da Revenda",value:G.name,onChange:e=>$(m(m({},G),{},{name:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Email",type:"email",value:G.email,onChange:e=>$(m(m({},G),{},{email:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Senha",type:"password",value:G.password,onChange:e=>$(m(m({},G),{},{password:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Dom\xednio customizado (opcional)",value:G.domain,onChange:e=>$(m(m({},G),{},{domain:e.target.value}))})]}),(0,Qt.jsxs)(zn,{onClick:async()=>{try{const{data:e}=await jo.post("/resellers",G);e.ok&&(Bt.success("Revenda criada com sucesso!"),le({open:!0,data:{name:e.name,email:e.email,password:e.password,test_domain:e.test_domain,urls:e.urls}}),$({name:"",email:"",password:"",domain:"",parent_id:null}),je())}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao criar revenda")}},className:"bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Criar Revenda"]})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Revendas Existentes"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Sistema multi-tenant ativo com isolamento de dados"}),(0,Qt.jsx)("div",{className:"grid gap-4",children:(x||[]).map(e=>(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h4",{className:"font-semibold",children:e.name}),(0,Qt.jsxs)("p",{className:"text-sm text-slate-600",children:["Email: ",e.email]}),e.custom_domain&&(0,Qt.jsxs)("p",{className:"text-sm text-emerald-600",children:["Dom\xednio: ",e.custom_domain]}),(0,Qt.jsxs)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded inline-block mt-2",children:["N\xedvel ",e.level||0]}),void 0!==e.is_active&&(0,Qt.jsx)("span",{className:"text-xs px-2 py-1 rounded inline-block ml-2 mt-2 ".concat(e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_active?"Ativo":"Inativo"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(nu,{children:[(0,Qt.jsx)(su,{asChild:!0,children:(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>Q(m(m({},e),{},{password:""})),children:(0,Qt.jsx)(al,{className:"w-4 h-4"})})}),(0,Qt.jsxs)(lu,{children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\u270f\ufe0f Editar Revenda"})}),K&&K.id===e.id&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Nome:"}),(0,Qt.jsx)(On,{value:K.name,onChange:e=>Q(m(m({},K),{},{name:e.target.value})),placeholder:"Nome da revenda"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Email:"}),(0,Qt.jsx)(On,{type:"email",value:K.email,onChange:e=>Q(m(m({},K),{},{email:e.target.value})),placeholder:"Email de acesso"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Nova Senha (deixe vazio para manter):"}),(0,Qt.jsx)(On,{type:"password",value:K.password||"",onChange:e=>Q(m(m({},K),{},{password:e.target.value})),placeholder:"Nova senha (opcional)"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium block mb-1",children:"Dom\xednio Customizado:"}),(0,Qt.jsx)(On,{value:K.custom_domain||"",onChange:e=>Q(m(m({},K),{},{custom_domain:e.target.value})),placeholder:"exemplo.com"})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:!1!==K.is_active,onChange:e=>Q(m(m({},K),{},{is_active:e.target.checked})),className:"w-4 h-4"}),(0,Qt.jsx)("label",{className:"text-sm font-medium",children:"Ativo"})]}),(0,Qt.jsxs)(zn,{onClick:Ne,className:"w-full",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4 mr-2"}),"Salvar Altera\xe7\xf5es"]})]})]})]}),(0,Qt.jsx)(zn,{variant:"destructive",size:"sm",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir esta revenda?"))try{await jo.delete("/resellers/".concat(e)),Bt.success("Revenda exclu\xedda!"),je()}catch(n){var t,a;Bt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erro ao excluir revenda")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})]})},e.id))})]})]}),(0,Qt.jsxs)(Ti,{value:"agents",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Novo Atendente"}),(0,Qt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Qt.jsx)(On,{"data-testid":"agent-name-input",placeholder:"Nome",value:U.name,onChange:e=>V(m(m({},U),{},{name:e.target.value}))}),(0,Qt.jsx)(On,{"data-testid":"agent-login-input-field",placeholder:"Login",value:U.login,onChange:e=>V(m(m({},U),{},{login:e.target.value}))}),(0,Qt.jsx)(On,{"data-testid":"agent-password-input-field",type:"password",placeholder:"Senha",value:U.password,onChange:e=>V(m(m({},U),{},{password:e.target.value}))}),(0,Qt.jsx)(On,{"data-testid":"agent-avatar-input",placeholder:"Avatar URL (opcional)",value:U.avatar,onChange:e=>V(m(m({},U),{},{avatar:e.target.value}))})]}),(0,Qt.jsxs)("div",{className:"mt-4 p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:[(0,Qt.jsx)("label",{className:"text-sm font-semibold text-indigo-900 mb-2 block",children:"\ud83d\udcc2 Departamentos (Atendente ver\xe1 apenas tickets destes departamentos)"}),(0,Qt.jsx)("p",{className:"text-xs text-indigo-700 mb-3",children:"Selecione quais departamentos este atendente pode acessar. Se n\xe3o selecionar nenhum, ter\xe1 acesso a todos."}),h.length>0?(0,Qt.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,Qt.jsxs)("label",{className:"flex items-center gap-2 p-2 bg-white rounded border hover:bg-indigo-50 cursor-pointer",children:[(0,Qt.jsx)("input",{type:"checkbox",checked:U.department_ids.includes(e.id),onChange:t=>{t.target.checked?V(m(m({},U),{},{department_ids:[...U.department_ids,e.id]})):V(m(m({},U),{},{department_ids:U.department_ids.filter(t=>t!==e.id)}))},className:"w-4 h-4"}),(0,Qt.jsx)("span",{className:"text-sm font-medium",children:e.name}),e.description&&(0,Qt.jsxs)("span",{className:"text-xs text-slate-500",children:["- ",e.description]})]},e.id))}):(0,Qt.jsx)("p",{className:"text-xs text-slate-500 italic",children:'Configure departamentos na aba "Departamentos" primeiro'})]}),(0,Qt.jsxs)(zn,{"data-testid":"create-agent-btn",onClick:async()=>{try{await jo.post("/agents",U),Bt.success("Atendente criado com sucesso!"),V({name:"",login:"",password:"",avatar:"",department_ids:[]}),je()}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao criar atendente")}},className:"mt-4 bg-purple-600 hover:bg-purple-700",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Adicionar Atendente"]})]}),(0,Qt.jsx)("div",{className:"grid gap-4",children:u.map(e=>(0,Qt.jsx)(Un,{className:"p-6",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[e.avatar&&(0,Qt.jsx)("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold text-slate-900",children:e.name}),(0,Qt.jsxs)("p",{className:"text-sm text-slate-600",children:["@",e.login]})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(nu,{children:[(0,Qt.jsx)(su,{asChild:!0,children:(0,Qt.jsx)(zn,{"data-testid":"edit-agent-".concat(e.id,"-btn"),variant:"outline",size:"sm",onClick:()=>H(e),children:(0,Qt.jsx)(al,{className:"w-4 h-4"})})}),(0,Qt.jsxs)(lu,{children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"Editar Atendente"})}),W&&W.id===e.id&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsx)(On,{placeholder:"Nome",defaultValue:e.name,onChange:e=>H(m(m({},W),{},{name:e.target.value}))}),(0,Qt.jsx)(On,{placeholder:"Login",defaultValue:e.login,onChange:e=>H(m(m({},W),{},{login:e.target.value}))}),(0,Qt.jsx)(On,{type:"password",placeholder:"Nova senha (opcional)",onChange:e=>H(m(m({},W),{},{password:e.target.value}))}),(0,Qt.jsx)(zn,{onClick:()=>(async(e,t)=>{try{await jo.put("/agents/".concat(e),t),Bt.success("Atendente atualizado!"),H(null),je()}catch(a){Bt.error("Erro ao atualizar atendente")}})(e.id,W),className:"w-full",children:"Salvar"})]})]})]}),(0,Qt.jsx)(zn,{"data-testid":"delete-agent-".concat(e.id,"-btn"),variant:"outline",size:"sm",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este atendente?"))try{await jo.delete("/agents/".concat(e)),Bt.success("Atendente exclu\xeddo!"),je()}catch(t){Bt.error("Erro ao excluir atendente")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]})]})},e.id))})]}),(0,Qt.jsx)(Ti,{value:"ai-agents",className:"space-y-6",children:(0,Qt.jsx)(qf,{})}),(0,Qt.jsx)(Ti,{value:"departments",className:"space-y-6",children:(0,Qt.jsx)(Kf,{})}),(0,Qt.jsx)(Ti,{value:"quick",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Mensagens R\xe1pidas"}),(0,Qt.jsxs)(zn,{"data-testid":"add-quick-block-btn",size:"sm",onClick:()=>j(m(m({},y),{},{quick_blocks:[...y.quick_blocks,{name:"",text:""}]})),children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Novo Bloco"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:(y.quick_blocks||[]).map((e,t)=>(0,Qt.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsx)(On,{placeholder:"Nome do bloco",value:e.name,onChange:e=>{const a=[...y.quick_blocks];a[t].name=e.target.value,j(m(m({},y),{},{quick_blocks:a}))},className:"flex-1 mr-2"}),(0,Qt.jsx)(zn,{"data-testid":"remove-quick-block-".concat(t,"-btn"),variant:"outline",size:"sm",onClick:()=>{const e=y.quick_blocks.filter((e,a)=>a!==t);j(m(m({},y),{},{quick_blocks:e}))},children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]}),(0,Qt.jsx)(ll,{placeholder:"Texto da mensagem",value:e.text,onChange:e=>{const a=[...y.quick_blocks];a[t].text=e.target.value,j(m(m({},y),{},{quick_blocks:a}))},rows:3})]},t))}),(0,Qt.jsx)(zn,{"data-testid":"save-quick-blocks-btn",onClick:ke,className:"mt-4 bg-purple-600 hover:bg-purple-700",children:"Salvar Configura\xe7\xf5es"})]})}),(0,Qt.jsx)(Ti,{value:"security",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udd10 Dados Permitidos para Envio"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Configure quais dados sens\xedveis podem ser enviados nas conversas"}),(0,Qt.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-lg p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\uddbc\ufe0f Logo/Foto do Suporte"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-600 mb-3",children:"Esta imagem aparecer\xe1 como foto do suporte nas conversas com clientes"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qt.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center overflow-hidden border-2 border-indigo-200",children:y.support_avatar?(0,Qt.jsx)("img",{src:y.support_avatar,alt:"Logo do Suporte",className:"w-full h-full object-cover"}):(0,Qt.jsx)(sa,{className:"w-10 h-10 text-indigo-400"})}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("input",{ref:T,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/")){C(!0);try{const e=new FormData;e.append("file",t);const{data:a}=await jo.post("/config/support-avatar",e,{headers:{"Content-Type":"multipart/form-data"}});j(e=>m(m({},e),{},{support_avatar:a.avatar_url})),Bt.success("Logo atualizada com sucesso!"),je()}catch(a){Bt.error("Erro ao fazer upload da logo"),console.error("Upload error:",a)}finally{C(!1)}}else Bt.error("Por favor, selecione uma imagem")},className:"hidden"}),(0,Qt.jsx)(zn,{onClick:()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.click()},disabled:S,className:"bg-indigo-600 hover:bg-indigo-700",size:"sm",children:S?"Enviando...":"\ud83d\udce4 Fazer Upload da Logo"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Formato: JPG, PNG. Recomendado: 512x512px"})]})]})]}),(0,Qt.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 rounded-lg p-4",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udc64 Foto de Perfil da \xc1rea do Cliente"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-600 mb-3",children:"Esta foto aparecer\xe1 na \xe1rea do cliente. Cada revenda pode personalizar a sua."}),(0,Qt.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Qt.jsx)("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center overflow-hidden border-2 border-purple-200",children:(0,Qt.jsx)("img",{src:P,alt:"Foto do Cliente",className:"w-full h-full object-cover"})}),(0,Qt.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("input",{ref:R,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/")){A(!0);try{const e=new FormData;e.append("file",t);const{data:a}=await jo.post("/upload",e,{headers:{"Content-Type":"multipart/form-data"}});await _e(a.url)}catch(a){Bt.error("Erro ao fazer upload da foto"),console.error("Upload error:",a)}finally{A(!1)}}else Bt.error("Por favor, selecione uma imagem")},className:"hidden"}),(0,Qt.jsx)(zn,{onClick:()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.click()},disabled:E,className:"bg-purple-600 hover:bg-purple-700",size:"sm",children:E?"Enviando...":"\ud83d\udce4 Fazer Upload"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Formato: JPG, PNG"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{placeholder:"Ou cole o link da imagem",value:I,onChange:e=>O(e.target.value),className:"flex-1 text-sm"}),(0,Qt.jsx)(zn,{onClick:async()=>{I.trim()?(await _e(I.trim()),O("")):Bt.error("Digite uma URL v\xe1lida")},size:"sm",variant:"outline",children:"\ud83d\udd17 Usar Link"})]})]})]})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udcb0 Chave PIX"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{placeholder:"Digite a chave PIX (CPF, Email, Telefone ou Chave Aleat\xf3ria)",value:y.pix_key||"",onChange:e=>j(m(m({},y),{},{pix_key:e.target.value})),className:"flex-1"}),(0,Qt.jsx)(zn,{onClick:ke,className:"bg-emerald-600 hover:bg-emerald-700",children:"\ud83d\udcbe Salvar PIX"})]}),y.pix_key&&(0,Qt.jsxs)("p",{className:"text-sm text-emerald-600 mt-2",children:["\u2705 Chave PIX cadastrada: ",y.pix_key]})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udcc4 CPFs Permitidos"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:"Apenas CPFs cadastrados aqui poder\xe3o ser enviados nas conversas"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"000.000.000-00",id:"new-cpf",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-cpf"),a=e.value.trim();if(a){var t;const n=(null===(t=y.allowed_data)||void 0===t?void 0:t.cpfs)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{cpfs:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-cpf"),t=e.value.trim();if(t){var a;const n=(null===(a=y.allowed_data)||void 0===a?void 0:a.cpfs)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{cpfs:[...n,t]})})),e.value="",ke()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(e=y.allowed_data)||void 0===e?void 0:e.cpfs)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=y.allowed_data.cpfs.filter((e,a)=>a!==t);j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{cpfs:e})})),ke()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udce7 Emails Permitidos"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"email@exemplo.com",type:"email",id:"new-email",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-email"),a=e.value.trim();if(a){var t;const n=(null===(t=y.allowed_data)||void 0===t?void 0:t.emails)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{emails:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-email"),t=e.value.trim();if(t){var a;const n=(null===(a=y.allowed_data)||void 0===a?void 0:a.emails)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{emails:[...n,t]})})),e.value="",ke()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(t=y.allowed_data)||void 0===t?void 0:t.emails)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=y.allowed_data.emails.filter((e,a)=>a!==t);j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{emails:e})})),ke()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]}),(0,Qt.jsxs)("div",{className:"mb-6",children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udcf1 Telefones/WhatsApp Permitidos"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"+55 11 91111-1111",id:"new-phone",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-phone"),a=e.value.trim();if(a){var t;const n=(null===(t=y.allowed_data)||void 0===t?void 0:t.phones)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{phones:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-phone"),t=e.value.trim();if(t){var a;const n=(null===(a=y.allowed_data)||void 0===a?void 0:a.phones)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{phones:[...n,t]})})),e.value="",ke()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(a=y.allowed_data)||void 0===a?void 0:a.phones)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=y.allowed_data.phones.filter((e,a)=>a!==t);j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{phones:e})})),ke()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("h4",{className:"font-semibold mb-3",children:"\ud83d\udd11 Chaves Aleat\xf3rias PIX"}),(0,Qt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Qt.jsx)(On,{placeholder:"UUID ou chave aleat\xf3ria",id:"new-random-key",onKeyPress:e=>{if("Enter"===e.key){const e=document.getElementById("new-random-key"),a=e.value.trim();if(a){var t;const n=(null===(t=y.allowed_data)||void 0===t?void 0:t.random_keys)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{random_keys:[...n,a]})})),e.value=""}}}}),(0,Qt.jsx)(zn,{onClick:()=>{const e=document.getElementById("new-random-key"),t=e.value.trim();if(t){var a;const n=(null===(a=y.allowed_data)||void 0===a?void 0:a.random_keys)||[];j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{random_keys:[...n,t]})})),e.value="",ke()}},children:"Adicionar"})]}),(0,Qt.jsx)("div",{className:"flex flex-wrap gap-2",children:((null===(n=y.allowed_data)||void 0===n?void 0:n.random_keys)||[]).map((e,t)=>(0,Qt.jsxs)("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,Qt.jsx)("button",{onClick:()=>{const e=y.allowed_data.random_keys.filter((e,a)=>a!==t);j(m(m({},y),{},{allowed_data:m(m({},y.allowed_data),{},{random_keys:e})})),ke()},className:"text-red-600 hover:text-red-800",children:"\xd7"})]},t))})]})]})}),(0,Qt.jsx)(Ti,{value:"api",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udd0c Integra\xe7\xe3o API Office"}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Configure a API para buscar automaticamente usu\xe1rio e senha dos clientes"}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"URL da API"}),(0,Qt.jsx)(On,{placeholder:"https://api.office.com/v1/...",value:(null===(r=y.api_integration)||void 0===r?void 0:r.api_url)||"",onChange:e=>j(m(m({},y),{},{api_integration:m(m({},y.api_integration),{},{api_url:e.target.value})}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Token de Autentica\xe7\xe3o"}),(0,Qt.jsx)(On,{type:"password",placeholder:"Bearer token ou API key",value:(null===(o=y.api_integration)||void 0===o?void 0:o.api_token)||"",onChange:e=>j(m(m({},y),{},{api_integration:m(m({},y.api_integration),{},{api_token:e.target.value})}))})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{type:"checkbox",id:"api-enabled",checked:(null===(l=y.api_integration)||void 0===l?void 0:l.api_enabled)||!1,onChange:e=>j(m(m({},y),{},{api_integration:m(m({},y.api_integration),{},{api_enabled:e.target.checked})})),className:"rounded"}),(0,Qt.jsx)("label",{htmlFor:"api-enabled",className:"text-sm font-medium",children:"Ativar integra\xe7\xe3o com API"})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{onClick:async()=>{var e;if(null!==(e=y.api_integration)&&void 0!==e&&e.api_url)try{Bt.info("Testando conex\xe3o..."),setTimeout(()=>Bt.success("\u2705 API configurada! (teste futuro)"),1e3)}catch(t){Bt.error("Erro ao testar API")}else Bt.error("Configure a URL da API primeiro")},variant:"outline",children:"\ud83e\uddea Testar Conex\xe3o"}),(0,Qt.jsx)(zn,{onClick:ke,className:"bg-blue-600 hover:bg-blue-700",children:"\ud83d\udcbe Salvar Configura\xe7\xe3o"})]}),(null===(i=y.api_integration)||void 0===i?void 0:i.api_enabled)&&(0,Qt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:(0,Qt.jsx)("p",{className:"text-sm text-green-800",children:"\u2705 Integra\xe7\xe3o API ativa! Os atendentes poder\xe3o buscar credenciais automaticamente."})})]})]})}),(0,Qt.jsxs)(Ti,{value:"config",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Auto-Resposta"}),(0,Qt.jsxs)(zn,{"data-testid":"add-auto-reply-btn",size:"sm",onClick:()=>j(m(m({},y),{},{auto_reply:[...y.auto_reply,{q:"",a:""}]})),children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Nova Regra"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:(y.auto_reply||[]).map((e,t)=>(0,Qt.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("h4",{className:"font-medium text-slate-700",children:["Regra ",t+1]}),(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>{const e=y.auto_reply.filter((e,a)=>a!==t);j(m(m({},y),{},{auto_reply:e}))},children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]}),(0,Qt.jsx)(On,{placeholder:"Pergunta do cliente",value:e.q,onChange:e=>{const a=[...y.auto_reply];a[t].q=e.target.value,j(m(m({},y),{},{auto_reply:a}))}}),(0,Qt.jsx)(ll,{placeholder:"Resposta autom\xe1tica",value:e.a,onChange:e=>{const a=[...y.auto_reply];a[t].a=e.target.value,j(m(m({},y),{},{auto_reply:a}))},rows:2})]},t))}),(0,Qt.jsx)(zn,{onClick:ke,className:"mt-4 bg-purple-600 hover:bg-purple-700",children:"Salvar Auto-Resposta"})]}),(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold",children:"Aplicativos / Tutoriais"}),(0,Qt.jsxs)(zn,{"data-testid":"add-app-btn",size:"sm",onClick:()=>j(m(m({},y),{},{apps:[...y.apps,{cat:"SmartTV",title:"",content:""}]})),children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Novo Item"]})]}),(0,Qt.jsx)("div",{className:"space-y-4",children:(y.apps||[]).map((e,t)=>(0,Qt.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsxs)(kf,{value:e.cat,onValueChange:e=>{const a=[...y.apps];a[t].cat=e,j(m(m({},y),{},{apps:a}))},children:[(0,Qt.jsx)(Sf,{className:"w-[200px]",children:(0,Qt.jsx)(_f,{})}),(0,Qt.jsx)(Af,{children:["Tv box","SmartTV","Celular IOS","Celular Android","AndroidTV","Projetor","Fire stick TV","Video Game","Chromecast"].map(e=>(0,Qt.jsx)(Tf,{value:e,children:e},e))})]}),(0,Qt.jsx)(On,{placeholder:"T\xedtulo",value:e.title,onChange:e=>{const a=[...y.apps];a[t].title=e.target.value,j(m(m({},y),{},{apps:a}))},className:"flex-1"}),(0,Qt.jsx)(zn,{variant:"outline",size:"sm",onClick:()=>{const e=y.apps.filter((e,a)=>a!==t);j(m(m({},y),{},{apps:e}))},children:(0,Qt.jsx)(nl,{className:"w-4 h-4 text-red-600"})})]}),(0,Qt.jsx)(ll,{placeholder:"Conte\xfado / instru\xe7\xf5es",value:e.content,onChange:e=>{const a=[...y.apps];a[t].content=e.target.value,j(m(m({},y),{},{apps:a}))},rows:3})]},t))}),(0,Qt.jsx)(zn,{onClick:ke,className:"mt-4 bg-purple-600 hover:bg-purple-700",children:"Salvar Aplicativos"})]})]}),(0,Qt.jsxs)(Ti,{value:"notices",className:"space-y-6",children:[(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Publicar Novo Aviso"}),(0,Qt.jsx)(kv,{onSubmit:async(e,t,a)=>{try{let n="";if(a&&(n=await(async e=>{const t=new FormData;t.append("file",e);try{const{data:e}=await jo.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}});return e.url}catch(a){return Bt.error("Erro ao fazer upload"),null}})(a),!n))return;await jo.post("/notices",{kind:e,text:t||"",file_url:n||""}),Bt.success("Aviso publicado!"),je()}catch(n){Bt.error("Erro ao publicar aviso")}}})]}),(0,Qt.jsx)("div",{className:"grid gap-4",children:w.map(e=>(0,Qt.jsx)(Un,{className:"p-4",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-4",children:["image"===e.kind&&(0,Qt.jsx)("img",{src:e.file_url,alt:"",className:"w-24 h-24 object-cover rounded-lg"}),"video"===e.kind&&(0,Qt.jsx)("video",{src:e.file_url,controls:!0,className:"w-48 rounded-lg"}),"audio"===e.kind&&(0,Qt.jsx)("audio",{src:e.file_url,controls:!0,className:"w-full"}),(0,Qt.jsxs)("div",{className:"flex-1",children:[e.text&&(0,Qt.jsx)("p",{className:"text-slate-700",children:e.text}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:new Date(e.created_at).toLocaleString("pt-BR")})]}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar este aviso?"))try{await jo.delete("/notices/".concat(e)),Bt.success("Aviso deletado!"),je()}catch(n){var t,a;Bt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erro ao deletar aviso")}})(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,Qt.jsx)(nl,{className:"w-4 h-4"})})]})},e.id))})]}),(0,Qt.jsx)(Ti,{value:"auto-responder",className:"space-y-6",children:(0,Qt.jsx)(Jf,{})}),(0,Qt.jsx)(Ti,{value:"domain",className:"space-y-6",children:(0,Qt.jsx)(jv,{resellerData:be,onUpdate:je})}),(0,Qt.jsx)(Ti,{value:"tutorials",className:"space-y-6",children:(0,Qt.jsx)(ex,{})}),(0,Qt.jsx)(Ti,{value:"iptv-apps",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udcfa Gerenciar Aplicativos"}),(0,Qt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nome do App"}),(0,Qt.jsx)(On,{placeholder:"Ex: Meu Sistema",value:L.name,onChange:e=>F(m(m({},L),{},{name:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"URL de Configura\xe7\xe3o"}),(0,Qt.jsx)(On,{placeholder:"http://seu_aplicativo.com/configuracao",value:L.config_url,onChange:e=>F(m(m({},L),{},{config_url:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Template da URL"}),(0,Qt.jsx)(On,{placeholder:"http://seu_aplicativo.com/{usuario}/{senha}",value:L.url_template,onChange:e=>F(m(m({},L),{},{url_template:e.target.value}))}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Use ","{","variavel","}"," para campos din\xe2micos"]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Campos (separados por v\xedrgula)"}),(0,Qt.jsx)(On,{placeholder:"username, password, codigo",value:L.fields.join(", "),onChange:e=>F(m(m({},L),{},{fields:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Instru\xe7\xf5es para o Agente"}),(0,Qt.jsx)(ll,{placeholder:"1. Acesse o site...\n2. Cole o c\xf3digo...\n3. Salve",value:L.instructions,onChange:e=>F(m(m({},L),{},{instructions:e.target.value})),rows:5})]}),(0,Qt.jsxs)(zn,{onClick:async()=>{try{await jo.post("/iptv-apps",L),Bt.success("App IPTV criado com sucesso!"),F({name:"",type:"SSIPTV",config_url:"",url_template:"",fields:[],instructions:""}),je()}catch(e){Bt.error("Erro ao criar app IPTV")}},className:"w-full",children:[(0,Qt.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Criar Aplicativo"]})]}),(0,Qt.jsxs)("div",{className:"border-t pt-4",children:[(0,Qt.jsxs)("h4",{className:"font-semibold mb-3",children:["Apps Cadastrados (",D.length,")"]}),(0,Qt.jsxs)("div",{className:"space-y-2",children:[D.map(e=>(0,Qt.jsxs)("div",{className:"border rounded-lg p-4 flex justify-between items-start",children:[(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h5",{className:"font-medium",children:e.name}),(0,Qt.jsx)("p",{className:"text-xs text-gray-500",children:e.type}),(0,Qt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:e.config_url}),(0,Qt.jsx)("p",{className:"text-xs bg-gray-100 p-2 rounded mt-2 font-mono",children:e.url_template}),(0,Qt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Campos: ",e.fields.join(", ")]})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>q(e),children:(0,Qt.jsx)(al,{className:"w-3 h-3"})}),(0,Qt.jsx)(zn,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja deletar este app?"))try{await jo.delete("/iptv-apps/".concat(e)),Bt.success("App deletado!"),je()}catch(t){Bt.error("Erro ao deletar app")}})(e.id),children:(0,Qt.jsx)(nl,{className:"w-3 h-3"})})]})]},e.id)),0===D.length&&(0,Qt.jsx)("p",{className:"text-gray-400 text-center py-4",children:"Nenhum app cadastrado ainda"})]})]})]})}),(0,Qt.jsx)(Ti,{value:"whatsapp",className:"space-y-6",children:(0,Qt.jsxs)(Un,{className:"p-6",children:[(0,Qt.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,Qt.jsx)(To,{className:"w-6 h-6 text-green-600"}),"\ud83d\udcf1 Gerenciar WhatsApp"]}),(0,Qt.jsx)("p",{className:"text-sm text-slate-600 mb-6",children:"Conecte m\xfaltiplos n\xfameros WhatsApp, configure limites anti-banimento e gerencie rota\xe7\xe3o autom\xe1tica."}),(0,Qt.jsx)(dx,{})]})}),(0,Qt.jsx)(Ti,{value:"vendas-bot",className:"space-y-6",children:(0,Qt.jsx)(Nv,{})}),(0,Qt.jsx)(Ti,{value:"payments",className:"space-y-6",children:(0,Qt.jsx)(vv,{})})]})}),(0,Qt.jsx)(nu,{open:!!B,onOpenChange:e=>!e&&q(null),children:(0,Qt.jsxs)(lu,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"Editar Aplicativo"})}),B&&(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nome do App"}),(0,Qt.jsx)(On,{value:B.name,onChange:e=>q(m(m({},B),{},{name:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"URL de Configura\xe7\xe3o"}),(0,Qt.jsx)(On,{placeholder:"http://seu_aplicativo.com/configuracao",value:B.config_url,onChange:e=>q(m(m({},B),{},{config_url:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Template da URL"}),(0,Qt.jsx)(On,{placeholder:"http://seu_aplicativo.com/{usuario}/{senha}",value:B.url_template,onChange:e=>q(m(m({},B),{},{url_template:e.target.value}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Campos (separados por v\xedrgula)"}),(0,Qt.jsx)(On,{value:(null===(c=B.fields)||void 0===c?void 0:c.join(", "))||"",onChange:e=>q(m(m({},B),{},{fields:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Instru\xe7\xf5es"}),(0,Qt.jsx)(ll,{value:B.instructions,onChange:e=>q(m(m({},B),{},{instructions:e.target.value})),rows:5})]}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsxs)(zn,{onClick:()=>(async(e,t)=>{try{await jo.put("/iptv-apps/".concat(e),t),Bt.success("App atualizado!"),q(null),je()}catch(a){Bt.error("Erro ao atualizar app")}})(B.id,B),className:"flex-1",children:[(0,Qt.jsx)(Qo,{className:"w-4 h-4 mr-2"}),"Salvar Altera\xe7\xf5es"]}),(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>q(null),children:"Cancelar"})]})]})]})}),(0,Qt.jsx)(nu,{open:oe.open,onOpenChange:e=>le({open:e,data:null}),children:(0,Qt.jsxs)(lu,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsxs)(cu,{className:"flex items-center gap-2 text-xl",children:[(0,Qt.jsx)(Yo,{className:"w-6 h-6 text-green-600"}),"Revenda Criada com Sucesso!"]})}),oe.data&&(0,Qt.jsxs)("div",{className:"space-y-6 py-4",children:[(0,Qt.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[(0,Qt.jsx)(Uo,{className:"w-5 h-5"}),"Informa\xe7\xf5es de Acesso"]}),(0,Qt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Qt.jsxs)("div",{className:"flex justify-between",children:[(0,Qt.jsx)("span",{className:"text-blue-700 font-semibold",children:"Nome:"}),(0,Qt.jsx)("span",{className:"text-blue-900",children:oe.data.name})]}),(0,Qt.jsxs)("div",{className:"flex justify-between",children:[(0,Qt.jsx)("span",{className:"text-blue-700 font-semibold",children:"Email:"}),(0,Qt.jsx)("span",{className:"text-blue-900",children:oe.data.email})]}),(0,Qt.jsxs)("div",{className:"flex justify-between",children:[(0,Qt.jsx)("span",{className:"text-blue-700 font-semibold",children:"Senha:"}),(0,Qt.jsx)("span",{className:"text-blue-900 font-mono bg-blue-100 px-2 py-1 rounded",children:oe.data.password})]})]})]}),(0,Qt.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[(0,Qt.jsxs)("h3",{className:"font-bold text-green-900 mb-3 flex items-center gap-2",children:[(0,Qt.jsx)(rl,{className:"w-5 h-5"}),"\ud83d\udd17 Link de Acesso Unificado"]}),(0,Qt.jsxs)("div",{className:"space-y-3",children:[(0,Qt.jsx)("p",{className:"text-sm text-green-800 font-semibold",children:"A revenda deve usar ESTE link para acessar:"}),(0,Qt.jsx)("div",{className:"bg-white rounded-lg p-3 border-2 border-green-300",children:(0,Qt.jsxs)("a",{href:"".concat(window.location.origin,"/reseller-login"),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 underline font-mono break-all block",children:[window.location.origin,"/reseller-login"]})}),(0,Qt.jsxs)("div",{className:"bg-green-100 rounded-lg p-3",children:[(0,Qt.jsx)("p",{className:"text-xs text-green-800",children:(0,Qt.jsx)("strong",{children:"Instru\xe7\xf5es:"})}),(0,Qt.jsxs)("ol",{className:"text-xs text-green-700 mt-1 ml-4 list-decimal space-y-1",children:[(0,Qt.jsx)("li",{children:"Acesse o link acima"}),(0,Qt.jsx)("li",{children:"Fa\xe7a login com o email e senha informados"}),(0,Qt.jsx)("li",{children:"No primeiro acesso, ser\xe1 solicitado trocar a senha"}),(0,Qt.jsxs)("li",{children:["A revenda ter\xe1 ",(0,Qt.jsx)("strong",{children:"24 horas"})," para configurar dom\xednio pr\xf3prio"]}),(0,Qt.jsxs)("li",{children:["Ap\xf3s configurar o dom\xednio, ela deve ",(0,Qt.jsx)("strong",{children:"avisar voc\xea"})," para ativar"]})]})]})]})]}),(0,Qt.jsxs)("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4",children:[(0,Qt.jsx)("h3",{className:"font-bold text-purple-900 mb-2",children:"\ud83d\ude80 Pr\xf3ximos Passos:"}),(0,Qt.jsxs)("ol",{className:"text-sm text-purple-800 space-y-1 list-decimal ml-5",children:[(0,Qt.jsx)("li",{children:"Acesse o Painel Revenda pelo link acima"}),(0,Qt.jsx)("li",{children:"Fa\xe7a login com email e senha fornecidos"}),(0,Qt.jsx)("li",{children:"No primeiro acesso, ser\xe1 solicitado a trocar a senha"}),(0,Qt.jsx)("li",{children:'No menu "Dom\xednio", configure seu dom\xednio oficial quando estiver pronto'})]})]}),(0,Qt.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>le({open:!1,data:null}),children:"Fechar"}),(0,Qt.jsxs)(zn,{onClick:()=>{const e=oe.data,t="\n\ud83c\udf89 *REVENDA CRIADA COM SUCESSO!*\n\n\ud83d\udccb *Informa\xe7\xf5es de Acesso:*\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\ud83d\udc64 *Nome:* ".concat(e.name,"\n\ud83d\udce7 *Email:* ").concat(e.email,"\n\ud83d\udd11 *Senha:* ").concat(e.password,"\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\ud83d\udd17 *ACESSO UNIFICADO - Use este link:*\n\n\ud83d\udfe2 *Login da Revenda:*\n").concat(window.location.origin,"/reseller-login\n\n\ud83d\udce7 Email: ").concat(e.email,"\n\ud83d\udd11 Senha: ").concat(e.password,'\n\n\u26a0\ufe0f *Importante:*\n\u2022 A revenda deve acessar pelo link acima\n\u2022 Fazer login com email e senha\n\u2022 Ter\xe1 24 horas para configurar dom\xednio pr\xf3prio\n\u2022 Ap\xf3s configurar, avisar voc\xea (Master) para ativar\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n\n\u26a0\ufe0f *IMPORTANTE:*\n\u2022 Use o dom\xednio provis\xf3rio para acessar o painel\n\u2022 Ap\xf3s o primeiro login, voc\xea poder\xe1 configurar seu dom\xednio oficial\n\u2022 No menu "Dom\xednio" voc\xea encontra instru\xe7\xf5es para apontar seu dom\xednio pr\xf3prio\n\u2022 Quando ativar o dom\xednio oficial, o dom\xednio de teste ser\xe1 desativado\n\n\ud83d\ude80 *Pr\xf3ximos Passos:*\n1. Acesse o Painel Revenda pelo link acima\n2. Fa\xe7a login com email e senha fornecidos\n3. Voc\xea ser\xe1 solicitado a trocar a senha no primeiro acesso\n4. Configure seu dom\xednio oficial quando estiver pronto\n\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\n').trim();navigator.clipboard.writeText(t),Bt.success("\u2705 Informa\xe7\xf5es copiadas! Pronto para enviar ao cliente.")},className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:[(0,Qt.jsx)(el,{className:"w-4 h-4 mr-2"}),"Copiar Tudo"]})]})]})]})})]})]})},Sv=na("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),Cv=e=>{let{isOpen:t,onClose:a,title:n,message:r,icon:o="info",autoCloseDelay:l=3e4}=e;if((0,s.useEffect)(()=>{if(t&&l>0){const e=setTimeout(()=>{a()},l);return()=>clearTimeout(e)}},[t,l,a]),!t)return null;return(0,Qt.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 animate-fade-in",onClick:a,children:(0,Qt.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 p-8 animate-slide-up",onClick:e=>e.stopPropagation(),children:(0,Qt.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(()=>{switch(o){case"warning":return(0,Qt.jsx)(tx,{className:"w-16 h-16 text-orange-500"});case"clock":return(0,Qt.jsx)(Xo,{className:"w-16 h-16 text-blue-500"});case"queue":return(0,Qt.jsx)(Uo,{className:"w-16 h-16 text-indigo-500"});default:return(0,Qt.jsx)(tx,{className:"w-16 h-16 text-blue-500"})}})(),(0,Qt.jsx)("h3",{className:"text-2xl font-bold text-slate-900",children:n}),(0,Qt.jsx)("p",{className:"text-slate-600 text-base leading-relaxed",children:r}),(0,Qt.jsx)(zn,{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 text-lg font-semibold","data-testid":"alert-modal-ok-btn",children:"OK"}),(0,Qt.jsxs)("p",{className:"text-xs text-slate-400",children:["Fecha automaticamente em ",l/1e3,"s"]})]})})})},Ev=()=>{const[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const a=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone;if(a)return;const s=e=>{e.preventDefault(),t(e),n(!0)};window.addEventListener("beforeinstallprompt",s);const r=setInterval(()=>{!a&&e&&n(!0)},3e5),o=setTimeout(()=>{const e=localStorage.getItem("pwa_last_shown"),t=Date.now()-3e5;(!e||parseInt(e)<t)&&n(!0)},3e3);return()=>{window.removeEventListener("beforeinstallprompt",s),clearInterval(r),clearTimeout(o)}},[e]);const r=()=>{n(!1),localStorage.setItem("pwa_last_shown",Date.now())};return a?(0,Qt.jsx)("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-slide-up",children:(0,Qt.jsx)("div",{className:"bg-gradient-to-br from-green-600 to-emerald-600 rounded-2xl shadow-2xl p-4 text-white",children:(0,Qt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Qt.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,Qt.jsx)(vx,{className:"w-6 h-6 text-white"})}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h3",{className:"font-bold mb-1",children:"Instalar WA Suporte"}),(0,Qt.jsx)("p",{className:"text-sm text-white/90 mb-3",children:"Acesso r\xe1pido e funciona offline!"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{onClick:async()=>{if(!e)return;e.prompt();const{outcome:a}=await e.userChoice;"accepted"===a&&localStorage.setItem("pwa_installed","true"),t(null),n(!1),localStorage.setItem("pwa_last_shown",Date.now())},className:"flex-1 bg-white text-green-600 hover:bg-white/90",size:"sm",children:"Instalar Agora"}),(0,Qt.jsx)(zn,{onClick:r,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:"Depois"})]})]}),(0,Qt.jsx)("button",{onClick:r,className:"text-white/70 hover:text-white",children:(0,Qt.jsx)(Xd,{className:"w-5 h-5"})})]})})}):null};function Av(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),n=new Uint8Array(a.length);for(let s=0;s<a.length;++s)n[s]=a.charCodeAt(s);return n}const Tv=function(e,t){const[a,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)("default"),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e="serviceWorker"in navigator&&"PushManager"in window;n(e),e&&o(Notification.permission)},[]);const u=async()=>{try{const e=await Notification.requestPermission();return o(e),"granted"===e}catch(e){return console.error("\u274c Erro ao solicitar permiss\xe3o:",e),!1}};return{isSupported:a,permission:r,isSubscribed:l,loading:c,subscribe:async()=>{if(!a||!e||!t)return console.log("\u26a0\ufe0f Push n\xe3o suportado ou dados insuficientes"),!1;d(!0);try{if("granted"!==r){if(!await u())return console.log("\u274c Permiss\xe3o negada"),d(!1),!1}console.log("\ud83d\udce1 Buscando chave VAPID...");const{data:a}=await jo.get("/push/vapid-public-key"),n=a.publicKey;console.log("\u2705 Chave VAPID obtida"),console.log("\ud83d\udcdd Registrando service worker...");const s=await navigator.serviceWorker.register("/push-service-worker.js");console.log("\u2705 Service worker registrado"),await navigator.serviceWorker.ready,console.log("\ud83d\udcf2 Subscrevendo para push...");const o=await s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Av(n)});return console.log("\u2705 Subscription criada:",o),console.log("\ud83d\udcbe Salvando subscription no backend..."),await jo.post("/push/subscribe",{client_id:e,reseller_id:t,subscription_data:o.toJSON(),user_agent:navigator.userAgent}),console.log("\u2705 Push notifications ativadas com sucesso!"),i(!0),d(!1),!0}catch(n){return console.error("\u274c Erro ao ativar push notifications:",n),d(!1),!1}},unsubscribe:async()=>{if(!a||!e)return!1;d(!0);try{await jo.post("/push/unsubscribe/".concat(e));const t=await navigator.serviceWorker.ready,a=await t.pushManager.getSubscription();return a&&await a.unsubscribe(),console.log("\u2705 Push notifications desativadas"),i(!1),d(!1),!0}catch(t){return console.error("\u274c Erro ao desativar push notifications:",t),d(!1),!1}},requestPermission:u}},Rv=()=>{const e=ge(),t=ko(),[a,n]=(0,s.useState)(t.userData),[r,o]=(0,s.useState)([]),[l,i]=(0,s.useState)(""),[c,d]=(0,s.useState)({pinned_user:"",pinned_pass:""}),[u,p]=(0,s.useState)([]),[h,f]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[v,b]=(0,s.useState)(""),[y,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[k,_]=(0,s.useState)("Carregando..."),[S,C]=(0,s.useState)(0),[E,A]=(0,s.useState)(!1),[T,R]=(0,s.useState)({isOpen:!1,title:"",message:"",icon:"info"}),[P,z]=(0,s.useState)(!1),[I,O]=(0,s.useState)(""),[D,M]=(0,s.useState)(!1),[L,F]=(0,s.useState)(""),B=(0,s.useRef)(null),q=(0,s.useRef)(null),U=(0,s.useRef)(null),V=(0,s.useRef)(null),W=(0,s.useRef)(null),H=(0,s.useRef)(null),G=(0,s.useRef)(0),[$,K]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)(null),[X,J]=(0,s.useState)({support_avatar:""}),[Z,ee]=(0,s.useState)(!1),[te,ae]=(0,s.useState)(!1),ne=(0,s.useRef)(null),[se,re]=(0,s.useState)(!1),[oe,le]=(0,s.useState)(!1),ie=(0,s.useRef)(null),ce=Tv(null===a||void 0===a?void 0:a.client_id,null===a||void 0===a?void 0:a.reseller_id),de=()=>{if(B.current&&B.current.readyState===WebSocket.OPEN)return void console.log("\u2705 WebSocket j\xe1 est\xe1 conectado");if(B.current){try{B.current.close()}catch(Dv){console.log("Erro ao fechar WebSocket anterior:",Dv)}B.current=null}if(null===a||void 0===a||!a.id)return console.warn("\u26a0\ufe0f Aguardando dados do usu\xe1rio para conectar WebSocket"),void setTimeout(()=>de(),1e3);console.log("\ud83d\udd0c Tentando conectar WebSocket (tentativa ".concat(G.current+1,")"));const e=wo(a.id);B.current=e,e.onopen=()=>{console.log("\u2705 WebSocket conectado - Mensagens INSTANT\xc2NEAS ativadas!"),G.current=0,_("\ud83d\udfe2 Online - Tempo Real")},e.onmessage=e=>{const t=JSON.parse(e.data);console.log("\ud83d\udce8 Nova mensagem via WebSocket:",t),"new_message"!==t.type&&"message"!==t.type||!t.message||(o(e=>{var a;if(e.some(e=>e.id===t.message.id))return console.log("\u26a0\ufe0f Mensagem duplicada ignorada"),e;if(console.log("\u2705 Nova mensagem adicionada:",null===(a=t.message.text)||void 0===a?void 0:a.substring(0,50)),"client"!==t.message.from_type){try{if(H.current){H.current.currentTime=0,H.current.volume=1;const e=H.current.play();void 0!==e&&e.then(()=>{console.log("\ud83d\udd0a Som de notifica\xe7\xe3o tocado com sucesso!")}).catch(e=>{console.warn("\u26a0\ufe0f N\xe3o foi poss\xedvel tocar o som (autoplay bloqueado):",e);try{const e=new Audio("/notification.mp3");e.volume=1,e.play().catch(e=>console.log("Fallback tamb\xe9m falhou:",e))}catch(Dv){console.error("Erro no fallback:",Dv)}})}}catch(Dv){console.error("\u274c Erro ao tocar som:",Dv)}if("vibrate"in navigator&&navigator.vibrate([200,100,200]),document.hidden&&"setAppBadge"in navigator){const t=e.filter(e=>"client"!==e.from_type).length+1;navigator.setAppBadge(t).then(()=>console.log("\ud83d\udd22 Badge atualizado: ".concat(t," mensagens"))).catch(e=>console.warn("Erro ao atualizar badge:",e))}if("Notification"in window&&"granted"===Notification.permission&&document.hidden)try{const e=new Notification("Nova mensagem de Suporte",{body:t.message.text||"Voc\xea recebeu uma nova mensagem",icon:"/icon-192.png",badge:"/icon-192.png",tag:"chat-message",requireInteraction:!1,silent:!1});e.onclick=()=>{window.focus(),e.close(),"clearAppBadge"in navigator&&navigator.clearAppBadge()},setTimeout(()=>e.close(),5e3)}catch(Dv){console.error("Erro ao mostrar notifica\xe7\xe3o:",Dv)}document.hidden||Bt.info("\ud83d\udcac ".concat(t.message.text||"Nova mensagem"),{duration:4e3,position:"top-center",style:{background:"#075E54",color:"white",borderRadius:"8px",padding:"12px 20px"}})}return[...e,t.message]}),setTimeout(()=>{var e;null===(e=q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)),"credentials_updated"===t.type&&d({pinned_user:t.pinned_user,pinned_pass:t.pinned_pass})},e.onerror=e=>{console.error("\u274c Erro no WebSocket:",e)},e.onclose=()=>{G.current+=1,console.log("\u26a0\ufe0f WebSocket desconectado, reconectando em background... (tentativa ".concat(G.current,")")),_("\ud83d\udd34 Desconectado"),setTimeout(()=>{t.token&&(console.log("\ud83d\udd04 Tentando reconectar..."),de())},500)}};(0,s.useEffect)(()=>{const e=e=>{e.preventDefault(),re(!0),window.history.pushState(null,"",window.location.href)};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",e),document.body.classList.add("client-chat-fullscreen"),console.log("\ud83d\udd12 Bot\xe3o voltar com confirma\xe7\xe3o ativado"),()=>{window.removeEventListener("popstate",e),document.body.classList.remove("client-chat-fullscreen")}},[]),(0,s.useEffect)(()=>{if(a&&ce.isSupported&&!ce.isSubscribed){const e=setTimeout(async()=>{console.log("\ud83d\udcf2 Ativando push notifications...");await ce.subscribe()&&Bt.success("\ud83d\udd14 Notifica\xe7\xf5es ativadas! Voc\xea receber\xe1 alertas de novas mensagens.")},3e3);return()=>clearTimeout(e)}},[a,ce.isSupported]),(0,s.useEffect)(()=>{"clearAppBadge"in navigator&&navigator.clearAppBadge().then(()=>console.log("\ud83e\uddf9 Badge limpo ao abrir app")).catch(e=>console.log("Badge API n\xe3o dispon\xedvel:",e));const e=()=>{!document.hidden&&"clearAppBadge"in navigator&&navigator.clearAppBadge().then(()=>console.log("\ud83e\uddf9 Badge limpo ao focar no app")).catch(()=>{})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[]),(0,s.useEffect)(()=>{try{const e=new Audio("/notification.mp3");e.preload="auto",e.volume=1,e.load(),H.current=e,console.log("\u2705 \xc1udio de notifica\xe7\xe3o pr\xe9-carregado (Assobio WhatsApp)"),e.addEventListener("canplaythrough",()=>{console.log("\u2705 \xc1udio PRONTO para tocar!")}),e.addEventListener("error",e=>{console.error("\u274c Erro ao carregar \xe1udio:",e)})}catch(Dv){console.error("\u274c Erro ao pr\xe9-carregar \xe1udio:",Dv)}const e=()=>{if(H.current&&!$)try{console.log("\ud83d\udd0a Tentando habilitar \xe1udio ap\xf3s intera\xe7\xe3o..."),H.current.play().then(()=>{H.current.pause(),H.current.currentTime=0,K(!0),console.log("\u2705 \xc1udio HABILITADO ap\xf3s intera\xe7\xe3o do usu\xe1rio"),Bt.success("\ud83d\udd0a Som de notifica\xe7\xf5es habilitado!",{duration:2e3})}).catch(e=>{console.error("\u26a0\ufe0f Falha ao habilitar \xe1udio:",e)})}catch(Dv){console.error("\u274c Erro ao habilitar \xe1udio:",Dv)}};document.addEventListener("click",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0}),document.addEventListener("touchend",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),ue(),me(),ve(),fe(),be(),he(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{console.log("\ud83d\udd14 Permiss\xe3o de notifica\xe7\xe3o:",e)}),de();const t=setInterval(()=>{pe()},3e4),a=setInterval(()=>{he()},6e4);return()=>{clearInterval(t),clearInterval(a),B.current&&B.current.close(),W.current&&clearTimeout(W.current),H.current&&(H.current.pause(),H.current=null)}},[]),(0,s.useEffect)(()=>{null===a||void 0===a||!a.id||B.current&&B.current.readyState===WebSocket.OPEN||(console.log("\ud83d\udd04 Conectando WebSocket com userId:",a.id),de())},[a]),(0,s.useEffect)(()=>{var e;null===(e=q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[r]);const ue=async()=>{try{const e=(await jo.get("/tickets",{params:{status:null}})).data.find(e=>e.client_id===a.id);if(e){const{data:t}=await jo.get("/messages/".concat(e.id));o(t)}}catch(e){console.error("Error loading messages:",e)}},me=async()=>{try{const{data:e}=await jo.get("/notices");p(e);const t=parseInt(localStorage.getItem("last_notice_count")||"0");e.length>t&&e.length>0&&(N(!0),A(!0)),C(e.length)}catch(e){console.error("Error loading notices:",e)}},pe=async()=>{try{const{data:e}=await jo.get("/notices"),t=parseInt(localStorage.getItem("last_notice_count")||"0");e.length>t&&N(!0)}catch(e){console.error("Error checking notices:",e)}},he=async()=>{try{const{data:e}=await jo.get("/agents/online-status");if(!Og())return void _("Fora de hor\xe1rio");if(e.manual&&"away"===e.status)return void _("Ausente");e.online>0?_("Online"):_("Online - Hor\xe1rio: 9h \xe0s 23h")}catch(e){Og()?_("Online - Hor\xe1rio: 9h \xe0s 23h"):_("Fora de hor\xe1rio")}},fe=async()=>{try{const{data:e}=await jo.get("/config");F(e.pix_key||"")}catch(e){console.error("Error loading PIX key:",e)}},xe=async()=>{const e=I.trim();if(e)if(e.length<2)Bt.error("Nome muito curto");else if(e.split(" ").length>3)Bt.error("Digite apenas seu nome (m\xe1ximo 3 palavras)");else if(/^[A-Za-z\xc0-\xff\s]+$/.test(e))try{await jo.put("/users/me/name",{name:e}),Bt.success("Bem-vindo(a), ".concat(e,"!")),z(!1),O(""),loadTicket()}catch(n){var t,a;Bt.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erro ao salvar nome")}else Bt.error("Nome deve conter apenas letras");else Bt.error("Por favor, digite seu nome")},ve=async()=>{try{const{data:e}=await jo.get("/users/me");n(e),d({pinned_user:e.pinned_user,pinned_pass:e.pinned_pass})}catch(e){console.error("Error loading user data:",e)}},be=async()=>{try{const{data:e}=await jo.get("/config");J(e)}catch(e){console.error("Error loading config:",e)}},ye=async()=>{if(!l.trim()||Z)return;ee(!0);const e=l.trim();if(!$&&H.current)try{H.current.volume=.01,H.current.play().then(()=>{H.current.pause(),H.current.currentTime=0,H.current.volume=1,K(!0),console.log("\u2705 \xc1udio habilitado ap\xf3s intera\xe7\xe3o do usu\xe1rio")}).catch(e=>{console.log("\u26a0\ufe0f N\xe3o foi poss\xedvel habilitar \xe1udio:",e)})}catch(Dv){console.error("Erro ao habilitar \xe1udio:",Dv)}if(null===a||void 0===a||!a.id)return Bt.error("Erro: Dados do usu\xe1rio n\xe3o carregados"),void ee(!1);Og()||R({isOpen:!0,title:"Fora do Hor\xe1rio",message:"Estamos fora do hor\xe1rio de atendimento (9h \xe0s 23h). Sua mensagem ser\xe1 respondida assim que poss\xedvel.",icon:"clock"});try{const t=await jo.get("/agents");if(!t.data||0===t.data.length)return Bt.error("Nenhum atendente dispon\xedvel no momento"),void ee(!1);const n=t.data[0].id,s={id:"temp-".concat(Date.now()),from_type:"client",from_id:a.id,to_type:"agent",to_id:n,kind:"text",text:e,file_url:"",created_at:(new Date).toISOString(),is_read:!1};o(e=>[...e,s]),i(""),setTimeout(()=>{var e;null===(e=q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100),console.log("Sending message:",{from_id:a.id,to_id:n});const r=await jo.post("/messages",{ticket_id:"",from_type:"client",from_id:a.id,to_type:"agent",to_id:n,kind:"text",text:e,file_url:""});r.data&&r.data.id&&o(e=>e.map(e=>e.id===s.id?m({},r.data):e)),console.log("\u2705 Mensagem enviada e exibida INSTANTANEAMENTE!"),D||(M(!0),setTimeout(()=>{(async()=>{try{const{data:e}=await jo.get("/users/name-popup-status");e.should_show&&D&&setTimeout(()=>{z(!0)},2e3)}catch(e){console.error("Error checking name popup:",e)}})()},2e3)),(()=>{const e=localStorage.getItem("last_queue_popup");if(!e)return!0;const t=new Date(parseInt(e)),a=new Date;return t.toDateString()!==a.toDateString()})()&&(W.current=setTimeout(async()=>{try{const{data:e}=await jo.get("/tickets/counts"),t=e.EM_ESPERA||0;R({isOpen:!0,title:"Fila de Espera",message:"Voc\xea est\xe1 na fila de espera. ".concat(t," pessoa(s) aguardando atendimento. Em breve voc\xea ser\xe1 atendido!"),icon:"queue"}),localStorage.setItem("last_queue_popup",Date.now().toString())}catch(e){console.error("Error getting queue count:",e)}},1e4))}catch(s){var t,n;o(e=>e.filter(e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith("temp-")})),console.error("Send error:",s),Bt.error((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erro ao enviar mensagem"),i(e)}finally{ee(!1)}},je=async e=>{const t=new FormData;t.append("file",e);const n=await jo.get("/agents");if(!n.data||0===n.data.length)return void Bt.error("Nenhum atendente dispon\xedvel");const s=n.data[0].id,r={id:"temp-file-".concat(Date.now()),from_type:"client",from_id:a.id,to_type:"agent",to_id:s,kind:"image",text:"",file_url:"uploading",created_at:(new Date).toISOString(),is_read:!1};o(e=>[...e,r]),setTimeout(()=>{var e;null===(e=q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100);try{const{data:e}=await jo.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}}),n=await jo.post("/messages",{ticket_id:"",from_type:"client",from_id:a.id,to_type:"agent",to_id:s,kind:e.kind,text:"",file_url:e.url});o(t=>t.map(t=>t.id===r.id?m(m({},n.data),{},{file_url:e.url,kind:e.kind}):t)),Bt.success("Arquivo enviado!"),console.log("\u2705 Arquivo enviado e exibido INSTANTANEAMENTE!")}catch(c){var l,i;o(e=>e.filter(e=>e.id!==r.id)),console.error("Upload error:",c),Bt.error((null===(l=c.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.detail)||"Erro ao enviar arquivo")}};return(0,Qt.jsxs)("div",{className:"fixed inset-0 bg-[#e5ddd5] flex flex-col overflow-hidden",children:[(0,Qt.jsx)("div",{className:"bg-[#075E54] text-white p-3 flex-shrink-0 z-20",children:(0,Qt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Qt.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,Qt.jsxs)("div",{className:"relative",children:[(0,Qt.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center overflow-hidden",children:X.support_avatar?(0,Qt.jsx)("img",{src:X.support_avatar,alt:"Suporte",className:"w-full h-full object-cover"}):(0,Qt.jsx)(Sv,{className:"w-5 h-5"})}),k&&(0,Qt.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-[#075E54]"})]}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("h1",{className:"font-semibold text-base",children:"Suporte"}),(0,Qt.jsx)("p",{className:"text-xs text-white/80",children:k?"online":"offline"})]})]}),(0,Qt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Qt.jsxs)(zn,{"data-testid":"notices-btn",variant:"ghost",size:"icon",onClick:()=>{f(!0),N(!1),localStorage.setItem("last_notice_count",S.toString())},className:"text-white hover:bg-white/10 h-9 w-9 relative ".concat(w?"pulse":""),children:[(0,Qt.jsx)(Bo,{className:"w-5 h-5 ".concat(w?"text-red-300":"")}),w&&(0,Qt.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),(0,Qt.jsx)(zn,{"data-testid":"settings-btn",variant:"ghost",size:"icon",onClick:()=>g(!0),className:"text-white hover:bg-white/10 h-9 w-9",children:(0,Qt.jsx)(Mo,{className:"w-5 h-5"})}),(0,Qt.jsx)(zn,{"data-testid":"client-logout-btn",variant:"ghost",size:"icon",onClick:()=>{localStorage.removeItem("client_credentials"),_o(),e("/")},className:"text-white hover:bg-white/10 h-9 w-9",children:(0,Qt.jsx)(Fo,{className:"w-5 h-5"})})]})]})}),(c.pinned_user||c.pinned_pass)&&(0,Qt.jsxs)("div",{className:"bg-cyan-100 border-b border-cyan-200 px-4 py-2 text-sm flex-shrink-0 z-10",children:[(0,Qt.jsx)("span",{className:"font-medium",children:"Usu\xe1rio:"})," ",c.pinned_user," \u2022",(0,Qt.jsx)("span",{className:"font-medium",children:"Senha:"})," ",c.pinned_pass]}),(0,Qt.jsx)("div",{className:"flex-1 overflow-y-auto p-4",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 10 L90 10 L90 90 L10 90 Z' fill='none' stroke='%23d9d9d9' stroke-width='0.5' opacity='0.1'/%3E%3C/svg%3E\")",backgroundColor:"#e5ddd5"},children:(0,Qt.jsxs)("div",{className:"space-y-3",children:[r.map((e,t)=>{var n,s;console.log("\ud83d\udcdd Renderizando mensagem:",{id:null===(n=e.id)||void 0===n?void 0:n.substring(0,8),from_type:e.from_type,kind:e.kind,text:null===(s=e.text)||void 0===s?void 0:s.substring(0,50),has_text:!!e.text});const o=0===t||new Date(r[t-1].created_at).toDateString()!==new Date(e.created_at).toDateString();return(0,Qt.jsxs)("div",{children:[o&&(0,Qt.jsx)("div",{className:"flex justify-center my-2",children:(0,Qt.jsx)("span",{className:"bg-[#E1F5FE] text-gray-700 text-xs px-3 py-1 rounded-md shadow-sm",children:new Date(e.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})})}),(0,Qt.jsxs)("div",{className:"flex gap-2 items-end ".concat("client"===e.from_type?"justify-end":"justify-start"),children:[("agent"===e.from_type||"ai"===e.from_type||"system"===e.from_type)&&(0,Qt.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center overflow-hidden flex-shrink-0",children:X.support_avatar?(0,Qt.jsx)("img",{src:X.support_avatar,alt:"Suporte",className:"w-full h-full object-cover"}):(0,Qt.jsx)(Sv,{className:"w-4 h-4 text-gray-400"})}),(0,Qt.jsxs)("div",{className:"max-w-[75%] px-3 py-2 rounded-lg shadow-sm ".concat("client"===e.from_type?"bg-[#DCF8C6] text-gray-900 rounded-br-none":"ai"===e.from_type?"bg-[#E1F5FE] text-gray-900 rounded-bl-none border border-blue-200":"bg-white text-gray-900 rounded-bl-none border border-gray-200"),children:[e.text&&(0,Qt.jsx)("p",{className:"whitespace-pre-wrap break-words text-sm",style:{minHeight:"20px"},dangerouslySetInnerHTML:{__html:e.text.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank" rel="noopener noreferrer" class="underline text-blue-300 hover:text-blue-100">$1</a>')}}),"image"===e.kind&&(e.media_expired?(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg text-gray-500 text-sm max-w-[250px]",children:[(0,Qt.jsx)("span",{children:"\ud83d\udcf7"}),(0,Qt.jsx)("span",{children:"Imagem expirada (7 dias)"})]}):e.file_url?(0,Qt.jsx)("img",{src:e.file_url,alt:"Imagem",className:"max-w-[250px] max-h-[250px] w-auto h-auto object-contain rounded-lg mt-2 cursor-pointer hover:opacity-80 transition-opacity block",onClick:()=>Y(e.file_url),onError:t=>{console.error("Erro ao carregar imagem:",e.file_url),t.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><text x="50%" y="50%" text-anchor="middle" dy=".3em">\u274c Erro</text></svg>'}}):null),"video"===e.kind&&(e.media_expired?(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg text-gray-500 text-sm max-w-[250px]",children:[(0,Qt.jsx)("span",{children:"\ud83c\udfa5"}),(0,Qt.jsx)("span",{children:"V\xeddeo expirado (7 dias)"})]}):e.file_url?(0,Qt.jsx)("video",{src:e.file_url,controls:!0,preload:"metadata",className:"max-w-[250px] max-h-[250px] w-auto h-auto rounded-lg mt-2 block bg-black",onError:t=>{console.error("\u274c Erro ao carregar v\xeddeo:",e.file_url),console.error("Detalhes:",t),t.target.style.display="none";const a=document.createElement("div");a.className="flex flex-col items-center gap-2 p-3 bg-red-50 rounded-lg text-red-600 text-sm max-w-[250px]",a.innerHTML='\n                            <span>\u274c</span>\n                            <span>Erro ao reproduzir v\xeddeo</span>\n                            <a href="'.concat(e.file_url,'" target="_blank" class="text-blue-500 underline text-xs">Tentar abrir em nova aba</a>\n                          '),t.target.parentNode.appendChild(a)},children:"Seu navegador n\xe3o suporta reprodu\xe7\xe3o de v\xeddeo."}):(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg text-gray-500 text-sm max-w-[250px]",children:[(0,Qt.jsx)("span",{children:"\ud83c\udfa5"}),(0,Qt.jsx)("span",{children:"V\xeddeo n\xe3o dispon\xedvel"})]})),"audio"===e.kind&&(e.media_expired?(0,Qt.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg text-gray-500 text-sm max-w-[250px]",children:[(0,Qt.jsx)("span",{children:"\ud83c\udfb5"}),(0,Qt.jsx)("span",{children:"\xc1udio expirado (7 dias)"})]}):e.file_url?(0,Qt.jsx)("div",{className:"mt-2",children:(0,Qt.jsx)(Mg,{src:e.file_url,isSentByMe:"client"===e.sender_type})}):null),"department_selection"===e.kind&&(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("p",{className:"font-semibold text-sm mb-3",children:e.text}),(0,Qt.jsx)("div",{className:"space-y-2",children:e.buttons&&e.buttons.map((t,a)=>(0,Qt.jsxs)(zn,{onClick:async()=>{try{await jo.post("/tickets/".concat(e.ticket_id,"/select-department"),{department_id:t.id}),Bt.success("Departamento selecionado: ".concat(t.label))}catch(a){Bt.error("Erro ao selecionar departamento")}},className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white justify-start",children:[(0,Qt.jsxs)("span",{className:"font-bold mr-2",children:[a+1,":"]}),(0,Qt.jsxs)("div",{className:"text-left",children:[(0,Qt.jsx)("div",{className:"font-semibold",children:t.label}),t.description&&(0,Qt.jsx)("div",{className:"text-xs opacity-80",children:t.description})]})]},t.id))})]}),"pix"===e.kind&&(0,Qt.jsx)("div",{className:"space-y-2",children:(0,Qt.jsx)(zn,{size:"sm",onClick:()=>{const t=e.pix_key||e.text;navigator.clipboard.writeText(t),Bt.success("Chave PIX copiada!")},className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"\ud83d\udcb0 Copiar Chave PIX"})}),(0,Qt.jsxs)("div",{className:"flex items-center justify-between mt-1 gap-2",children:["client"===e.from_type&&(null===a||void 0===a?void 0:a.display_name)&&(0,Qt.jsx)("span",{className:"text-[10px] font-semibold opacity-80",children:a.display_name}),(0,Qt.jsx)("p",{className:"text-[10px] opacity-70 ml-auto",children:new Date(e.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),"client"===e.from_type&&a.custom_avatar&&(0,Qt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:(0,Qt.jsx)("img",{src:a.custom_avatar,alt:"Voc\xea",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})})]})]},e.id)}),(0,Qt.jsx)("div",{ref:q})]})}),(0,Qt.jsx)("div",{className:"bg-[#F0F0F0] p-2 flex-shrink-0 z-10",children:(0,Qt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Qt.jsx)("input",{ref:U,type:"file",className:"hidden",accept:"image/*,video/*",onChange:e=>e.target.files[0]&&je(e.target.files[0])}),(0,Qt.jsx)(zn,{"data-testid":"attach-btn",variant:"ghost",size:"icon",onClick:()=>{var e;return null===(e=U.current)||void 0===e?void 0:e.click()},className:"text-gray-600 hover:bg-gray-200 h-10 w-10",children:(0,Qt.jsx)(zx,{className:"w-5 h-5"})}),(0,Qt.jsxs)("div",{className:"flex-1 bg-white rounded-full px-4 py-2 flex items-center gap-2",children:[(0,Qt.jsx)(On,{ref:ie,"data-testid":"client-message-input",placeholder:"Mensagem",value:l,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ye())},className:"flex-1 border-none focus:ring-0 px-0 bg-transparent"}),(0,Qt.jsx)(zn,{"data-testid":"record-btn",variant:"ghost",size:"icon",onClick:y?()=>{V.current&&"inactive"!==V.current.state&&(V.current.stop(),j(!1))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),a=[];t.ondataavailable=e=>a.push(e.data),t.onstop=async()=>{const t=new Blob(a,{type:"audio/webm"}),n=new File([t],"audio.webm",{type:"audio/webm"});await je(n),e.getTracks().forEach(e=>e.stop())},t.start(),V.current=t,j(!0),setTimeout(()=>{"inactive"!==t.state&&(t.stop(),j(!1))},6e4)}catch(e){Bt.error("Erro ao acessar microfone")}},className:"h-8 w-8 ".concat(y?"bg-red-100 text-red-600":"text-gray-600 hover:bg-gray-100"),children:(0,Qt.jsx)(If,{className:"w-5 h-5"})})]}),(0,Qt.jsx)(zn,{"data-testid":"send-message-btn",onClick:ye,disabled:Z||!l.trim(),className:"bg-[#075E54] hover:bg-[#064d44] h-10 w-10 rounded-full p-0 disabled:opacity-50 disabled:cursor-not-allowed",children:Z?(0,Qt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,Qt.jsx)(Cx,{className:"w-5 h-5"})})]})}),(0,Qt.jsx)(nu,{open:E,onOpenChange:A,children:(0,Qt.jsxs)(lu,{className:"max-w-sm",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{className:"text-center text-2xl",children:"\ud83d\udce2 NOVO AVISO"})}),(0,Qt.jsxs)("div",{className:"flex flex-col items-center gap-4 py-4",children:[(0,Qt.jsxs)("p",{className:"text-center text-lg",children:["Voc\xea tem ",u.length," aviso(s) importante(s) para visualizar!"]}),(0,Qt.jsx)(zn,{onClick:()=>{A(!1),f(!0),N(!1),localStorage.setItem("last_notice_count",u.length.toString())},className:"w-full bg-purple-600 hover:bg-purple-700 text-lg py-6",children:"Abrir"}),(0,Qt.jsx)(zn,{variant:"ghost",onClick:()=>{A(!1),localStorage.setItem("last_notice_count",u.length.toString())},className:"text-sm",children:"Fechar"})]})]})}),(0,Qt.jsx)(nu,{open:h,onOpenChange:f,children:(0,Qt.jsxs)(lu,{"data-testid":"notices-dialog",className:"max-w-md",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\ud83d\udce2 Avisos Importantes"})}),(0,Qt.jsx)(Pg,{className:"max-h-[400px]",children:(0,Qt.jsx)("div",{className:"space-y-4",children:0===u.length?(0,Qt.jsx)("p",{className:"text-center text-slate-500 py-8",children:"Nenhum aviso no momento"}):u.map(e=>(0,Qt.jsxs)(Un,{className:"p-4",children:[(0,Qt.jsx)("h3",{className:"font-semibold text-lg mb-2",children:e.title||"Aviso"}),(0,Qt.jsx)("p",{className:"whitespace-pre-wrap",children:e.message}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-3",children:new Date(e.created_at).toLocaleString("pt-BR")})]},e.id))})})]})}),(0,Qt.jsx)(nu,{open:x,onOpenChange:g,children:(0,Qt.jsxs)(lu,{"data-testid":"settings-dialog",className:"max-w-md",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"Configura\xe7\xf5es"})}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700 block mb-2",children:"Seu Nome"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{"data-testid":"client-name-input",placeholder:"Digite seu nome",value:a.display_name||"",onChange:e=>n(m(m({},a),{},{display_name:e.target.value})),className:"flex-1"}),(0,Qt.jsx)(zn,{"data-testid":"update-name-btn",onClick:()=>(async e=>{if(e&&""!==e.trim())try{await jo.put("/users/me/name",{name:e.trim()}),Bt.success("Nome atualizado com sucesso!"),n(t=>m(m({},t),{},{display_name:e.trim()}))}catch(s){var t,a;Bt.error((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Erro ao atualizar nome")}else Bt.error("Por favor, digite um nome")})(a.display_name),disabled:!a.display_name||""===a.display_name.trim(),children:"Salvar"})]}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Seu nome aparecer\xe1 nas conversas com o suporte"})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700 block mb-2",children:"Foto de Perfil"}),(0,Qt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Qt.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:a.custom_avatar?(0,Qt.jsx)("img",{src:a.custom_avatar,alt:"Perfil",className:"w-full h-full object-cover",onError:e=>{console.error("\u274c Erro ao carregar avatar:",a.custom_avatar),e.target.style.display="none",e.target.parentElement.innerHTML='<svg class="w-8 h-8 text-gray-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>'}}):(0,Qt.jsx)(Eo,{className:"w-8 h-8 text-gray-400"})}),(0,Qt.jsxs)("div",{className:"flex-1",children:[(0,Qt.jsx)("input",{ref:ne,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/")){ae(!0);try{const e=new FormData;e.append("file",t);const{data:a}=await jo.post("/users/me/avatar",e,{headers:{"Content-Type":"multipart/form-data"}});n(e=>m(m({},e),{},{custom_avatar:a.avatar_url})),Bt.success("Foto atualizada com sucesso!")}catch(a){Bt.error("Erro ao fazer upload da foto"),console.error("Upload error:",a)}finally{ae(!1)}}else Bt.error("Por favor, selecione uma imagem")},className:"hidden"}),(0,Qt.jsx)(zn,{onClick:()=>{var e;return null===(e=ne.current)||void 0===e?void 0:e.click()},disabled:te,variant:"outline",size:"sm",children:te?"Enviando...":"Alterar Foto"}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Clique para enviar uma foto"})]})]})]}),(0,Qt.jsxs)("div",{children:[(0,Qt.jsx)("label",{className:"text-sm font-medium text-slate-700 block mb-2",children:"Alterar PIN (2 d\xedgitos)"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(On,{"data-testid":"new-pin-input",type:"password",placeholder:"Novo PIN",value:v,onChange:e=>b(e.target.value.replace(/\D/g,"").slice(0,2)),maxLength:2}),(0,Qt.jsx)(zn,{"data-testid":"update-pin-btn",onClick:async()=>{try{await jo.put("/users/me/pin",{pin:v}),Bt.success("PIN atualizado!"),b(""),g(!1)}catch(a){var e,t;Bt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erro ao atualizar PIN")}},children:"Atualizar"})]})]}),(0,Qt.jsxs)("div",{className:"pt-4 border-t",children:[(0,Qt.jsxs)("p",{className:"text-sm text-slate-600",children:[(0,Qt.jsx)("span",{className:"font-medium",children:"WhatsApp:"})," ",a.whatsapp]}),a.display_name&&(0,Qt.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:[(0,Qt.jsx)("span",{className:"font-medium",children:"Nome:"})," ",a.display_name]})]})]})]})}),(0,Qt.jsx)(Cv,{isOpen:T.isOpen,onClose:()=>R(m(m({},T),{},{isOpen:!1})),title:T.title,message:T.message,icon:T.icon,autoCloseDelay:3e4}),(0,Qt.jsx)(nu,{open:P,onOpenChange:z,children:(0,Qt.jsxs)(lu,{"data-testid":"name-dialog",className:"max-w-md",children:[(0,Qt.jsx)(iu,{children:(0,Qt.jsx)(cu,{children:"\ud83d\udc64 Como voc\xea gostaria de ser chamado?"})}),(0,Qt.jsxs)("div",{className:"space-y-4",children:[(0,Qt.jsx)("p",{className:"text-sm text-slate-600",children:"Digite seu nome para um atendimento mais personalizado:"}),(0,Qt.jsx)(On,{"data-testid":"name-input",placeholder:"Seu nome",value:I,onChange:e=>O(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),xe())},autoFocus:!0}),(0,Qt.jsx)("p",{className:"text-xs text-slate-500",children:"\ud83d\udca1 Digite apenas seu nome (ex: Jo\xe3o, Maria Silva)"}),(0,Qt.jsxs)("div",{className:"flex gap-2",children:[(0,Qt.jsx)(zn,{"data-testid":"name-skip-btn",variant:"outline",onClick:()=>z(!1),className:"flex-1",children:"Depois"}),(0,Qt.jsx)(zn,{"data-testid":"name-confirm-btn",onClick:xe,className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:"Confirmar"})]})]})]})}),(0,Qt.jsx)(Ev,{}),Q&&(0,Qt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>Y(null),children:(0,Qt.jsxs)("div",{className:"relative max-w-5xl max-h-full",children:[(0,Qt.jsx)("img",{src:Q,alt:"Imagem ampliada",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:e=>e.stopPropagation()}),(0,Qt.jsx)("button",{onClick:()=>Y(null),className:"absolute top-4 right-4 bg-white text-black rounded-full w-10 h-10 flex items-center justify-center hover:bg-gray-200 transition-colors",children:"\u2715"})]})}),(0,Qt.jsx)(nu,{open:se,onOpenChange:re,children:(0,Qt.jsxs)(lu,{className:"max-w-xs sm:max-w-sm",children:[(0,Qt.jsx)(iu,{className:"pb-2",children:(0,Qt.jsx)(cu,{className:"text-center text-base font-semibold",children:"Deseja sair do atendimento?"})}),(0,Qt.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[(0,Qt.jsx)(zn,{onClick:()=>re(!1),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3",children:"N\xe3o, Desejo ficar"}),(0,Qt.jsx)(zn,{variant:"outline",onClick:()=>{re(!1),handleLogout()},className:"w-full border-red-500 text-red-600 hover:bg-red-50 font-medium py-3",children:"Sim, Quero sair"})]})]})})]})},Pv="http://151.243.218.223";const zv=function(){const[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)([]),[r,o]=(0,s.useState)(""),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[f,x]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[b,y]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[N,k]=(0,s.useState)(""),[_,S]=(0,s.useState)(""),[C,E]=(0,s.useState)(""),[A,T]=(0,s.useState)({usuario:"",senha:""}),[R,P]=(0,s.useState)(!1),[z,I]=(0,s.useState)({name:"Assistente Virtual",photo:"",show_verified_badge:!0}),[O,D]=(0,s.useState)({is_enabled:!1,mode:"ia",buttons:[]}),[M,L]=(0,s.useState)([]),F=(0,s.useRef)(null),B=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{try{const e=await fetch("".concat(Pv,"/api/admin/vendas-bot/simple-config"));if(e.ok){const t=await e.json();t.agent_profile&&I(t.agent_profile)}}catch(e){console.error("Error loading agent profile:",e)}})()},[]),(0,s.useEffect)(()=>{const e=e=>{e.preventDefault(),window.deferredPrompt=e,console.log("\u2705 PWA pode ser instalado!")};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),(0,s.useEffect)(()=>{(()=>{var e;null===(e=F.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[a]),(0,s.useEffect)(()=>{const e=localStorage.getItem("vendas_whatsapp"),t=localStorage.getItem("vendas_name");q(e,t)},[]);const q=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{i(!0);const s=await fetch("".concat(Pv,"/api/vendas/start"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({whatsapp:e||void 0,name:a||void 0})}),r=await s.json();t(r.session_id),n(r.messages||[]),r.button_config?(D(r.button_config),r.button_config.buttons&&L(r.button_config.buttons),console.log("\ud83d\udd18 Sistema de bot\xf5es configurado:",r.button_config.mode),"button"===r.button_config.mode||e||h(!0)):e||h(!0)}catch(s){console.error("Erro:",s)}finally{i(!1)}},U=async t=>{if(null===t||void 0===t||t.preventDefault(),!r.trim()||!e||c)return;const a=r.trim();o(""),d(!0);try{const t=await fetch("".concat(Pv,"/api/vendas/message"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,text:a})}),s=await t.json();await new Promise(e=>setTimeout(e,1e4)),n(e=>[...e,...s.messages]),s.buttons&&L(s.buttons);const r=s.messages[s.messages.length-1];"REQUEST_TEST"===(null===r||void 0===r?void 0:r.button_action)&&setTimeout(()=>h(!0),1e3)}catch(s){console.error("Erro:",s),alert("Erro ao enviar mensagem.")}finally{d(!1)}},V=(t,a)=>{const s=t.target.files[0];if(!s)return;t.target.value="";const r="video"===a?50:"audio"===a?25:20;s.size>1024*r*1024?alert("Arquivo muito grande. M\xe1ximo: ".concat(r,"MB")):(async(t,a)=>{if(!t||!e)return;alert("Por favor, aguarde na conversa enquanto processamos o ".concat("audio"===a?"\xe1udio":"video"===a?"v\xeddeo":"foto","... \u23f3")),m(!0);try{const s=new FormData;s.append("file",t),s.append("session_id",e),s.append("media_type",a);const r=await fetch("".concat(Pv,"/api/vendas/media"),{method:"POST",body:s});if(!r.ok)throw new Error("Erro ao processar");const o=await r.json();n(e=>[...e,...o.messages])}catch(s){console.error("Erro:",s),alert("Erro ao processar arquivo. Tente novamente.")}finally{m(!1)}})(s,a)},W=e=>{e&&(n(e=>[...e,{from_type:"bot",text:"Caso voc\xea mude de ideia me chama nesse link de suporte!\n\nAt\xe9 mais! \ud83d\udc4b",timestamp:(new Date).toISOString()}]),setTimeout(()=>{window.location.href="/"},2e3)),v(!1)};return l?(0,Qt.jsx)("div",{className:"vendas-chat-container",children:(0,Qt.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"white"},children:[(0,Qt.jsx)(Of,{size:48,style:{animation:"spin 1s linear infinite",marginBottom:"16px"}}),(0,Qt.jsx)("p",{children:"Iniciando conversa..."})]})}):(0,Qt.jsxs)("div",{className:"vendas-chat-container",children:[(0,Qt.jsxs)("div",{className:"vendas-chat-header",children:[(0,Qt.jsxs)("div",{className:"vendas-chat-header-info",children:[(0,Qt.jsxs)("div",{className:"vendas-chat-avatar",children:[z.photo?(0,Qt.jsx)("img",{src:z.photo,alt:"Agente",style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}):null,(0,Qt.jsx)("span",{style:{display:z.photo?"none":"block",fontSize:"24px"},children:"\ud83e\udd16"})]}),(0,Qt.jsxs)("div",{className:"vendas-chat-title",children:[(0,Qt.jsxs)("p",{className:"vendas-chat-name",style:{display:"flex",alignItems:"center",gap:"4px"},children:[z.name||"Assistente Virtual",z.show_verified_badge&&(0,Qt.jsx)("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px",backgroundColor:"#1d9bf0",borderRadius:"50%",color:"white",fontSize:"10px",fontWeight:"bold",marginLeft:"2px"},title:"Verificado",children:"\u2713"})]}),(0,Qt.jsx)("p",{className:"vendas-chat-status",children:u?"Processando m\xeddia...":"Online"})]})]}),(0,Qt.jsx)("button",{className:"vendas-chat-close-btn",onClick:()=>{v(!0)},children:(0,Qt.jsx)(Xd,{size:20})})]}),(0,Qt.jsxs)("div",{className:"vendas-chat-messages-area",children:[a.map((e,t)=>((e,t)=>{const a="client"===e.from_type?"user":"bot",n=(e=>{if(!e)return e;const t=/(usuario|usu\xe1rio|senha|codigo|c\xf3digo|login|email|telefone|cpf|chave):\s*([^\s,;.\n]+)/gi;let a=[],n=0;e.replace(/(https?:\/\/[^\s]+|www\.[^\s]+)/gi,(t,s)=>{if(s>n){const t=e.substring(n,s);a.push({type:"text",content:t})}const r=t.startsWith("www.")?"https://".concat(t):t;a.push({type:"link",content:t,url:r}),n=s+t.length}),n<e.length&&a.push({type:"text",content:e.substring(n)}),0===a.length&&a.push({type:"text",content:e});const s=[];return a.forEach(e=>{if("text"===e.type){const a=[];let n=0;e.content.replace(t,(t,s,r,o)=>{o>n&&a.push({type:"text",content:e.content.substring(n,o)}),a.push({type:"highlight",label:s,value:r}),n=o+t.length}),n<e.content.length&&a.push({type:"text",content:e.content.substring(n)}),a.length>0?s.push(...a):s.push(e)}else s.push(e)}),s})(e.text);return(0,Qt.jsx)("div",{className:"vendas-message ".concat(a),children:(0,Qt.jsxs)("div",{className:"vendas-message-bubble",children:[(0,Qt.jsx)("div",{className:"vendas-message-text",children:Array.isArray(n)?n.map((e,t)=>"link"===e.type?(0,Qt.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#3b82f6",textDecoration:"underline",wordBreak:"break-all"},children:e.content},t):"highlight"===e.type?(0,Qt.jsxs)("span",{children:[(0,Qt.jsxs)("span",{style:{fontWeight:"normal"},children:[e.label,": "]}),(0,Qt.jsx)("strong",{style:{backgroundColor:"#fef3c7",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold",color:"#92400e"},children:e.value})]},t):(0,Qt.jsx)("span",{children:e.content},t)):(0,Qt.jsx)("span",{children:e.text})}),"REQUEST_TEST"===e.button_action&&(0,Qt.jsx)("button",{className:"vendas-action-button",onClick:()=>h(!0),children:"\ud83d\ude80 CONECTAR AGORA"}),(0,Qt.jsx)("span",{className:"vendas-message-time",children:new Date(e.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},t)})(e,t)),c&&(0,Qt.jsx)("div",{className:"vendas-message bot",children:(0,Qt.jsxs)("div",{className:"vendas-typing-indicator",children:[(0,Qt.jsx)("div",{className:"vendas-typing-dot"}),(0,Qt.jsx)("div",{className:"vendas-typing-dot"}),(0,Qt.jsx)("div",{className:"vendas-typing-dot"})]})}),u&&(0,Qt.jsx)("div",{className:"vendas-message bot",children:(0,Qt.jsx)("div",{className:"vendas-message-bubble",children:(0,Qt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Qt.jsx)(Of,{size:16,style:{animation:"spin 1s linear infinite"}}),(0,Qt.jsx)("span",{children:"Processando arquivo..."})]})})}),(0,Qt.jsx)("div",{ref:F})]}),O.is_enabled&&M.length>0&&(0,Qt.jsx)("div",{className:"vendas-buttons-container",style:{padding:"16px",display:"flex",flexDirection:"column",gap:"8px",backgroundColor:"#f5f5f5",borderTop:"1px solid #e0e0e0"},children:M.map(t=>(0,Qt.jsx)("button",{onClick:()=>(async(t,a)=>{if(e&&!c){d(!0);try{const s={message_id:Date.now().toString(),from_type:"client",text:a,timestamp:(new Date).toISOString(),has_button:!1};n(e=>[...e,s]);const r=await fetch("".concat(Pv,"/api/vendas/button-click"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,button_id:t})});if(!r.ok)throw new Error("Erro ao processar bot\xe3o");const o=await r.json();n(e=>[...e,o.message]),o.has_sub_buttons&&o.buttons&&o.buttons.length>0?L(o.buttons):L([]),console.log("\u2705 Bot\xe3o processado:",a)}catch(s){console.error("\u274c Erro ao processar bot\xe3o:",s),alert("Erro ao processar sua escolha. Tente novamente.")}finally{d(!1)}}})(t.id,t.label),disabled:c,style:{padding:"12px 16px",backgroundColor:"#25D366",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"500",cursor:c?"not-allowed":"pointer",opacity:c?.6:1,transition:"all 0.2s",textAlign:"left",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:e=>{c||(e.target.style.backgroundColor="#1fb855",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)")},onMouseLeave:e=>{c||(e.target.style.backgroundColor="#25D366",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)")},children:t.label},t.id))}),(0,Qt.jsxs)("div",{className:"vendas-chat-input-area",style:{display:O.is_enabled&&"button"===O.mode?"none":"flex"},children:[(0,Qt.jsxs)("div",{className:"vendas-media-buttons",children:[(0,Qt.jsxs)("button",{className:"vendas-media-btn",title:"Enviar foto ou v\xeddeo",disabled:u,children:[(0,Qt.jsx)(Qf,{size:26}),(0,Qt.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:e=>{var t;return V(e,null!==(t=e.target.files[0])&&void 0!==t&&t.type.startsWith("video")?"video":"image")},disabled:u})]}),(0,Qt.jsxs)("button",{className:"vendas-media-btn",title:"Enviar \xe1udio",disabled:u,children:[(0,Qt.jsx)(If,{size:26}),(0,Qt.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>V(e,"audio"),disabled:u})]})]}),(0,Qt.jsx)("div",{className:"vendas-input-wrapper",children:(0,Qt.jsx)("textarea",{ref:B,className:"vendas-chat-input",placeholder:"Digite uma mensagem...",value:r,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),U())},rows:1,disabled:c||u})}),(0,Qt.jsx)("button",{className:"vendas-send-btn",onClick:U,disabled:!r.trim()||c||u,children:(0,Qt.jsx)(Cx,{size:20})})]}),p&&(0,Qt.jsx)("div",{className:"vendas-popup-overlay",children:(0,Qt.jsxs)("div",{className:"vendas-popup",children:[(0,Qt.jsx)("h3",{children:"\ud83d\udcf1 Digite seus dados"}),(0,Qt.jsx)("p",{children:"Para gerar o teste, precisamos do seu nome, WhatsApp e uma senha de 2 d\xedgitos"}),(0,Qt.jsx)("input",{type:"text",placeholder:"Nome (ex: Jo\xe3o)",value:C,onChange:e=>E(e.target.value),className:"vendas-popup-input"}),(0,Qt.jsx)("input",{type:"tel",placeholder:"WhatsApp (ex: 11999999999)",value:N,onChange:e=>k(e.target.value.replace(/\D/g,"")),maxLength:"11",className:"vendas-popup-input"}),(0,Qt.jsx)("input",{type:"text",placeholder:"Senha de 2 d\xedgitos (ex: 42)",value:_,onChange:e=>S(e.target.value.replace(/\D/g,"")),maxLength:"2",className:"vendas-popup-input"}),(0,Qt.jsx)("button",{className:"vendas-popup-btn",onClick:async()=>{C.trim()&&N&&_&&2===_.length?(w({clientName:C,whatsapp:N,pin:_}),h(!1),y(!0)):alert("Preencha Nome, WhatsApp e PIN de 2 d\xedgitos!")},disabled:R||!C.trim()||!N||2!==_.length,children:R?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Of,{size:16,style:{animation:"spin 1s linear infinite"}}),"Gerando..."]}):"\ud83c\udf89 GERAR TESTE"}),(0,Qt.jsx)("button",{className:"vendas-popup-btn-cancel",onClick:()=>{N&&localStorage.setItem("vendas_whatsapp",N),C&&localStorage.setItem("vendas_name",C),q(N,C),h(!1)},children:"Continuar sem gerar teste"})]})}),b&&(0,Qt.jsx)("div",{className:"vendas-popup-overlay",children:(0,Qt.jsxs)("div",{className:"vendas-popup",children:[(0,Qt.jsx)("h3",{children:"\ud83d\udcf1 Instalar Aplicativo"}),(0,Qt.jsxs)("p",{style:{marginBottom:"20px"},children:["Antes de gerar o teste gr\xe1tis, voc\xea precisa instalar nosso aplicativo ",(0,Qt.jsx)("strong",{children:"suporte.help"})]}),(0,Qt.jsx)("div",{style:{background:"#f3f4f6",padding:"16px",borderRadius:"8px",marginBottom:"20px"},children:(0,Qt.jsx)("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:"\u2139\ufe0f O aplicativo \xe9 necess\xe1rio para voc\xea utilizar suas credenciais de teste"})}),(0,Qt.jsx)("p",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"16px"},children:"Voc\xea j\xe1 instalou o aplicativo?"}),(0,Qt.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,Qt.jsx)("button",{className:"vendas-popup-btn",onClick:async()=>{if(j){P(!0);try{const{clientName:t,whatsapp:a,pin:s}=j;localStorage.setItem("vendas_name",t),localStorage.setItem("vendas_whatsapp",a);const r=await fetch("".concat(Pv,"/api/vendas/request-test"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,whatsapp:a,pin:s,name:t})}),o=await r.json();o.success?(T({usuario:o.usuario,senha:o.senha}),y(!1),x(!0),n(e=>[...e,{from_type:"bot",text:o.message,timestamp:(new Date).toISOString()}])):(alert(o.message||"Erro ao gerar teste"),y(!1))}catch(t){console.error("Erro:",t),alert("Erro ao solicitar teste"),y(!1)}finally{P(!1),w(null)}}},disabled:R,style:{flex:1},children:R?(0,Qt.jsxs)(Qt.Fragment,{children:[(0,Qt.jsx)(Of,{size:16,style:{animation:"spin 1s linear infinite"}}),"Gerando..."]}):"\u2705 SIM, INSTALAR"}),(0,Qt.jsx)("button",{className:"vendas-popup-btn-cancel",onClick:()=>{y(!1),n(e=>[...e,{from_type:"bot",text:"\u274c N\xe3o foi poss\xedvel gerar o teste gr\xe1tis.\n\nPara receber suas credenciais, voc\xea precisa instalar o aplicativo suporte.help.\n\nDeseja instalar o aplicativo agora?",timestamp:(new Date).toISOString()}]),setTimeout(()=>{y(!0)},1500)},disabled:R,style:{flex:1},children:"\u274c N\xc3O INSTALEI"})]}),(0,Qt.jsx)("p",{style:{fontSize:"12px",color:"#888",marginTop:"16px",textAlign:"center"},children:'Clique em "SIM, INSTALAR" quando tiver instalado o app'})]})}),f&&(0,Qt.jsx)("div",{className:"vendas-popup-overlay",children:(0,Qt.jsxs)("div",{className:"vendas-popup",children:[(0,Qt.jsx)("h3",{children:"\ud83c\udf89 Teste Criado!"}),(0,Qt.jsx)("p",{children:"Suas credenciais foram geradas com sucesso:"}),(0,Qt.jsxs)("div",{className:"vendas-credentials",children:[(0,Qt.jsxs)("div",{className:"vendas-credential-item",children:[(0,Qt.jsx)("strong",{children:"\ud83d\udc64 Usu\xe1rio:"}),(0,Qt.jsx)("span",{children:A.usuario})]}),(0,Qt.jsxs)("div",{className:"vendas-credential-item",children:[(0,Qt.jsx)("strong",{children:"\ud83d\udd10 Senha:"}),(0,Qt.jsx)("span",{children:A.senha})]})]}),(0,Qt.jsxs)("button",{className:"vendas-popup-btn",onClick:async()=>{x(!1),localStorage.setItem("iaze_whatsapp",N),localStorage.setItem("iaze_pin",_),localStorage.setItem("iaze_iptv_user",A.usuario),localStorage.setItem("iaze_iptv_pass",A.senha),localStorage.setItem("iaze_from_vendas","true"),localStorage.setItem("iaze_vendas_session",e),console.log("\ud83d\udcbe Dados salvos no localStorage:"),console.log("  - iaze_whatsapp:",localStorage.getItem("iaze_whatsapp")),console.log("  - iaze_pin:",localStorage.getItem("iaze_pin")),console.log("  - iaze_from_vendas:",localStorage.getItem("iaze_from_vendas"));try{await fetch("".concat(Pv,"/api/vendas/migrate-session"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vendas_session_id:e,whatsapp:N,pin:_,credentials:A})}),console.log("\u2705 Sess\xe3o migrada com sucesso")}catch(t){console.error("Erro ao migrar sess\xe3o:",t)}if(window.deferredPrompt){window.deferredPrompt.prompt();const{outcome:e}=await window.deferredPrompt.userChoice;if("accepted"===e){console.log("\u2705 PWA instalado com sucesso!"),window.deferredPrompt=null,alert("\u2705 Nosso aplicativo de SUPORTE j\xe1 est\xe1 instalado em seu celular!");const e=window.location.hostname,t="localhost"!==e&&"127.0.0.1"!==e?window.location.origin:"/";console.log("\ud83d\udd04 Redirecionando para:",t),window.location.href=t}else console.log("\u274c Usu\xe1rio recusou instala\xe7\xe3o"),alert("Por favor, instale o aplicativo para continuar com melhor experi\xeancia!")}else{console.log("\u2139\ufe0f PWA n\xe3o dispon\xedvel ou j\xe1 instalado"),alert("\u2705 Aplicativo pronto! Redirecionando para o suporte...");const e=window.location.hostname,t="localhost"!==e&&"127.0.0.1"!==e?window.location.origin:"/";console.log("\ud83d\udd04 Redirecionando para:",t),setTimeout(()=>{window.location.href=t},1e3)}},children:[(0,Qt.jsx)(vx,{size:16}),"BAIXAR APLICATIVO"]})]})}),g&&(0,Qt.jsx)("div",{className:"vendas-popup-overlay",children:(0,Qt.jsxs)("div",{className:"vendas-popup",children:[(0,Qt.jsx)(tx,{size:48,style:{color:"#f59e0b",margin:"0 auto 16px"}}),(0,Qt.jsx)("h3",{children:"Voc\xea deseja continuar na p\xe1gina?"}),(0,Qt.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[(0,Qt.jsx)("button",{className:"vendas-popup-btn",onClick:()=>W(!1),children:"\u2705 SIM"}),(0,Qt.jsx)("button",{className:"vendas-popup-btn-cancel",onClick:()=>W(!0),children:"\u274c N\xc3O"})]})]})})]})},Iv=e=>{let{children:t,requiredType:a}=e;const{token:n,userType:s}=ko();if(console.log("\ud83d\udd10 PrivateRoute check:",{hasToken:!!n,userType:s,requiredType:a,tokenPreview:(null===n||void 0===n?void 0:n.substring(0,20))+"..."}),!n){console.log("\u274c No token found - redirecting to login");const e="admin"===a?"/admin/login":"agent"===a?"/atendente/login":"reseller"===a?"/revenda/login":"/";return(0,Qt.jsx)(Ie,{to:e,replace:!0})}if(a&&s!==a){console.log('\u274c UserType mismatch: "'.concat(s,'" !== "').concat(a,'"'));const e="admin"===a?"/admin/login":"agent"===a?"/atendente/login":"reseller"===a?"/revenda/login":"/";return(0,Qt.jsx)(Ie,{to:e,replace:!0})}return console.log("\u2705 PrivateRoute passed - rendering protected content"),t};const Ov=function(){return(0,Qt.jsxs)("div",{className:"App",children:[(0,Qt.jsx)(xt,{children:(0,Qt.jsxs)(Me,{children:[(0,Qt.jsx)(Oe,{path:"/",element:(0,Qt.jsx)(Po,{})}),(0,Qt.jsx)(Oe,{path:"/client/login",element:(0,Qt.jsx)(Po,{})}),(0,Qt.jsx)(Oe,{path:"/chat",element:(0,Qt.jsx)(Iv,{requiredType:"client",children:(0,Qt.jsx)(Rv,{})})}),(0,Qt.jsx)(Oe,{path:"/atendente/login",element:(0,Qt.jsx)(Ao,{})}),(0,Qt.jsx)(Oe,{path:"/atendente",element:(0,Qt.jsx)(Iv,{requiredType:"agent",children:(0,Qt.jsx)(Wg,{})})}),(0,Qt.jsx)(Oe,{path:"/admin/login",element:(0,Qt.jsx)(So,{})}),(0,Qt.jsx)(Oe,{path:"/admin",element:(0,Qt.jsx)(Iv,{requiredType:"admin",children:(0,Qt.jsx)(Tx,{})})}),(0,Qt.jsx)(Oe,{path:"/revenda/login",element:(0,Qt.jsx)(Oo,{})}),(0,Qt.jsx)(Oe,{path:"/reseller-login",element:(0,Qt.jsx)(Oo,{})}),(0,Qt.jsx)(Oe,{path:"/reseller-register",element:(0,Qt.jsx)(Do,{})}),(0,Qt.jsx)(Oe,{path:"/revenda/dashboard",element:(0,Qt.jsx)(Iv,{requiredType:"reseller",children:(0,Qt.jsx)(_v,{})})}),(0,Qt.jsx)(Oe,{path:"/vendas",element:(0,Qt.jsx)(zv,{})}),(0,Qt.jsx)(Oe,{path:"*",element:(0,Qt.jsx)(Ie,{to:"/"})})]})}),(0,Qt.jsx)(Yt,{position:"top-right",richColors:!0})]})};o.createRoot(document.getElementById("root")).render((0,Qt.jsx)(Ov,{})),"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)t.unregister(),console.log("\ud83d\uddd1\ufe0f Service Worker removido:",t.scope);console.log("\u2705 Todos os Service Workers foram removidos")}),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{caches.delete(e),console.log("\ud83d\uddd1\ufe0f Cache removido:",e)})}))})();
//# sourceMappingURL=main.6d5c6e19.js.map